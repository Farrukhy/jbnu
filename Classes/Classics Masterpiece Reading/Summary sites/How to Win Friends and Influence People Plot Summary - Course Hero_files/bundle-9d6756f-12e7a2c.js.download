Davis=function(config){var app=new Davis.App;config&&config.call(app);Davis.$(function(){app.start()});return app};if(window.jQuery){Davis.$=jQuery}else{Davis.$=null}Davis.supported=function(){return typeof window.history.pushState=="function"};Davis.noop=function(){};Davis.extend=function(extension){extension(Davis)};Davis.version="0.9.9";Davis.utils=function(){if(Array.prototype.every){var every=function(array,fn){return array.every(fn,arguments[2])}}else{var every=function(array,fn){if(array===void 0||array===null)throw new TypeError;var t=Object(array);var len=t.length>>>0;if(typeof fn!=="function")throw new TypeError;var thisp=arguments[2];for(var i=0;i<len;i++){if(i in t&&!fn.call(thisp,t[i],i,t))return false}return true}}if(Array.prototype.forEach){var forEach=function(array,fn){return array.forEach(fn,arguments[2])}}else{var forEach=function(array,fn){if(array===void 0||array===null)throw new TypeError;var t=Object(array);var len=t.length>>>0;if(typeof fn!=="function")throw new TypeError;var thisp=arguments[2];for(var i=0;i<len;i++){if(i in t)fn.call(thisp,t[i],i,t)}}}if(Array.prototype.filter){var filter=function(array,fn){return array.filter(fn,arguments[2])}}else{var filter=function(array,fn){if(array===void 0||array===null)throw new TypeError;var t=Object(array);var len=t.length>>>0;if(typeof fn!=="function")throw new TypeError;var res=[];var thisp=arguments[2];for(var i=0;i<len;i++){if(i in t){var val=t[i];if(fn.call(thisp,val,i,t))res.push(val)}}return res}}if(Array.prototype.map){var map=function(array,fn){return array.map(fn,arguments[2])}}else{var map=function(array,fn){if(array===void 0||array===null)throw new TypeError;var t=Object(array);var len=t.length>>>0;if(typeof fn!=="function")throw new TypeError;var res=new Array(len);var thisp=arguments[2];for(var i=0;i<len;i++){if(i in t)res[i]=fn.call(thisp,t[i],i,t)}return res}}var toArray=function(args,start){return Array.prototype.slice.call(args,start||0)};return{every:every,forEach:forEach,filter:filter,toArray:toArray,map:map}}();Davis.listener=function(){var originChecks={A:function(elem){return elem.host!==window.location.host||elem.protocol!==window.location.protocol},FORM:function(elem){var a=document.createElement("a");a.href=elem.action;return this.A(a)}};var differentOrigin=function(elem){if(!originChecks[elem.nodeName.toUpperCase()])return true;return originChecks[elem.nodeName.toUpperCase()](elem)};var hasModifier=function(event){return event.altKey||event.ctrlKey||event.metaKey||event.shiftKey};var handler=function(targetExtractor){return function(event){if(hasModifier(event))return true;if(differentOrigin(this))return true;var request=new Davis.Request(targetExtractor.call(Davis.$(this)));Davis.location.assign(request);event.stopPropagation();event.preventDefault();return false}};var clickHandler=handler(function(){var self=this;return{method:"get",fullPath:this.prop("href"),title:this.attr("title"),delegateToServer:function(){window.location=self.prop("href")}}});var submitHandler=handler(function(){var self=this;return{method:this.attr("method"),fullPath:this.serialize()?[this.prop("action"),this.serialize()].join("?"):this.prop("action"),title:this.attr("title"),delegateToServer:function(){self.submit()}}});this.listen=function(){Davis.$(document).delegate(this.settings.formSelector,"submit",submitHandler);Davis.$(document).delegate(this.settings.linkSelector,"click",clickHandler)};this.unlisten=function(){Davis.$(document).undelegate(this.settings.linkSelector,"click",clickHandler);Davis.$(document).undelegate(this.settings.formSelector,"submit",submitHandler)}};Davis.event=function(){var callbacks={};this.bind=function(event,fn){(callbacks[event]=callbacks[event]||[]).push(fn);return this};this.trigger=function(event){var args=Davis.utils.toArray(arguments,1),handlers=callbacks[event];if(!handlers)return this;for(var i=0,len=handlers.length;i<len;++i){handlers[i].apply(this,args)}return this}};Davis.logger=function(){function timestamp(){return"["+Date()+"]"}function prepArgs(args){var a=Davis.utils.toArray(args);a.unshift(timestamp());return a.join(" ")}var logType=function(logLevel){return function(){if(window.console)console[logLevel](prepArgs(arguments))}};var error=logType("error");var info=logType("info");var warn=logType("warn");this.logger={error:error,info:info,warn:warn}};Davis.Route=function(){var pathNameRegex=/:([\w\d]+)/g;var pathNameReplacement="([^/]+)";var splatNameRegex=/\*([\w\d]+)/g;var splatNameReplacement="(.*)";var nameRegex=/[:|\*]([\w\d]+)/g;var Route=function(method,path,handlers){var convertPathToRegExp=function(){if(!(path instanceof RegExp)){var str=path.replace(pathNameRegex,pathNameReplacement).replace(splatNameRegex,splatNameReplacement);path.lastIndex=0;return new RegExp("^"+str+"$","gi")}else{return path}};var convertMethodToRegExp=function(){if(!(method instanceof RegExp)){return new RegExp("^"+method+"$","i")}else{return method}};var capturePathParamNames=function(){var names=[],a;while(a=nameRegex.exec(path))names.push(a[1]);return names};this.paramNames=capturePathParamNames();this.path=convertPathToRegExp();this.method=convertMethodToRegExp();if(typeof handlers==="function"){this.handlers=[handlers]}else{this.handlers=handlers}};Route.prototype.match=function(method,path){this.reset();return this.method.test(method)&&this.path.test(path)};Route.prototype.reset=function(){this.method.lastIndex=0;this.path.lastIndex=0};Route.prototype.run=function(request){this.reset();var matches=this.path.exec(request.path);if(matches){matches.shift();for(var i=0;i<matches.length;i++){request.params[this.paramNames[i]]=matches[i]}}var handlers=Davis.utils.map(this.handlers,function(handler,i){return function(req){return handler.call(req,req,handlers[i+1])}});return handlers[0](request)};Route.prototype.toString=function(){return[this.method,this.path].join(" ")};return Route}();Davis.router=function(){this.route=function(method,path){var createRoute=function(path){var handlers=Davis.utils.toArray(arguments,1),scope=scopePaths.join(""),fullPath,route;typeof path=="string"?fullPath=scope+path:fullPath=path;route=new Davis.Route(method,fullPath,handlers);routeCollection.push(route);return route};return arguments.length==1?createRoute:createRoute.apply(this,Davis.utils.toArray(arguments,1))};this.get=this.route("get");this.post=this.route("post");this.put=this.route("put");this.del=this.route("delete");this.state=this.route("state");this.scope=function(path,fn){scopePaths.push(path);if(arguments.length==1)return;fn.call(this,this);scopePaths.pop()};this.trans=function(path,data){if(data){var fullPath=[path,decodeURIComponent(Davis.$.param(data))].join("?")}else{var fullPath=path}var req=new Davis.Request({method:"state",fullPath:fullPath,title:""});Davis.location.assign(req)};this.filter=function(filterName){return function(){var method=/.+/;if(arguments.length==1){var path=/.+/;var handler=arguments[0]}else if(arguments.length==2){var path=scopePaths.join("")+arguments[0];var handler=arguments[1]}var route=new Davis.Route(method,path,handler);filterCollection[filterName].push(route);return route}};this.lookupFilter=function(filterType){return function(method,path){return Davis.utils.filter(filterCollection[filterType],function(route){return route.match(method,path)})}};this.before=this.filter("before");this.after=this.filter("after");this.lookupBeforeFilter=this.lookupFilter("before");this.lookupAfterFilter=this.lookupFilter("after");var routeCollection=[];var filterCollection={before:[],after:[]};var scopePaths=[];this.lookupRoute=function(method,path){return Davis.utils.filter(routeCollection,function(route){return route.match(method,path)})[0]}};Davis.history=function(){var pushStateHandlers=[];var popped=false;function onPushState(handler){pushStateHandlers.push(handler)}function onPopState(handler){window.addEventListener("popstate",handler,true)}function wrapped(handler){return function(event){if(event.state&&event.state._davis){handler(new Davis.Request(event.state._davis))}else{if(popped)handler(Davis.Request.forPageLoad())}popped=true}}function wrapStateData(data){return{_davis:data}}function onChange(handler){onPushState(handler);onPopState(wrapped(handler))}function changeStateWith(methodName){return function(request,opts){popped=true;history[methodName](wrapStateData(request.toJSON()),request.title,request.location());if(opts&&opts.silent)return;Davis.utils.forEach(pushStateHandlers,function(handler){handler(request)})}}var assign=changeStateWith("pushState");var replace=changeStateWith("replaceState");function current(){return window.location.pathname+(window.location.search?window.location.search:"")}return{onChange:onChange,current:current,assign:assign,replace:replace}}();Davis.location=function(){var locationDelegate=Davis.history;function setLocationDelegate(delegate){locationDelegate=delegate}function current(){return locationDelegate.current()}function sendLocationDelegate(methodName){return function(req,opts){if(typeof req=="string")req=new Davis.Request(req);locationDelegate[methodName](req,opts)}}var assign=sendLocationDelegate("assign");var replace=sendLocationDelegate("replace");function onChange(handler){locationDelegate.onChange(handler)}return{setLocationDelegate:setLocationDelegate,current:current,assign:assign,replace:replace,onChange:onChange}}();Davis.Request=function(){var Request=function(fullPath,opts){if(typeof fullPath=="object"){opts=fullPath;fullPath=opts.fullPath;delete opts.fullPath}var raw=Davis.$.extend({},{title:"",fullPath:fullPath,method:"get",timestamp:+new Date},opts);raw.fullPath=raw.fullPath.replace(/\+/g,"%20");var self=this;this.raw=raw;this.params={};this.title=raw.title;this.queryString=raw.fullPath.split("?")[1];this.timestamp=raw.timestamp;this._staleCallback=function(){};if(this.queryString){Davis.utils.forEach(this.queryString.split("&"),function(keyval){var paramName=decodeURIComponent(keyval.split("=")[0]),paramValue=keyval.split("=")[1],nestedParamRegex=/^(\w+)\[(\w+)?\](\[\])?/,nested;if(nested=nestedParamRegex.exec(paramName)){var paramParent=nested[1];var paramName=nested[2];var isArray=!!nested[3];var parentParams=self.params[paramParent]||{};if(isArray){parentParams[paramName]=parentParams[paramName]||[];parentParams[paramName].push(decodeURIComponent(paramValue));self.params[paramParent]=parentParams}else if(!paramName&&!isArray){parentParams=self.params[paramParent]||[];parentParams.push(decodeURIComponent(paramValue));self.params[paramParent]=parentParams}else{parentParams[paramName]=decodeURIComponent(paramValue);self.params[paramParent]=parentParams}}else{self.params[paramName]=decodeURIComponent(paramValue)}})}raw.fullPath=raw.fullPath.replace(/^https?:\/\/.+?\//,"/");this.method=(this.params._method||raw.method).toLowerCase();this.path=raw.fullPath.replace(/\?(.|[\r\n])+$/,"").replace(/^https?:\/\/[^\/]+/,"");this.fullPath=raw.fullPath;this.delegateToServer=raw.delegateToServer||Davis.noop;this.isForPageLoad=raw.forPageLoad||false;if(Request.prev)Request.prev.makeStale(this);Request.prev=this};Request.prototype.redirect=function(path,opts){Davis.location.replace(new Request({method:"get",fullPath:path,title:this.title}),opts)};Request.prototype.whenStale=function(callback){this._staleCallback=callback};Request.prototype.makeStale=function(req){this._staleCallback.call(req,req)};Request.prototype.location=function(){return this.method==="get"?decodeURI(this.fullPath):""};Request.prototype.toString=function(){return[this.method.toUpperCase(),this.path].join(" ")};Request.prototype.toJSON=function(){return{title:this.raw.title,fullPath:this.raw.fullPath,method:this.raw.method,timestamp:this.raw.timestamp}};Request.forPageLoad=function(){return new this({method:"get",fullPath:Davis.location.current(),title:document.title,forPageLoad:true})};Request.prev=null;return Request}();Davis.App=function(){function App(){this.running=false;this.boundToInternalEvents=false;this.use(Davis.listener);this.use(Davis.event);this.use(Davis.router);this.use(Davis.logger)}App.prototype.configure=function(config){config.call(this.settings,this.settings)};App.prototype.use=function(plugin){plugin.apply(this,Davis.utils.toArray(arguments,1))};App.prototype.helpers=function(helpers){for(property in helpers){if(helpers.hasOwnProperty(property))Davis.Request.prototype[property]=helpers[property]}};App.prototype.settings={linkSelector:"a",formSelector:"form",throwErrors:true,handleRouteNotFound:false,generateRequestOnPageLoad:false};App.prototype.start=function(){var self=this;if(this.running)return;if(!Davis.supported()){this.trigger("unsupported");return}var runFilterWith=function(request){return function(filter){var result=filter.run(request,request);return typeof result==="undefined"||result}};var beforeFiltersPass=function(request){return Davis.utils.every(self.lookupBeforeFilter(request.method,request.path),runFilterWith(request))};var handleRequest=function(request){if(beforeFiltersPass(request)){self.trigger("lookupRoute",request);var route=self.lookupRoute(request.method,request.path);if(route){self.trigger("runRoute",request,route);try{route.run(request);self.trigger("routeComplete",request,route)}catch(error){self.trigger("routeError",request,route,error)}Davis.utils.every(self.lookupAfterFilter(request.method,request.path),runFilterWith(request))}else{self.trigger("routeNotFound",request)}}else{self.trigger("requestHalted",request)}};var bindToInternalEvents=function(){self.bind("runRoute",function(request){self.logger.info("runRoute: "+request.toString())}).bind("routeNotFound",function(request){if(!self.settings.handleRouteNotFound&&!request.isForPageLoad){self.stop();request.delegateToServer()}self.logger.warn("routeNotFound: "+request.toString())}).bind("start",function(){self.logger.info("application started")}).bind("stop",function(){self.logger.info("application stopped")}).bind("routeError",function(request,route,error){if(self.settings.throwErrors)throw error;self.logger.error(error.message,error.stack)});Davis.location.onChange(function(req){handleRequest(req)});self.boundToInternalEvents=true};if(!this.boundToInternalEvents)bindToInternalEvents();this.listen();this.trigger("start");this.running=true;if(this.settings.generateRequestOnPageLoad)handleRequest(Davis.Request.forPageLoad())};App.prototype.stop=function(){this.unlisten();this.trigger("stop");this.running=false};return App}();window.smoothScroll=function(window,document,undefined){"use strict";var _defaults={speed:800,easing:"easeInOutCubic",offset:0,updateURL:false,callbackBefore:function(){},callbackAfter:function(){}};var _mergeObjects=function(original,updates){for(var key in updates){original[key]=updates[key]}return original};var _easingPattern=function(type,time){if(type=="easeInQuad")return time*time;if(type=="easeOutQuad")return time*(2-time);if(type=="easeInOutQuad")return time<.5?2*time*time:-1+(4-2*time)*time;if(type=="easeInCubic")return time*time*time;if(type=="easeOutCubic")return--time*time*time+1;if(type=="easeInOutCubic")return time<.5?4*time*time*time:(time-1)*(2*time-2)*(2*time-2)+1;if(type=="easeInQuart")return time*time*time*time;if(type=="easeOutQuart")return 1- --time*time*time*time;if(type=="easeInOutQuart")return time<.5?8*time*time*time*time:1-8*--time*time*time*time;if(type=="easeInQuint")return time*time*time*time*time;if(type=="easeOutQuint")return 1+--time*time*time*time*time;if(type=="easeInOutQuint")return time<.5?16*time*time*time*time*time:1+16*--time*time*time*time*time;return time};var _getEndLocation=function(anchor,headerHeight,offset){var location=0;if(anchor.offsetParent){do{location+=anchor.offsetTop;anchor=anchor.offsetParent}while(anchor)}location=location-headerHeight-offset;if(location>=0){return location}else{return 0}};var _getDocumentHeight=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)};var _getDataOptions=function(options){if(options===null||options===undefined){return{}}else{var settings={};options=options.split(";");options.forEach(function(option){option=option.trim();if(option!==""){option=option.split(":");settings[option[0]]=option[1].trim()}});return settings}};var _updateURL=function(anchor,url){if((url===true||url==="true")&&history.pushState){history.pushState({pos:anchor.id},"",anchor)}};var animateScroll=function(toggle,anchor,options,event){options=_mergeObjects(_defaults,options||{});var overrides=_getDataOptions(toggle?toggle.getAttribute("data-options"):null);var speed=parseInt(overrides.speed||options.speed,10);var easing=overrides.easing||options.easing;var offset=parseInt(overrides.offset||options.offset,10);var updateURL=overrides.updateURL||options.updateURL;var fixedHeader=document.querySelector("[data-scroll-header]");var headerHeight=fixedHeader===null?0:fixedHeader.offsetHeight+fixedHeader.offsetTop;var startLocation=window.pageYOffset;var endLocation=_getEndLocation(document.querySelector(anchor),headerHeight,offset);var animationInterval;var distance=endLocation-startLocation;var documentHeight=_getDocumentHeight();var timeLapsed=0;var percentage,position;if(toggle&&toggle.tagName==="A"&&event){event.preventDefault()}_updateURL(anchor,updateURL);var _stopAnimateScroll=function(position,endLocation,animationInterval){var currentLocation=window.pageYOffset;if(position==endLocation||currentLocation==endLocation||window.innerHeight+currentLocation>=documentHeight){clearInterval(animationInterval);options.callbackAfter(toggle,anchor)}};var _loopAnimateScroll=function(){timeLapsed+=16;percentage=timeLapsed/speed;percentage=percentage>1?1:percentage;position=startLocation+distance*_easingPattern(easing,percentage);window.scrollTo(0,Math.floor(position));_stopAnimateScroll(position,endLocation,animationInterval)};var _startAnimateScroll=function(){options.callbackBefore(toggle,anchor);animationInterval=setInterval(_loopAnimateScroll,16)};if(window.pageYOffset===0){window.scrollTo(0,0)}_startAnimateScroll()};var init=function(options){if("querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach){options=_mergeObjects(_defaults,options||{});var toggles=document.querySelectorAll("[data-scroll]");Array.prototype.forEach.call(toggles,function(toggle,index){toggle.addEventListener("click",animateScroll.bind(null,toggle,toggle.getAttribute("href"),options),false)})}};return{init:init,animateScroll:animateScroll}}(window,document);!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s],l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var n in t){var r=t[n];for(var s in this.waypoints[n]){var a,l,h,p,u,c=this.waypoints[n][s],d=c.options.offset,f=c.triggerPoint,w=0,y=null==f;c.element!==c.element.window&&(w=c.adapter.offset()[r.offsetProp]),"function"==typeof d?d=d.apply(c):"string"==typeof d&&(d=parseFloat(d),c.options.offset.indexOf("%")>-1&&(d=Math.ceil(r.contextDimension*d/100))),a=r.contextScroll-r.contextOffset,c.triggerPoint=w+a-d,l=f<r.oldScroll,h=c.triggerPoint>=r.oldScroll,p=l&&h,u=!l&&!h,!y&&p?(c.queueTrigger(r.backward),o[c.group.id]=c.group):!y&&u?(c.queueTrigger(r.forward),o[c.group.id]=c.group):y&&r.oldScroll>=c.triggerPoint&&(c.queueTrigger(r.forward),o[c.group.id]=c.group)}}for(var g in o)o[g].flushTriggers();return this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n="up"===i||"left"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,o){t[o]=e[o]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});"string"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();(function(b){var a={init:function(c){return this.each(function(){var d=this,h=b(d).empty();d.opt=b.extend(true,{},b.fn.raty.defaults,c);h.data("settings",d.opt);d.opt.number=a.between(d.opt.number,0,20);if(d.opt.path.substring(d.opt.path.length-1,d.opt.path.length)!="/"){d.opt.path+="/"}if(typeof d.opt.score=="function"){d.opt.score=d.opt.score.call(d)}if(d.opt.score){d.opt.score=a.between(d.opt.score,0,d.opt.number)}for(var e=1;e<=d.opt.number;e++){b("<img />",{src:d.opt.path+(!d.opt.score||d.opt.score<e?d.opt.starOff:d.opt.starOn),alt:e,title:e<=d.opt.hints.length&&d.opt.hints[e-1]!==null?d.opt.hints[e-1]:e}).appendTo(d);if(d.opt.space){h.append(e<d.opt.number?"&#160;":"")}}d.stars=h.children('img:not(".raty-cancel")');d.score=b("<input />",{type:"hidden",name:d.opt.scoreName}).appendTo(d);if(d.opt.score&&d.opt.score>0){d.score.val(d.opt.score);a.roundStar.call(d,d.opt.score)}if(d.opt.iconRange){a.fill.call(d,d.opt.score)}a.setTarget.call(d,d.opt.score,d.opt.targetKeep);var g=d.opt.space?4:0,f=d.opt.width||d.opt.number*d.opt.size+d.opt.number*g;if(d.opt.cancel){d.cancel=b("<img />",{src:d.opt.path+d.opt.cancelOff,alt:"x",title:d.opt.cancelHint,class:"raty-cancel"});if(d.opt.cancelPlace=="left"){h.prepend("&#160;").prepend(d.cancel)}else{h.append("&#160;").append(d.cancel)}f+=d.opt.size+g}if(d.opt.readOnly){a.fixHint.call(d);if(d.cancel){d.cancel.hide()}}else{h.css("cursor","pointer");a.bindAction.call(d)}h.css("width",f)})},between:function(e,d,c){return Math.min(Math.max(parseFloat(e),d),c)},bindAction:function(){var c=this,e=b(c);e.mouseleave(function(){var f=c.score.val()||undefined;a.initialize.call(c,f);a.setTarget.call(c,f,c.opt.targetKeep);if(c.opt.mouseover){c.opt.mouseover.call(c,f)}});var d=c.opt.half?"mousemove":"mouseover";if(c.opt.cancel){c.cancel.mouseenter(function(){b(this).attr("src",c.opt.path+c.opt.cancelOn);c.stars.attr("src",c.opt.path+c.opt.starOff);a.setTarget.call(c,null,true);if(c.opt.mouseover){c.opt.mouseover.call(c,null)}}).mouseleave(function(){b(this).attr("src",c.opt.path+c.opt.cancelOff);if(c.opt.mouseover){c.opt.mouseover.call(c,c.score.val()||null)}}).click(function(f){c.score.removeAttr("value");if(c.opt.click){c.opt.click.call(c,null,f)}})}c.stars.bind(d,function(g){var h=parseInt(this.alt,10);if(c.opt.half){var f=parseFloat((g.pageX-b(this).offset().left)/c.opt.size),i=f>.5?1:.5;h=parseFloat(this.alt)-1+i;a.fill.call(c,h);if(c.opt.precision){h=h-i+f}a.showHalf.call(c,h)}else{a.fill.call(c,h)}e.data("score",h);a.setTarget.call(c,h,true);if(c.opt.mouseover){c.opt.mouseover.call(c,h,g)}}).click(function(f){c.score.val(c.opt.half||c.opt.precision?e.data("score"):this.alt);if(c.opt.click){c.opt.click.call(c,c.score.val(),f)}})},cancel:function(c){return b(this).each(function(){var d=this,e=b(d);if(e.data("readonly")===true){return this}if(c){a.click.call(d,null)}else{a.score.call(d,null)}d.score.removeAttr("value")})},click:function(c){return b(this).each(function(){if(b(this).data("readonly")===true){return this}a.initialize.call(this,c);if(this.opt.click){this.opt.click.call(this,c)}else{a.error.call(this,'you must add the "click: function(score, evt) { }" callback.')}a.setTarget.call(this,c,true)})},error:function(c){b(this).html(c);b.error(c)},fill:function(k){var c=this,h=c.stars.length,g=0,d,j,f;for(var e=1;e<=h;e++){d=c.stars.eq(e-1);if(c.opt.iconRange&&c.opt.iconRange.length>g){j=c.opt.iconRange[g];if(c.opt.single){f=e==k?j.on||c.opt.starOn:j.off||c.opt.starOff}else{f=e<=k?j.on||c.opt.starOn:j.off||c.opt.starOff}if(e<=j.range){d.attr("src",c.opt.path+f)}if(e==j.range){g++}}else{if(c.opt.single){f=e==k?c.opt.starOn:c.opt.starOff}else{f=e<=k?c.opt.starOn:c.opt.starOff}d.attr("src",c.opt.path+f)}}},fixHint:function(){var c=b(this),e=parseInt(this.score.val(),10),d=this.opt.noRatedMsg;if(!isNaN(e)&&e>0){d=e<=this.opt.hints.length&&this.opt.hints[e-1]!==null?this.opt.hints[e-1]:e}c.data("readonly",true).css("cursor","default").attr("title",d);this.score.attr("readonly","readonly");this.stars.attr("title",d)},getScore:function(){var d=[],c;b(this).each(function(){c=this.score.val();d.push(c?parseFloat(c):undefined)});return d.length>1?d:d[0]},readOnly:function(c){return this.each(function(){var d=b(this);if(d.data("readonly")===c){return this}if(this.cancel){if(c){this.cancel.hide()}else{this.cancel.show()}}if(c){d.unbind();d.children("img").unbind();a.fixHint.call(this)}else{a.bindAction.call(this);a.unfixHint.call(this)}d.data("readonly",c)})},reload:function(){return a.set.call(this,{})},roundStar:function(e){var d=(e-Math.floor(e)).toFixed(2);if(d>this.opt.round.down){var c=this.opt.starOn;if(d<this.opt.round.up&&this.opt.halfShow){c=this.opt.starHalf}else{if(d<this.opt.round.full){c=this.opt.starOff}}this.stars.eq(Math.ceil(e)-1).attr("src",this.opt.path+c)}},score:function(){return arguments.length?a.setScore.apply(this,arguments):a.getScore.call(this)},set:function(c){this.each(function(){var d=b(this),f=d.data("settings"),e=d.clone().removeAttr("style").insertBefore(d);d.remove();e.raty(b.extend(f,c))});return b(this.selector)},setScore:function(c){return b(this).each(function(){if(b(this).data("readonly")===true){return this}a.initialize.call(this,c);a.setTarget.call(this,c,true)})},setTarget:function(e,d){if(this.opt.target){var c=b(this.opt.target);if(c.length==0){a.error.call(this,"target selector invalid or missing!")}var f=e;if(!d||f===undefined){f=this.opt.targetText}else{if(this.opt.targetType=="hint"){f=f===null&&this.opt.cancel?this.opt.cancelHint:this.opt.hints[Math.ceil(f-1)]}else{f=this.opt.precision?parseFloat(f).toFixed(1):parseInt(f,10)}}if(this.opt.targetFormat.indexOf("{score}")<0){a.error.call(this,'template "{score}" missing!')}if(e!==null){f=this.opt.targetFormat.toString().replace("{score}",f)}if(c.is(":input")){c.val(f)}else{c.html(f)}}},showHalf:function(d){var c=(d-Math.floor(d)).toFixed(1);if(c>0&&c<.6){this.stars.eq(Math.ceil(d)-1).attr("src",this.opt.path+this.opt.starHalf)}},initialize:function(c){c=!c?0:a.between(c,0,this.opt.number);a.fill.call(this,c);if(c>0){if(this.opt.halfShow){a.roundStar.call(this,c)}this.score.val(c)}},unfixHint:function(){for(var c=0;c<this.opt.number;c++){this.stars.eq(c).attr("title",c<this.opt.hints.length&&this.opt.hints[c]!==null?this.opt.hints[c]:c)}b(this).data("readonly",false).css("cursor","pointer").removeAttr("title");this.score.attr("readonly","readonly")}};b.fn.raty=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist!")}}};b.fn.raty.defaults={cancel:false,cancelHint:"cancel this rating!",cancelOff:"/assets/cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:undefined,half:false,halfShow:true,hints:["Bad","Poor","Average","Good","Great"],iconRange:undefined,mouseover:undefined,noRatedMsg:"not rated yet",number:5,path:"/assets/",precision:false,round:{down:.25,full:.6,up:.76},readOnly:false,score:undefined,scoreName:"score",single:false,size:16,space:true,starHalf:"img/star_ratings/ch_star_half.svg",starOff:"img/star_ratings/ch_star_off.svg",starOn:"img/star_ratings/ch_star_on.svg",target:undefined,targetFormat:"{score}",targetKeep:false,targetText:"",targetType:"hint",width:undefined}})(jQuery);!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){var o=t("matches-selector");e.exports=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(o(i,e))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&o.call(t,n)}}var r=t("closest");e.exports=o},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return i(t,e,n);if(c.nodeList(t))return r(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return s(document.body,t,e,n)}var c=t("./is"),s=t("delegate");e.exports=o},{"./is":3,delegate:2}],5:[function(t,e,n){function o(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),o=0;o<n.length;++o)if(n[o]==t)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=o},{}],6:[function(t,e,n){function o(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}e.exports=o},{}],7:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;i>o;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,a=o.length;a>r;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],8:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if("undefined"!=typeof o)r(n,e("select"));else{var a={exports:{}};r(a,i.select),i.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},t.prototype.initSelection=function t(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function t(){var e=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function t(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function t(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function t(){var e=void 0;try{e=document.execCommand(this.action)}catch(n){e=!1}this.handleResult(e)},t.prototype.handleResult=function t(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function t(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function t(){this.removeFake()},a(t,[{key:"action",set:function t(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function t(){return this._action}},{key:"target",set:function t(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function t(){return this._target}}]),t}();t.exports=c})},{select:6}],9:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof o)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=a.exports}}(this,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),u=i(n),f=i(o),d=function(t){function e(n,o){r(this,e);var i=a(this,t.call(this));return i.resolveOptions(o),i.listenClick(n),i}return c(e,t),e.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},e.prototype.listenClick=function t(e){var n=this;this.listener=(0,f.default)(e,"click",function(t){return n.onClick(t)})},e.prototype.onClick=function t(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})},e.prototype.defaultAction=function t(e){return s("action",e)},e.prototype.defaultTarget=function t(e){var n=s("target",e);return n?document.querySelector(n):void 0},e.prototype.defaultText=function t(e){return s("text",e)},e.prototype.destroy=function t(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});function YouTubePlayerProxy(elementId,onReady,onStateChange){this.player=null;this.elementId=elementId;this.onReady=onReady;this.onStateChange=onStateChange;this.lastState=-1;this.loadVideoById=function(videoId){if(this.player){this.player.loadVideoById(videoId)}};this.cueVideoById=function(videoId){if(this.player){this.player.cueVideoById(videoId)}};this.pauseVideo=function(){if(this.player){this.player.pauseVideo()}};this.loadPlayer=function(player){this.player=player}}var YouTubePlayerFactory=new function(){this.proxiesToLoad=[];this.isApiLoaded=false;this.getYouTubePlayer=function(elementId,onReady,onStateChange){var player;if(this.isApiLoaded){player=new YouTubePlayerProxy(elementId,onReady,onStateChange);player.loadPlayer(new YT.Player(elementId,{events:{onReady:onReady.bind(player),onStateChange:onStateChange.bind(player)}}));return player}else{player=new YouTubePlayerProxy(elementId,onReady,onStateChange);this.proxiesToLoad.push(player);return player}};this.reloadFromPrototype=function(youtubePlayerProxy){return this.getYouTubePlayer(youtubePlayerProxy.elementId,youtubePlayerProxy.onReady,youtubePlayerProxy.onStateChange)};this.setApiHasLoaded=function(){this.isApiLoaded=true;for(var i=0;i<this.proxiesToLoad.length;i++){var proxy=this.proxiesToLoad[i];proxy.loadPlayer(this.getYouTubePlayer(proxy.elementId,proxy.onReady,proxy.onStateChange))}}};var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);function onYouTubeIframeAPIReady(){YouTubePlayerFactory.setApiHasLoaded();YouTubePlayerFactory=Object.freeze(YouTubePlayerFactory)}var VIDEO_ATTRIBUTES={youtube_video_id:"youtube_video_id",title:"title",description:"description",publishedDate:"publishedDate"};var StudyGuideSectionsYouTubePlayer=YouTubePlayerFactory.getYouTubePlayer("video",function onPlayerReady(event){if(this.player.getPlayerState()===YT.PlayerState.PLAYING){$(".bsg_video_container").addClass("isExpanded")}if(window.location.search.indexOf("play=")>0){event.target.playVideo();window.setTimeout(function(){event.target.playVideo()},1);$(".bsg_video_container").addClass("isExpanded")}},function onPlayerStateChange(event){if(event.data===YT.PlayerState.PLAYING){$(".bsg_video_container").addClass("isExpanded")}if(AmplitudeTracker&&event.data!==YT.PlayerState.UNSTARTED&&event.data!==YT.PlayerState.CUED&&this.player.lastState===YT.PlayerState.UNSTARTED){AmplitudeTracker.track("[Book] Specific Section Video",{newState:event.data});dataLayer.push({event:"video_view"})}this.player.lastState=event.data});var VideoTabYouTubePlayer=YouTubePlayerFactory.getYouTubePlayer("currentVideo",function onPlayerReady(){},function onPlayerStateChange(event){if(event.data!==YT.PlayerState.UNSTARTED&&event.data!==YT.PlayerState.CUED&&this.player.lastState===YT.PlayerState.UNSTARTED){AmplitudeTracker.track("[Book] Video Tab Video Clicked",{newState:event.data});dataLayer.push({event:"video_view"})}this.player.lastState=event.data});(function(){if(typeof $==="function"&&typeof $()!=="undefined"){$("#bsg_outer_content").on("click",".video_menu_item",handleVideoTransition)}function handleVideoTransition(){var element=$(this);var videoIndex=parseInt(element.data("videoIndex"));var youtubeId=bookVideos[videoIndex][VIDEO_ATTRIBUTES.youtube_video_id];VideoTabYouTubePlayer.cueVideoById(youtubeId);$("#videoTitle").text(bookVideos[videoIndex].title);$(".video_menu_item").removeClass("isHighlighted");element.addClass("isHighlighted");var description=bookVideos[videoIndex][VIDEO_ATTRIBUTES.description];$("#br_video_summary").text(description)}})();var AmplitudeTracker=Object.freeze(function(){var isLoggedIn=_isLoggedIn?"Logged In":"Logged Out";var tracker=new MixpanelEventTracking;var lastState=window.location.href.replace(window.location.search,"");var AMPLITUDE_TRACKING_CONSTANTS={"[Book] Title":{"USER TYPE":isLoggedIn},"[Book] Author":{"USER TYPE":isLoggedIn},"[Book] Alphabet List":{"USER TYPE":isLoggedIn},"[Book] View Additional Books":{"USER TYPE":isLoggedIn},"[Book] Literature Study Guides":{"USER TYPE":isLoggedIn},"[Book] Back to Book List":{"USER TYPE":isLoggedIn},"[Book] Study Guide":{"USER TYPE":isLoggedIn},"[Book] Summary":{"USER TYPE":isLoggedIn},"[Book] Documents":{"USER TYPE":isLoggedIn},"[Book] Q&As":{"USER TYPE":isLoggedIn},"[Book] Discussions":{"USER TYPE":isLoggedIn},"[Book] Videos":{"USER TYPE":isLoggedIn},"[Book] Overview":{"USER TYPE":isLoggedIn},"[Book] Overview Character Map Diagram":{"USER TYPE":isLoggedIn},"[Book] Overview Timeline Diagram":{"USER TYPE":isLoggedIn},"[Book] Overview Plot Diagram":{"USER TYPE":isLoggedIn},"[Book] Infographic":{"USER TYPE":isLoggedIn},"[Book] Context":{"USER TYPE":isLoggedIn},"[Book] Author Biography":{"USER TYPE":isLoggedIn},"[Book] Characters":{"USER TYPE":isLoggedIn},"[Book] Characters tab":{"USER TYPE":isLoggedIn},"[Book] Character Analysis tab":{"USER TYPE":isLoggedIn},"[Book] Character Map tab":{"USER TYPE":isLoggedIn},"[Book] Plot Summary":{"USER TYPE":isLoggedIn},"[Book] See Plot Diagram link":{"USER TYPE":isLoggedIn},"[Book] Chapter Summaries":{"USER TYPE":isLoggedIn},"[Book] See Chapter Summaries Chart link":{"USER TYPE":isLoggedIn},"[Book] Individual Chapters":{"USER TYPE":isLoggedIn},"[Book] Quotes":{"USER TYPE":isLoggedIn},"[Book] Symbols":{"USER TYPE":isLoggedIn},"[Book] Themes":{"USER TYPE":isLoggedIn},"[Book] Motifs":{"USER TYPE":isLoggedIn},"[Book] Suggested Reading":{"USER TYPE":isLoggedIn},"[Book] Previous Button":{"USER TYPE":isLoggedIn},"[Book] Next Button":{"USER TYPE":isLoggedIn},"[Book] Upload Documents":{"USER TYPE":isLoggedIn},"[Book] Inline Content View All Documents":{"USER TYPE":isLoggedIn},"[Book] Inline Content View All Questions":{"USER TYPE":isLoggedIn},"[Book] Infographic view":{"USER TYPE":isLoggedIn},"[Book] Infographic Social Share: Email":{"USER TYPE":isLoggedIn},"[Book] Infographic Social Share: Facebook":{"USER TYPE":isLoggedIn},"[Book] Infographic Social Share: Pinterest":{"USER TYPE":isLoggedIn},"[Book] Infographic Social Share: Twitter":{"USER TYPE":isLoggedIn},"[Book] Infographic Social Share: Google+":{"USER TYPE":isLoggedIn},"[Book] Infographic: Download":{"USER TYPE":isLoggedIn},"[Book] Study Guide: Download":{"USER TYPE":isLoggedIn},"[Book] Things You Didn't Know":{"USER TYPE":isLoggedIn},"[Book] Discussion Questions":{"USER TYPE":isLoggedIn},"[Book] Overview Page Video":{"USER TYPE":isLoggedIn},"[Book] Educator Endorsement Link":{"USER TYPE":isLoggedIn}};function trackAnchor(e){var currentTargetData=$(e.currentTarget).data();var amplitudeTag=currentTargetData.amplitude;var properties=AMPLITUDE_TRACKING_CONSTANTS[amplitudeTag];if(amplitudeTag&&properties){if(e.target.href!==lastState){track(amplitudeTag,properties)}if(currentTargetData.hasOwnProperty("crosslinktype")){track("[Book] Crosslinks",{"Link Type":currentTargetData.crosslinktype})}}lastState=e.target.href}function track(eventName,properties){if(typeof _title==="string"){properties.Title=_title}if(typeof _bookId==="number"){properties["Book ID"]=_bookId}properties["USER TYPE"]=isLoggedIn;tracker.track(eventName,properties)}return{trackAnchor:trackAnchor,track:track}}());(function(root){$(root.document).on("click","a[data-amplitude]",function(e){AmplitudeTracker.trackAnchor(e)});$(root.document).on("click","button[data-amplitude]",function(e){AmplitudeTracker.trackAnchor(e)})})(this);(function(root){var isLoggedIn=_isLoggedIn?"Logged In":"Logged Out";var tracker=new root.MixpanelEventTracking;var properties={Title:_title,"Book ID":_bookId,"USER TYPE":isLoggedIn};if(_hasStudyGuide&&_hasInfographic){tracker.trackPageView("[Book] Book Page (with study guide and infographic)",properties)}else if(_hasStudyGuide&&!_hasInfographic){tracker.trackPageView("[Book] Book Page (with study guide but no infographic)",properties)}else if(!_hasStudyGuide&&_hasInfographic){tracker.trackPageView("[Book] Book Page (with infographic but no study guide)",properties)}else if(!_hasStudyGuide&&!_hasInfographic){tracker.trackPageView("[Book] Book Page (with no study guide or infographic)",properties)}})(this);"use strict";function ResponsiveMenu($,window,i){function ReSmenu(options){var s=$.extend({menuClass:"responsive_menu",selectId:"resmenu",textBefore:false,selectOption:false,activeClass:"current-menu-item",maxWidth:480},options);function build_menu(element,select,add){add=add||"";$(element).children("li").each(function(){var url=$(this).children("a").attr("href");var menuText=$(this).children("a").text()||this.childNodes[0].nodeValue.trim()||"";if(url===undefined||url===false||url==="#"||url.length===0){url=""}if($(this).children("ul").length>0){build_menu($(this).children("ul"),select,add+"&nbsp;&nbsp;")}else if(menuText!==""){$("<option/>",{value:url,html:add+menuText,disabled:!url?true:false,selected:$(this).children("a").hasClass(s.activeClass)&&!s.selectOption?true:false}).appendTo(select)}})}function create_responsive_menus(element,i){var responsive_menu=$("<div/>",{class:s.menuClass}).appendTo($(element).parent()),select=$("<select/>",{id:s.selectId+i}).appendTo(responsive_menu);$(select).bind("change",function(){if($(this).val().length>0){var newLocation=$(this).val();var req=new Davis.Request(newLocation);var splitUrl=newLocation.split("/");if(splitUrl[3]){req.params.page=splitUrl[3]}if(splitUrl[4]){req.params.subpage=splitUrl[4]}studyGuide.handleRouteChange(req)}});if(s.textBefore){$("<label/>",{html:s.textBefore,for:s.selectId+i}).prependTo(responsive_menu)}if(s.selectOption){$("<option/>",{text:s.selectOption,value:""}).appendTo(select)}build_menu($(element),select);return responsive_menu}this.each(function(){var element=$(this),responsive_menu;i+=1;function handle_menu(){if($(window).width()>parseInt(s.maxWidth,10)){$(element).show();if(responsive_menu){$(responsive_menu).hide()}}else{$(element).hide();if(responsive_menu){$(responsive_menu).show()}else{responsive_menu=create_responsive_menus(element,i)}}}handle_menu();$(window).resize(function(){handle_menu()})})}return{ReSmenu:ReSmenu}}function StudyGuideService(){var chTracker=CHAnalytics.v("default");var ROUTING_UNIQUE=Object.freeze({documents:_limit_doc_page,questions:_limit_qa_page,discussions:_limit_db_page,videos:true});var INNER_CONTENT_ID="#bsg_inner_content";var OUTER_CONTENT_ID="#bsg_outer_content";var LOCAL_STORAGE_PAGE_VIEWS_KEY="ch-lit-page-views";var PAGE_VIEWS_EVENT_NAME="ch-lit-page-views-event";var DRACULA_BOOK_ID=143;var nonEndorsementPages=["documents","questions","discussions"];var CHARACTERS_SEARCH_ID_MAP={"character-analysis":"characters","character-map":"characters","key-figure-analysis":"key-figures","key-figure-map":"key-figures"};var SEO_ID_MAP={PREV_ID:"prev",NEXT_ID:"next",CANONICAL_URL_ID:"canonical",NO_INDEX_ID:"no_index"};var ID_TO_HTML_MAP={prev:'<link id ="prev" rel="prev" >',next:'<link id ="next" rel="next" >',canonical:'<link id ="canonical" rel="canonical" >',no_index:'<meta id="no_index" name="robots" content="noindex">'};var BOOK_ID=_bookId;var TYPE_STUDY_GUIDE=_typeStudyGuide;var cache={};var lastRequestTimestamp=0;var state=createInitialState();function createInitialState(){var currentFullPath=window.location.pathname+window.location.search;return{currentFullPath:currentFullPath,currentPath:getPath(currentFullPath,_subpage),page:_page,subpage:_subpage}}function handleRouteChange(req){if(state.currentFullPath===req.fullPath){return}var path=getPath(req.params.page,req.params.subpage);handleDropdownNavigationHighlight(ROUTING_USER_ROOT_URL+path);req.redirect(ROUTING_USER_ROOT_URL+path,{silent:true});trackContentView();lastRequestTimestamp=req.timestamp;loadContent(req);state.page=req.params.page;state.subpage=req.params.subpage;state.currentFullPath=req.fullPath;state.currentPath=path;render()}function render(){var id=decodeURI(getId(state.page,state.subpage))||"overview";var evt=document.createEvent("CustomEvent");evt.initCustomEvent(PAGE_VIEWS_EVENT_NAME,false,false,{pageName:state.currentFullPath});window.dispatchEvent(evt);handleNavigationHighlight(id);renderMenu();renderMetaDescription();renderBreadcrumbs()}function renderMetaDescription(){var path=state.currentFullPath;var pathWithoutFragment=path.split(/[?#]/)[0];var metaDescription=_metaDescriptions[decodeURI(pathWithoutFragment)]||_metaDescriptions[ROUTING_USER_ROOT_URL];$("meta[name=description]").attr("content",metaDescription);$('meta[name="twitter:description"]').attr("content",metaDescription)}function createCrumbs(path){var crumbs=[];var pathParts=path.slice(1,-1).split("/");var backButtonHref="/"+pathParts[0]+"/";if(!_hasStudyGuide){backButtonHref="/books/"}var backButtonText;if(backButtonHref==="/lit/"){backButtonText="Literature Study Guides"}else if(backButtonHref==="/infographics/"){backButtonText="Literature Infographics"}else if(backButtonHref==="/books/"){backButtonText="Books"}else{backButtonText="Back"}crumbs.push({href:backButtonHref,text:backButtonText,davis:false});var hrefSoFar="/"+pathParts[0]+"/";for(var i=1;i<pathParts.length;i++){hrefSoFar+=pathParts[i]+"/";var href=hrefSoFar;if(pathParts[i]==="discussion-questions"){href+="page-1/"}crumbs.push({href:href,text:titleize(pathParts[i].replace(/-/g," ")),davis:true})}crumbs[crumbs.length-1].href=null;return crumbs}function renderBreadcrumbs(){var path=state.currentFullPath;var pathWithoutFragment=path.split(/[?#]/)[0];var crumbs=createCrumbs(decodeURI(pathWithoutFragment));var breadcrumbSelector="#bs_breadcrumbs";var $breadCrumbs=$("<div>");crumbs.forEach(function(crumb,index){if(crumb.href){$("<a>").text(crumb.text).attr("href",crumb.href).attr("data-davis",crumb.davis).appendTo($breadCrumbs)}else{$("<span>").addClass("bs_breadcrumbs_current").text(crumb.text).appendTo($breadCrumbs)}var isLast=index===crumbs.length-1;if(!isLast){$("<i>").addClass("fa fa-chevron-right bs_breadcrumbs_arrow").appendTo($breadCrumbs)}});$(breadcrumbSelector).html($breadCrumbs.html())}function renderMenu(){if($.fn.ReSmenu&&$(".bsg_has_resmenu.toresponsive").length==0){var menu=$(".toresponsive");menu.addClass("bsg_has_resmenu");menu.ReSmenu({maxWidth:767,activeClass:"bsg_section_active",selectId:"bsg_resmenu"})}}function scrollToHash(hashId){if(hashId){var element=document.getElementById(hashId);if(element){$(window).scrollTop($(element).offset().top)}}}function handleNavRouteChange(){var element=$(this);element.data();var page=element.data("page");var queryString={doctype:element.data("doctype"),offset:element.data("offset"),search:element.data("search"),sort:element.data("sort"),"pages[]":element.data("pages")};var req=new Davis.Request(Davis.location.current()+"?"+$.param(queryString));req.params["page"]=page;handleRouteChange(req)}function loadContent(req){var page=req.params.page;var subpage=req.params.subpage;var isDestinationOnStudyGuideTab=!ROUTING_UNIQUE[page];var isCurrentLocationOnStudyGuideTab=!ROUTING_UNIQUE[state.currentPath.replace("/","")];var id=INNER_CONTENT_ID;if(!page||!isDestinationOnStudyGuideTab){id=OUTER_CONTENT_ID}handlePageChangeUi(req,true);swapHeader(page);if(hideEndorsement(page)&&document.getElementById("bs_endorsement_block")!==null){document.getElementById("bs_endorsement_block").style.display="none"}else if(document.getElementById("bs_endorsement_block")!==null){document.getElementById("bs_endorsement_block").style.display="block"}if(isDestinationOnStudyGuideTab&&!isCurrentLocationOnStudyGuideTab){loadPage("","",OUTER_CONTENT_ID,false,req.queryString,function(content){if(req.timestamp>=lastRequestTimestamp){$(OUTER_CONTENT_ID).html(content)}if(isDestinationOnStudyGuideTab&&!page){$("#bsg_videos_bundle").owlCarousel("refresh")}if(page){loadPage(page,subpage,INNER_CONTENT_ID,false,req.queryString,function(content,title){if(req.timestamp>=lastRequestTimestamp){$(INNER_CONTENT_ID).html(content);document.title=title;StudyGuideSectionsYouTubePlayer=YouTubePlayerFactory.reloadFromPrototype(StudyGuideSectionsYouTubePlayer);if(typeof _LitAnnotator!=="undefined"&&typeof _LitAnnotator.getAnnotations==="function"){_LitAnnotator.getAnnotations()}}scrollToHash(req.params["hash"])})}})}else{loadPage(page,subpage,id,false,req.queryString,function(content,title){if(req.timestamp>=lastRequestTimestamp){$(id).html(content);document.title=title;if(page==="videos"){VideoTabYouTubePlayer=YouTubePlayerFactory.reloadFromPrototype(VideoTabYouTubePlayer)}else if(isDestinationOnStudyGuideTab){if(!page){$("#bsg_videos_bundle").owlCarousel({items:4,itemsTablet:[768,3],itemsTabletSmall:[600,2],itemsMobile:[480,1],pagination:false,navigation:true,navigationText:["<i class='fa fa-chevron-left'></i>","<i class='fa fa-chevron-right'></i>"]})}if(typeof _LitAnnotator!=="undefined"&&typeof _LitAnnotator.getAnnotations==="function"){_LitAnnotator.getAnnotations()}StudyGuideSectionsYouTubePlayer=YouTubePlayerFactory.reloadFromPrototype(StudyGuideSectionsYouTubePlayer)}}scrollToHash(req.params["hash"])})}warmCache(req)}function handleNavigationHighlight(id){var updateHighlight=function(searchId,className){if(CHARACTERS_SEARCH_ID_MAP.hasOwnProperty(searchId)){var charactersIdPresent=document.getElementById("characters")||document.getElementById("key-figures");if(charactersIdPresent){searchId=CHARACTERS_SEARCH_ID_MAP[searchId]}else{searchId=_characterWordSingular.replace(/\s+/g,"-").toLowerCase()+"-analysis"}}var element=document.getElementById(searchId);if(element){$("."+className).removeClass(className);element.className+=" "+className}};updateHighlight(id,"bsg_section_active");var topNavId=ROUTING_UNIQUE[id]?id:"studyguide";updateHighlight("topnav_"+topNavId,"bs_nav_active")}function hideEndorsement(page){var hideEndorsement=window._bookId===DRACULA_BOOK_ID&&nonEndorsementPages.indexOf(page)!==-1;return hideEndorsement}function handleDropdownNavigationHighlight(optionValue){if(typeof optionValue==="string"){optionValue=optionValue.replace(/character-(analysis|map)/,"characters")}var bsgMenu=$("[id^=bsg_resmenu]").first();if(bsgMenu.length!==0&&bsgMenu.find("option[value='"+optionValue+"']").length!==0){bsgMenu.val(optionValue)}}function handlePageChangeUi(req,spinner){var page=req.params.page;var modals=document.getElementsByClassName("share-this-popover");for(var i=0;i<modals.length;i++){modals[i].style.display="none"}if(spinner){if(page&&!ROUTING_UNIQUE[page]){$("#bsg_inner_content").html("<div class='bsg_contentDisplay_wrapper bsg_loading_container'>"+"<img src='/assets/img/books/loading.gif' alt='loading icon'>"+"</div>")}else if(page==state.currentPath){var spinnerHTML='<div class="br_resourcesLoading_container">'+'<img src="/assets/img/books/loading.gif" alt="loading icon">'+"</div>";$(".br_documents_container").html(spinnerHTML);$(".br_qas_container").html(spinnerHTML);$(".br_discussions_container").html(spinnerHTML)}else{$("#bsg_outer_content").html(""+'<div class="br_content_wrapper">'+'<div class="br_content_container br_loading_container">'+'<img src="/assets/img/books/loading.gif" alt="loading icon">'+"</div>"+"</div>")}}var headerOffset=$(".bs_header_heading").offset();var navOffset=$(".bs_header_nav").offset();var currOffsetTop=$(window).scrollTop();if(currOffsetTop>navOffset.top){$(window).scrollTop(headerOffset.top)}}function warmCache(req){var page=req.params.page;var subpage=req.params.subpage;function loadPageWrapper(newPage,id){if(newPage!=page){loadPage(newPage,subpage,id,true)}}if(ROUTING_UNIQUE[page]){var limit=ROUTING_UNIQUE[page];var offset,queryString;if(req.queryString&&req.queryString.match(/offset=([0-9]+)/)){offset=parseInt(req.queryString.match(/offset=([0-9]+)/)[1])+limit;queryString=req.queryString.replace(/offset=[0-9]+/,"offset="+offset)}else{queryString="?offset="+limit+"&search=&sort=relevant"}loadPage(page,subpage,OUTER_CONTENT_ID,true,queryString)}}function loadPage(page,subpage,id,cacheOnly,queryString,success){var url=ROUTING_CONTENT_ROOT_URL+getPath(page,subpage);url=queryString?url+"?"+queryString:url;if(id==OUTER_CONTENT_ID){url=queryString?url+"&outer=1":url+"?outer=1"}var cacheHit=id+url in cache;if(cacheHit){if(typeof success=="function"){var cachedData=cache[id+url];var parameters={prev:cachedData.prev,next:cachedData.next,canonical:cachedData.canonical,no_index:cachedData.no_index};success(cachedData.content,cachedData.title);Object.keys(parameters).forEach(function(key){updatePaginationLinks(key,parameters[key])})}}else{var successFn=function(content,textStatus,request){var title=getDocumentTitle(page);var prevUrl=request.getResponseHeader("prevUrl");var nextUrl=request.getResponseHeader("nextUrl");var canonicalUrl=request.getResponseHeader("canonicalUrl");var noIndex=request.getResponseHeader("noindex");var parameters={prev:prevUrl,next:nextUrl,canonical:canonicalUrl,no_index:noIndex};if(typeof success=="function"){success(content,title);Object.keys(parameters).forEach(function(key){updatePaginationLinks(key,parameters[key])})}cache[id+url]={content:content,title:title,prev:prevUrl,next:nextUrl,canonical:canonicalUrl,no_index:noIndex}};$.ajax({url:url,method:"get",success:successFn,error:function(data,textStatus,errorThrown){if(data.getResponseHeader("CH-Valid-Content")){successFn(data.responseText);return}logError(cacheOnly?"PAGE_LOAD_CACHE":"PAGE_LOAD",textStatus+" "+data.status+" "+errorThrown+" "+data.responseText);if(!cacheOnly){window.location=url.replace("_lit","lit")}}})}}function handleSortType(type){document.getElementById("bsg_sort_selected_item").textContent=type}function getDocumentTitle(page){if(typeof page==="undefined"){return _nonHyphenizedTitle+" Study Guide - Course Hero"}if(page==="author"){return _author+" Biography - Course Hero"}var title=page.split(/\-/).map(capitalizeFirstLetter).join(" ");return _nonHyphenizedTitle+" "+title+" - Course Hero"}function updatePaginationLinks(id,value){var element=document.getElementById(id);if(!ID_TO_HTML_MAP.hasOwnProperty(id)||!element&&!value){return}if(!value&&document.head.contains(element)){document.head.removeChild(element);return}if(!element){$("head").append(ID_TO_HTML_MAP[id])}if(id!==SEO_ID_MAP.NO_INDEX_ID){document.getElementById(id).href=value}}function capitalizeFirstLetter(str){return str.charAt(0).toUpperCase()+str.slice(1)}function titleize(str){return str.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})}function logError(type,msg,num){$.post("/_error/",{type:type,msg:msg,num:num,source:"BOOKS"})}function trackContentView(){var url="/books/tracking/"+TYPE_STUDY_GUIDE+"/"+BOOK_ID+"/content-view/";$.ajax({url:url,method:"post",success:function(){if(typeof ga!=="undefined"){ga("send","pageview",window.location.pathname)}},error:function(data,textStatus,errorThrown){logError("CONTENT_TRACKING",textStatus+" "+errorThrown)}});chTracker.pageView()}function getPath(){return Array.prototype.slice.call(arguments).filter(function(path){return typeof path==="string"&&path!==""}).concat("").join("/")}function getId(){return Array.prototype.slice.call(arguments).filter(function(path){return typeof path==="string"&&path!==""}).join("-")}function replaceTagNameAndTextContent(node,tagName,textContent){if(!node||!node.tagName){throw new Error("Must pass in a Node")}if(node.tagName===tagName&&node.textContent===textContent){return}var newNode=document.createElement(tagName);var attributes=node.attributes;var length=attributes.length;var attribute;var attributeName;var attributeValue;var i;for(i=0;i<length;i+=1){attribute=attributes[i];attributeName=attribute.name;attributeValue=node.getAttribute(attributeName);newNode.setAttribute(attributeName,attributeValue)}newNode.textContent=textContent;node.parentNode.replaceChild(newNode,node)}function swapHeader(page){var headerLevel=!page||ROUTING_UNIQUE[page]?"H1":"H2";var header=document.getElementById("bs_header_heading");var headerText=getHeaderText(page);if(!header){throw new Error('Could not find header with id "bs_header_heading"')}replaceTagNameAndTextContent(header,headerLevel,headerText)}function getHeaderText(page){var headerText=_nonHyphenizedTitle;if(!page&&window._hasStudyGuide){headerText+=" | Study Guide"}else if(page==="questions"){headerText+=" | Q&As"}else if(ROUTING_UNIQUE[page]){headerText+=" | "+capitalizeFirstLetter(page)}return headerText}function init(){render();var prevUrl=$(SEO_ID_MAP.PREV_ID)?$(SEO_ID_MAP.PREV_ID).attr("href"):null;var nextUrl=$(SEO_ID_MAP.NEXT_ID)?$(SEO_ID_MAP.NEXT_ID).attr("href"):null;var canonicalUrl=$(SEO_ID_MAP.CANONICAL_URL_ID)?$(SEO_ID_MAP.CANONICAL_URL_ID).attr("href"):null;var noIndex=$(SEO_ID_MAP.NO_INDEX_ID)?"noindex":null;var url=window.location.pathname.replace("lit","_lit");cache[INNER_CONTENT_ID+url]={content:$(INNER_CONTENT_ID).html(),title:document.title};cache[OUTER_CONTENT_ID+url+"?outer=1"]={content:$(OUTER_CONTENT_ID).html(),title:document.title,prev:prevUrl,next:nextUrl,canonical:canonicalUrl,no_index:noIndex};loadPage("documents",null,"",true);loadPage("questions",null,"",true);loadPage("discussions",null,"",true);loadPage("",null,OUTER_CONTENT_ID,true);warmCache({params:{page:state.currentPath},queryString:""})}init();return{handleRouteChange:handleRouteChange,handleNavRouteChange:handleNavRouteChange,handleNavigationHighlight:handleNavigationHighlight,handleSortType:handleSortType}}var studyGuide=new StudyGuideService;var responsiveMenu=new ResponsiveMenu($,window,0);var davis=Davis(function(){this.get(ROUTING_USER_ROOT_URL+":page/",studyGuide.handleRouteChange);this.get(ROUTING_USER_ROOT_URL,studyGuide.handleRouteChange);this.get(ROUTING_USER_ROOT_URL+":page/#:hash",studyGuide.handleRouteChange);this.get(ROUTING_USER_ROOT_URL+":page/:subpage/",studyGuide.handleRouteChange);this.configure(function(){this.linkSelector="a[data-davis=true]"})});$(document).on("click.davisNav","a[data-davis-nav=true]",studyGuide.handleNavRouteChange);$(document).ready(function(){davis.start()});$.fn.ReSmenu=responsiveMenu.ReSmenu;window.addEventListener("load",function(){if(jQuery&&$.fn.ReSmenu&&$(".bsg_has_resmenu.toresponsive").length==0){var menu=$(".toresponsive");menu.addClass("bsg_has_resmenu");menu.ReSmenu({maxWidth:767,activeClass:"bsg_section_active",selectId:"bsg_resmenu"})}});$(document).ready(function(event){if(_studyGuideDownloadUrl&&_automaticSgDownload){window.location=_studyGuideDownloadUrl}});(function(){$.fn.tabdrop=function(){var base=this.selector,navOriginal=$(base).html(),navWidth=$(base).outerWidth(true),navItemWidth=getNavItemWidth(),navMore='<li class="li-more dropdown">'+'<a id="navmore" class="bs_nav_item dropdown-toggle">'+'<i class="fa fa-ellipsis-h">'+'</i><span class="caret"></span>'+"</a>"+'<ul id="navmoredropdown" class="dropdown-menu" role="menu"></ul>'+"</li>";function getNavItemWidth(){navItemWidth=0;$(base+">li").each(function(){navItemWidth+=parseFloat($(this).outerWidth(true))});return navItemWidth}function navProcess(){if(navWidth<navItemWidth){$(base).append(navMore)}while(navWidth<navItemWidth){var navItem=$(base+" > li:nth-last-child(2)")[0].outerHTML;$(base+" .li-more .dropdown-menu").prepend(navItem);$(base+" > li:nth-last-child(2)").remove();getNavItemWidth()}}navProcess();$(window).resize(function(){$(base).html(navOriginal);navWidth=$(base).outerWidth(true);navItemWidth=getNavItemWidth();navProcess()});return this}})();window.twttr=function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);t._e=[];t.ready=function(f){t._e.push(f)};return t}(document,"script","twitter-wjs");window.fbAsyncInit=function(){FB.init({appId:window._facebook_app_id,xfbml:true,version:"v2.12"})};(function initializeFacebookSDK(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return}js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs)})(document,"script","facebook-jssdk");var gapi=window.gapi=window.gapi||{};gapi._bs=(new Date).getTime();(function(){var aa=function(a,b,c){return a.call.apply(a.bind,arguments)},ba=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},ca=function(a,b,c){ca=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return ca.apply(null,arguments)};var n=window,p=document,r=n.location,da=function(){},ea=/\[native code\]/,v=function(a,b,c){return a[b]=a[b]||c},fa=function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1},ga=function(a){a=a.sort();for(var b=[],c=void 0,d=0;d<a.length;d++){var e=a[d];e!=c&&b.push(e);c=e}return b},ha=/&/g,ia=/</g,ja=/>/g,ka=/"/g,la=/'/g,ma=function(a){return String(a).replace(ha,"&amp;").replace(ia,"&lt;").replace(ja,"&gt;").replace(ka,"&quot;").replace(la,"&#39;")},w=function(){var a;if((a=Object.create)&&ea.test(a))a=a(null);else{a={};for(var b in a)a[b]=void 0}return a},y=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},z=function(a){if(ea.test(Object.keys))return Object.keys(a);var b=[],c;for(c in a)y(a,c)&&b.push(c);return b},A=function(a,b){a=a||{};for(var c in a)y(a,c)&&(b[c]=a[c])},na=function(a){return function(){n.setTimeout(a,0)}},B=function(a,b){if(!a)throw Error(b||"")},C=v(n,"gapi",{});var D=function(a,b,c){var d=new RegExp("([#].*&|[#])"+b+"=([^&#]*)","g");b=new RegExp("([?#].*&|[?#])"+b+"=([^&#]*)","g");if(a=a&&(d.exec(a)||b.exec(a)))try{c=decodeURIComponent(a[2])}catch(e){}return c},oa=/^([^?#]*)(\?([^#]*))?(\#(.*))?$/,qa=function(a){a=a.match(oa);var b=w();b.J=a[1];b.query=a[3]?[a[3]]:[];b.o=a[5]?[a[5]]:[];return b},ra=function(a){return a.J+(0<a.query.length?"?"+a.query.join("&"):"")+(0<a.o.length?"#"+a.o.join("&"):"")},sa=function(a,b){var c=[];if(a)for(var d in a)if(y(a,d)&&null!=a[d]){var e=b?b(a[d]):a[d];c.push(encodeURIComponent(d)+"="+encodeURIComponent(e))}return c},ta=function(a,b,c,d){a=qa(a);a.query.push.apply(a.query,sa(b,d));a.o.push.apply(a.o,sa(c,d));return ra(a)},ua=function(a,b){var c="";2e3<b.length&&(c=b.substring(2e3),b=b.substring(0,2e3));var d=a.createElement("div"),e=a.createElement("a");e.href=b;d.appendChild(e);d.innerHTML=d.innerHTML;b=String(d.firstChild.href);d.parentNode&&d.parentNode.removeChild(d);return b+c},va=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i;var E=function(a,b,c,d){if(n[c+"EventListener"])n[c+"EventListener"](a,b,!1);else if(n[d+"tachEvent"])n[d+"tachEvent"]("on"+a,b)},wa=function(){var a=p.readyState;return"complete"===a||"interactive"===a&&-1==navigator.userAgent.indexOf("MSIE")},za=function(a){var b=xa;if(!wa())try{b()}catch(c){}ya(a)},ya=function(a){if(wa())a();else{var b=!1,c=function(){if(!b)return b=!0,a.apply(this,arguments)};n.addEventListener?(n.addEventListener("load",c,!1),n.addEventListener("DOMContentLoaded",c,!1)):n.attachEvent&&(n.attachEvent("onreadystatechange",function(){wa()&&c.apply(this,arguments)}),n.attachEvent("onload",c))}},Aa=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},Ba={button:!0,div:!0,span:!0};var H;H=v(n,"___jsl",w());v(H,"I",0);v(H,"hel",10);var I=function(a){return H.dpo?H.h:D(a,"jsh",H.h)},Ca=function(a){var b=v(H,"sws",[]);b.push.apply(b,a)},Da=function(a){return v(H,"watt",w())[a]},Ea=function(a){var b=v(H,"PQ",[]);H.PQ=[];var c=b.length;if(0===c)a();else for(var d=0,e=function(){++d===c&&a()},f=0;f<c;f++)b[f](e)},Fa=function(a){return v(v(H,"H",w()),a,w())};var J=v(H,"perf",w()),Ga=v(J,"g",w()),Ha=v(J,"i",w());v(J,"r",[]);w();w();var Ia=function(a,b,c){var d=J.r;"function"===typeof d?d(a,b,c):d.push([a,b,c])},K=function(a,b,c){Ga[a]=!b&&Ga[a]||c||(new Date).getTime();Ia(a)},L=function(a,b,c){b&&0<b.length&&(b=Ja(b),c&&0<c.length&&(b+="___"+Ja(c)),28<b.length&&(b=b.substr(0,28)+(b.length-28)),c=b,b=v(Ha,"_p",w()),v(b,c,w())[a]=(new Date).getTime(),Ia(a,"_p",c))},Ja=function(a){return a.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/\,/g,"_")};var Ka=w(),M=[],N=function(a){throw Error("Bad hint"+(a?": "+a:""))};M.push(["jsl",function(a){for(var b in a)if(y(a,b)){var c=a[b];"object"==typeof c?H[b]=v(H,b,[]).concat(c):v(H,b,c)}if(b=a.u)a=v(H,"us",[]),a.push(b),(b=/^https:(.*)$/.exec(b))&&a.push("http:"+b[1])}]);var La=/^(\/[a-zA-Z0-9_\-]+)+$/,Ma=/^[a-zA-Z0-9\-_\.,!]+$/,Na=/^gapi\.loaded_[0-9]+$/,Oa=/^[a-zA-Z0-9,._-]+$/,Sa=function(a,b,c,d){var e=a.split(";"),f=e.shift(),g=Ka[f],k=null;g?k=g(e,b,c,d):N("no hint processor for: "+f);k||N("failed to generate load url");b=k;c=b.match(Pa);(d=b.match(Qa))&&1===d.length&&Ra.test(b)&&c&&1===c.length||N("failed sanity: "+a);return k},Va=function(a,b,c,d){a=Ta(a);Na.test(c)||N("invalid_callback");b=Ua(b);d=d&&d.length?Ua(d):null;var e=function(a){return encodeURIComponent(a).replace(/%2C/g,",")};return[encodeURIComponent(a.Z).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",e(a.version),"/m=",e(b),d?"/exm="+e(d):"","/rt=j/sv=1/d=1/ed=1",a.H?"/am="+e(a.H):"",a.S?"/rs="+e(a.S):"",a.U?"/t="+e(a.U):"","/cb=",e(c)].join("")},Ta=function(a){"/"!==a.charAt(0)&&N("relative path");for(var b=a.substring(1).split("/"),c=[];b.length;){a=b.shift();if(!a.length||0==a.indexOf("."))N("empty/relative directory");else if(0<a.indexOf("=")){b.unshift(a);break}c.push(a)}a={};for(var d=0,e=b.length;d<e;++d){var f=b[d].split("="),g=decodeURIComponent(f[0]),k=decodeURIComponent(f[1]);2==f.length&&g&&k&&(a[g]=a[g]||k)}b="/"+c.join("/");La.test(b)||N("invalid_prefix");c=O(a,"k",!0);d=O(a,"am");e=O(a,"rs");a=O(a,"t");return{Z:b,version:c,H:d,S:e,U:a}},Ua=function(a){for(var b=[],c=0,d=a.length;c<d;++c){var e=a[c].replace(/\./g,"_").replace(/-/g,"_");Oa.test(e)&&b.push(e)}return b.join(",")},O=function(a,b,c){a=a[b];!a&&c&&N("missing: "+b);if(a){if(Ma.test(a))return a;N("invalid: "+b)}return null},Ra=/^https?:\/\/[a-z0-9_.-]+\.google\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Qa=/\/cb=/g,Pa=/\/\//g,Wa=function(){var a=I(r.href);if(!a)throw Error("Bad hint");return a};Ka.m=function(a,b,c,d){(a=a[0])||N("missing_hint");return"https://apis.google.com"+Va(a,b,c,d)};var Xa=decodeURI("%73cript"),Ya=function(a,b){for(var c=[],d=0;d<a.length;++d){var e=a[d];e&&0>fa.call(b,e)&&c.push(e)}return c},$a=function(a){"loading"!=p.readyState?Za(a):p.write("<"+Xa+' src="'+encodeURI(a)+'"></'+Xa+">")},Za=function(a){var b=p.createElement(Xa);b.setAttribute("src",a);b.async="true";(a=p.getElementsByTagName(Xa)[0])?a.parentNode.insertBefore(b,a):(p.head||p.body||p.documentElement).appendChild(b)},ab=function(a,b){var c=b&&b._c;if(c)for(var d=0;d<M.length;d++){var e=M[d][0],f=M[d][1];f&&y(c,e)&&f(c[e],a,b)}},cb=function(a,b,c){bb(function(){var c;c=b===I(r.href)?v(C,"_",w()):w();c=v(Fa(b),"_",c);a(c)},c)},P=function(a,b){var c=b||{};"function"==typeof b&&(c={},c.callback=b);ab(a,c);var d=a?a.split(":"):[],e=c.h||Wa(),f=v(H,"ah",w());if(f["::"]&&d.length){for(var g=[],k=null;k=d.shift();){var h=k.split("."),h=f[k]||f[h[1]&&"ns:"+h[0]||""]||e,l=g.length&&g[g.length-1]||null,m=l;l&&l.hint==h||(m={hint:h,M:[]},g.push(m));m.M.push(k)}var q=g.length;if(1<q){var u=c.callback;u&&(c.callback=function(){0==--q&&u()})}for(;d=g.shift();)db(d.M,c,d.hint)}else db(d||[],c,e)},db=function(a,b,c){a=ga(a)||[];var d=b.callback,e=b.config,f=b.timeout,g=b.ontimeout,k=b.onerror,h=void 0;"function"==typeof k&&(h=k);var l=null,m=!1;if(f&&!g||!f&&g)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";var k=v(Fa(c),"r",[]).sort(),q=v(Fa(c),"L",[]).sort(),u=[].concat(k),t=function(a,b){if(m)return 0;n.clearTimeout(l);q.push.apply(q,x);var d=((C||{}).config||{}).update;d?d(e):e&&v(H,"cu",[]).push(e);if(b){L("me0",a,u);try{cb(b,c,h)}finally{L("me1",a,u)}}return 1};0<f&&(l=n.setTimeout(function(){m=!0;g()},f));var x=Ya(a,q);if(x.length){var x=Ya(a,k),F=v(H,"CP",[]),G=F.length;F[G]=function(a){if(!a)return 0;L("ml1",x,u);var b=function(b){F[G]=null;t(x,a)&&Ea(function(){d&&d();b()})},c=function(){var a=F[G+1];a&&a()};0<G&&F[G-1]?F[G]=function(){b(c)}:b(c)};if(x.length){var pa="loaded_"+H.I++;C[pa]=function(a){F[G](a);C[pa]=null};a=Sa(c,x,"gapi."+pa,k);k.push.apply(k,x);L("ml0",x,u);b.sync||n.___gapisync?$a(a):Za(a)}else F[G](da)}else t(x)&&d&&d()};var bb=function(a,b){if(H.hee&&0<H.hel)try{return a()}catch(c){b&&b(c),H.hel--,P("debug_error",function(){try{window.___jsl.hefn(c)}catch(a){throw c}})}else try{return a()}catch(c){throw b&&b(c),c}};C.load=function(a,b){return bb(function(){return P(a,b)})};var Q=function(a){var b=window.___jsl=window.___jsl||{};b[a]=b[a]||[];return b[a]},R=function(a){var b=window.___jsl=window.___jsl||{};b.cfg=!a&&b.cfg||{};return b.cfg},eb=function(a){return"object"===typeof a&&/\[native code\]/.test(a.push)},S=function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]&&b[c]&&"object"===typeof a[c]&&"object"===typeof b[c]&&!eb(a[c])&&!eb(b[c])?S(a[c],b[c]):b[c]&&"object"===typeof b[c]?(a[c]=eb(b[c])?[]:{},S(a[c],b[c])):a[c]=b[c])},fb=function(a){if(a&&!/^\s+$/.test(a)){for(;0==a.charCodeAt(a.length-1);)a=a.substring(0,a.length-1);var b;try{b=window.JSON.parse(a)}catch(c){}if("object"===typeof b)return b;try{b=new Function("return ("+a+"\n)")()}catch(c){}if("object"===typeof b)return b;try{b=new Function("return ({"+a+"\n})")()}catch(c){}return"object"===typeof b?b:{}}},gb=function(a){R(!0);var b=window.___gcfg,c=Q("cu");if(b&&b!==window.___gu){var d={};S(d,b);c.push(d);window.___gu=b}var b=Q("cu"),e=document.scripts||document.getElementsByTagName("script")||[],d=[],f=[];f.push.apply(f,Q("us"));for(var g=0;g<e.length;++g)for(var k=e[g],h=0;h<f.length;++h)k.src&&0==k.src.indexOf(f[h])&&d.push(k);0==d.length&&0<e.length&&e[e.length-1].src&&d.push(e[e.length-1]);for(e=0;e<d.length;++e)d[e].getAttribute("gapi_processed")||(d[e].setAttribute("gapi_processed",!0),(f=d[e])?(g=f.nodeType,f=3==g||4==g?f.nodeValue:f.textContent||f.innerText||f.innerHTML||""):f=void 0,(f=fb(f))&&b.push(f));a&&(d={},S(d,a),c.push(d));d=Q("cd");a=0;for(b=d.length;a<b;++a)S(R(),d[a]);d=Q("ci");a=0;for(b=d.length;a<b;++a)S(R(),d[a]);a=0;for(b=c.length;a<b;++a)S(R(),c[a])},T=function(a){if(!a)return R();a=a.split("/");for(var b=R(),c=0,d=a.length;b&&"object"===typeof b&&c<d;++c)b=b[a[c]];return c===a.length&&void 0!==b?b:void 0},hb=function(a,b){var c=a;if("string"===typeof a){for(var d=c={},e=a.split("/"),f=0,g=e.length;f<g-1;++f)var k={},d=d[e[f]]=k;d[e[f]]=b}gb(c)};var ib=function(){var a=window.__GOOGLEAPIS;a&&(a.googleapis&&!a["googleapis.config"]&&(a["googleapis.config"]=a.googleapis),v(H,"ci",[]).push(a),window.__GOOGLEAPIS=void 0)};var jb={apppackagename:1,callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kb=!1,lb=w(),mb=function(){if(!kb){for(var a=document.getElementsByTagName("meta"),b=0;b<a.length;++b){var c=a[b].name.toLowerCase();if(0==c.lastIndexOf("google-signin-",0)){var c=c.substring(14),d=a[b].content;jb[c]&&d&&(lb[c]=d)}}if(window.self!==window.top){var a=document.location.toString(),e;for(e in jb)0<jb[e]&&(b=D(a,e,""))&&(lb[e]=b)}kb=!0}e=w();A(lb,e);return e},nb=function(a){return!!(a.clientid&&a.scope&&a.callback)};var ob=window.console,pb=function(a){ob&&ob.log&&ob.log(a)};var qb=function(){return!!H.oa},rb=function(){};var U=v(H,"rw",w()),sb=function(a){for(var b in U)a(U[b])},tb=function(a,b){var c=U[a];c&&c.state<b&&(c.state=b)};var ub;var vb=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?\#]*)?\/u\/(\d)\//,wb=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?\#]*)?\/b\/(\d{10,})\//,xb=function(a){var b=T("googleapis.config/sessionIndex");null==b&&(b=window.__X_GOOG_AUTHUSER);if(null==b){var c=window.google;c&&(b=c.authuser)}null==b&&(a=a||window.location.href,b=D(a,"authuser")||null,null==b&&(b=(b=a.match(vb))?b[1]:null));return null==b?null:String(b)},yb=function(a){var b=T("googleapis.config/sessionDelegate");null==b&&(b=(a=(a||window.location.href).match(wb))?a[1]:null);return null==b?null:String(b)};var zb=function(){this.c=-1};var V=function(){this.c=-1;this.c=64;this.b=[];this.B=[];this.V=[];this.v=[];this.v[0]=128;for(var a=1;a<this.c;++a)this.v[a]=0;this.w=this.j=0;this.reset()};(function(){function a(){}a.prototype=zb.prototype;V.fa=zb.prototype;V.prototype=new a;V.J=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return zb.prototype[c].apply(a,e)}})();V.prototype.reset=function(){this.b[0]=1732584193;this.b[1]=4023233417;this.b[2]=2562383102;this.b[3]=271733878;this.b[4]=3285377520;this.w=this.j=0};var Ab=function(a,b,c){c||(c=0);var d=a.V;if("string"==typeof b)for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.b[0];c=a.b[1];for(var g=a.b[2],k=a.b[3],h=a.b[4],l,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),l=1518500249):(f=c^g^k,l=1859775393):60>e?(f=c&g|k&(c|g),l=2400959708):(f=c^g^k,l=3395469782),f=(b<<5|b>>>27)+f+h+l+d[e]&4294967295,h=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.b[0]=a.b[0]+b&4294967295;a.b[1]=a.b[1]+c&4294967295;a.b[2]=a.b[2]+g&4294967295;a.b[3]=a.b[3]+k&4294967295;a.b[4]=a.b[4]+h&4294967295};V.prototype.update=function(a,b){if(null!=a){void 0===b&&(b=a.length);for(var c=b-this.c,d=0,e=this.B,f=this.j;d<b;){if(0==f)for(;d<=c;)Ab(this,a,d),d+=this.c;if("string"==typeof a)for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.c){Ab(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.c){Ab(this,e);f=0;break}}this.j=f;this.w+=b}};V.prototype.digest=function(){var a=[],b=8*this.w;56>this.j?this.update(this.v,56-this.j):this.update(this.v,this.c-(this.j-56));for(var c=this.c-1;56<=c;c--)this.B[c]=b&255,b/=256;Ab(this,this.B);for(c=b=0;5>c;c++)for(var d=24;0<=d;d-=8)a[b]=this.b[c]>>d&255,++b;return a};var Bb=function(){this.F=new V};Bb.prototype.reset=function(){this.F.reset()};var Cb=n.crypto,Db=!1,Eb=0,Fb=0,Gb=1,Hb=0,Ib="",Jb=function(a){a=a||n.event;var b=a.screenX+a.clientX<<16,b=b+(a.screenY+a.clientY),b=(new Date).getTime()%1e6*b;Gb=Gb*b%Hb;0<Eb&&++Fb==Eb&&E("mousemove",Jb,"remove","de")},Kb=function(a){var b=new Bb;a=unescape(encodeURIComponent(a));for(var c=[],d=0,e=a.length;d<e;++d)c.push(a.charCodeAt(d));b.F.update(c);b=b.F.digest();a="";for(c=0;c<b.length;c++)a+="0123456789ABCDEF".charAt(Math.floor(b[c]/16))+"0123456789ABCDEF".charAt(b[c]%16);return a},Db=!!Cb&&"function"==typeof Cb.getRandomValues;Db||(Hb=1e6*(screen.width*screen.width+screen.height),Ib=Kb(p.cookie+"|"+p.location+"|"+(new Date).getTime()+"|"+Math.random()),Eb=T("random/maxObserveMousemove")||0,0!=Eb&&E("mousemove",Jb,"add","at"));var Lb=function(){var a=Gb,a=a+parseInt(Ib.substr(0,20),16);Ib=Kb(Ib);return a/(Hb+Math.pow(16,20))},Mb=function(){var a=new n.Uint32Array(1);Cb.getRandomValues(a);return Number("0."+a[0])};var Nb=function(){var a=H.onl;if(!a){a=w();H.onl=a;var b=w();a.e=function(a){var d=b[a];d&&(delete b[a],d())};a.a=function(a,d){b[a]=d};a.r=function(a){delete b[a]}}return a},Ob=function(a,b){var c=b.onload;return"function"===typeof c?(Nb().a(a,c),c):null},Pb=function(a){B(/^\w+$/.test(a),"Unsupported id - "+a);Nb();return'onload="window.___jsl.onl.e(&#34;'+a+'&#34;)"'},Qb=function(a){Nb().r(a)};var Rb={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},Sb={allowtransparency:!0,onload:!0},Tb=0,Ub=function(a){B(!a||va.test(a),"Illegal url for new iframe - "+a)},Vb=function(a,b,c,d,e){Ub(c.src);var f,g=Ob(d,c),k=g?Pb(d):"";try{document.all&&(f=a.createElement('<iframe frameborder="'+ma(String(c.frameborder))+'" scrolling="'+ma(String(c.scrolling))+'" '+k+' name="'+ma(String(c.name))+'"/>'))}catch(l){}finally{f||(f=a.createElement("iframe"),g&&(f.onload=function(){f.onload=null;g.call(this)},Qb(d)))}for(var h in c)a=c[h],"style"===h&&"object"===typeof a?A(a,f.style):Sb[h]||f.setAttribute(h,String(a));(h=e&&e.beforeNode||null)||e&&e.dontclear||Aa(b);b.insertBefore(f,h);f=h?h.previousSibling:b.lastChild;c.allowtransparency&&(f.allowTransparency=!0);return f};var Wb=/^:[\w]+$/,Xb=/:([a-zA-Z_]+):/g,Yb=function(){var a=xb()||"0",b=yb(),c;c=xb(void 0)||a;var d=yb(void 0),e="";c&&(e+="u/"+c+"/");d&&(e+="b/"+d+"/");c=e||null;(e=(d=!1===T("isLoggedIn"))?"_/im/":"")&&(c="");var f=T("iframes/:socialhost:"),g=T("iframes/:im_socialhost:");return ub={socialhost:f,ctx_socialhost:d?g:f,session_index:a,session_delegate:b,session_prefix:c,im_prefix:e}},Zb=function(a,b){return Yb()[b]||""},$b=function(a){return function(b,c){return a?Yb()[c]||a[c]||"":Yb()[c]||""}};var ac={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},bc=function(a){var b,c,d;b=/[\"\\\x00-\x1f\x7f-\x9f]/g;if(void 0!==a){switch(typeof a){case"string":return b.test(a)?'"'+a.replace(b,function(a){var b=ac[a];if(b)return b;b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"':'"'+a+'"';case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";b=[];if("number"===typeof a.length&&!a.propertyIsEnumerable("length")){d=a.length;for(c=0;c<d;c+=1)b.push(bc(a[c])||"null");return"["+b.join(",")+"]"}for(c in a)!/___$/.test(c)&&y(a,c)&&"string"===typeof c&&(d=bc(a[c]))&&b.push(bc(c)+":"+d);return"{"+b.join(",")+"}"}return""}},cc=function(a){if(!a)return!1;if(/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}return!1},dc=!1;try{dc=!!window.JSON&&'["a"]'===window.JSON.stringify(["a"])&&"a"===window.JSON.parse('["a"]')[0]}catch(a){}var ec=function(a){try{return window.JSON.parse(a)}catch(b){return!1}},fc=dc?window.JSON.stringify:bc,gc=dc?ec:cc;var hc=function(a){var b;a.match(/^https?%3A/i)&&(b=decodeURIComponent(a));return ua(document,b?b:a)},ic=function(a){a=a||"canonical";for(var b=document.getElementsByTagName("link"),c=0,d=b.length;c<d;c++){var e=b[c],f=e.getAttribute("rel");if(f&&f.toLowerCase()==a&&(e=e.getAttribute("href"))&&(e=hc(e))&&null!=e.match(/^https?:\/\/[\w\-\_\.]+/i))return e}return window.location.href};var jc={se:"0"},kc={post:!0},lc={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},mc="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),nc=v(H,"WI",w()),oc=function(a,b,c){var d,e;d={};var f=e=a;"plus"==a&&b.action&&(e=a+"_"+b.action,f=a+"/"+b.action);(e=T("iframes/"+e+"/url"))||(e=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+f+"?usegapi=1");for(var g in jc)d[g]=g+"/"+(b[g]||jc[g])+"/";d=ua(p,e.replace(Xb,$b(d)));g="iframes/"+a+"/params/";f={};A(b,f);(e=T("lang")||T("gwidget/lang"))&&(f.hl=e);kc[a]||(f.origin=window.location.origin||window.location.protocol+"//"+window.location.host);f.exp=T(g+"exp");if(g=T(g+"location"))for(e=0;e<g.length;e++){var k=g[e];f[k]=n.location[k]}switch(a){case"plus":case"follow":g=f.href;e=b.action?void 0:"publisher";g=(g="string"==typeof g?g:void 0)?hc(g):ic(e);f.url=g;delete f.href;break;case"plusone":g=(g=b.href)?hc(g):ic();f.url=g;g=b.db;e=T();null==g&&e&&(g=e.db,null==g&&(g=e.gwidget&&e.gwidget.db));f.db=g||void 0;g=b.ecp;e=T();null==g&&e&&(g=e.ecp,null==g&&(g=e.gwidget&&e.gwidget.ecp));f.ecp=g||void 0;delete f.href;break;case"signin":f.url=ic()}H.ILI&&(f.iloader="1");delete f["data-onload"];delete f.rd;for(var h in jc)f[h]&&delete f[h];f.gsrc=T("iframes/:source:");h=T("inline/css");"undefined"!==typeof h&&0<c&&h>=c&&(f.ic="1");h=/^#|^fr-/;c={};for(var l in f)y(f,l)&&h.test(l)&&(c[l.replace(h,"")]=f[l],delete f[l]);l="q"==T("iframes/"+a+"/params/si")?f:c;h=mb();for(var m in h)!y(h,m)||y(f,m)||y(c,m)||(l[m]=h[m]);m=[].concat(mc);(l=T("iframes/"+a+"/methods"))&&"object"===typeof l&&ea.test(l.push)&&(m=m.concat(l));for(var q in b)y(b,q)&&/^on/.test(q)&&("plus"!=a||"onconnect"!=q)&&(m.push(q),delete f[q]);delete f.callback;c._methods=m.join(",");return ta(d,f,c)},pc=["style","data-gapiscan"],rc=function(a){for(var b=w(),c=0!=a.nodeName.toLowerCase().indexOf("g:"),d=0,e=a.attributes.length;d<e;d++){var f=a.attributes[d],g=f.name,k=f.value;0<=fa.call(pc,g)||c&&0!=g.indexOf("data-")||"null"===k||"specified"in f&&!f.specified||(c&&(g=g.substr(5)),b[g.toLowerCase()]=k)}a=a.style;(c=qc(a&&a.height))&&(b.height=String(c));(a=qc(a&&a.width))&&(b.width=String(a));return b},qc=function(a){var b=void 0;"number"===typeof a?b=a:"string"===typeof a&&(b=parseInt(a,10));return b},tc=function(){var a=H.drw;sb(function(b){if(a!==b.id&&4!=b.state&&"share"!=b.type){var c=b.id,d=b.type,e=b.url;b=b.userParams;var f=p.getElementById(c);if(f){var g=oc(d,b,0);g?(f=f.parentNode,e.replace(/\#.*/,"").replace(/(\?|&)ic=1/,"")!==g.replace(/\#.*/,"").replace(/(\?|&)ic=1/,"")&&(b.dontclear=!0,b.rd=!0,b.ri=!0,b.type=d,sc(f,b),(d=U[f.lastChild.id])&&(d.oid=c),tb(c,4))):delete U[c]}else delete U[c]}})};var W,X,Y,uc,vc,wc=/(?:^|\s)g-((\S)*)(?:$|\s)/,xc={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};W=v(H,"SW",w());X=v(H,"SA",w());Y=v(H,"SM",w());uc=v(H,"FW",[]);vc=null;var zc=function(a,b){yc(void 0,!1,a,b)},yc=function(a,b,c,d){K("ps0",!0);c=("string"===typeof c?document.getElementById(c):c)||p;var e;e=p.documentMode;if(c.querySelectorAll&&(!e||8<e)){e=d?[d]:z(W).concat(z(X)).concat(z(Y));for(var f=[],g=0;g<e.length;g++){var k=e[g];f.push(".g-"+k,"g\\:"+k)}e=c.querySelectorAll(f.join(","))}else e=c.getElementsByTagName("*");c=w();for(f=0;f<e.length;f++){g=e[f];var h=g,k=d,l=h.nodeName.toLowerCase(),m=void 0;h.getAttribute("data-gapiscan")?k=null:(0==l.indexOf("g:")?m=l.substr(2):(h=(h=String(h.className||h.getAttribute("class")))&&wc.exec(h))&&(m=h[1]),k=!m||!(W[m]||X[m]||Y[m])||k&&m!==k?null:m);k&&(xc[k]||0==g.nodeName.toLowerCase().indexOf("g:")||0!=z(rc(g)).length)&&(g.setAttribute("data-gapiscan",!0),v(c,k,[]).push(g))}if(b)for(var q in c)for(b=c[q],d=0;d<b.length;d++)b[d].setAttribute("data-onload",!0);for(var u in c)uc.push(u);K("ps1",!0);if((q=uc.join(":"))||a)try{C.load(q,a)}catch(x){pb(x);return}if(Ac(vc||{}))for(var t in c){a=c[t];u=0;for(b=a.length;u<b;u++)a[u].removeAttribute("data-gapiscan");Bc(t)}else{d=[];for(t in c)for(a=c[t],u=0,b=a.length;u<b;u++)e=a[u],Cc(t,e,rc(e),d,b);Dc(q,d)}},Ec=function(a){var b=v(C,a,{});b.go||(b.go=function(b){return zc(b,a)},b.render=function(b,d){var e=d||{};e.type=a;return sc(b,e)})},Fc=function(a){W[a]=!0},Gc=function(a){X[a]=!0},Hc=function(a){Y[a]=!0};var Bc=function(a,b){var c=Da(a);b&&c?(c(b),(c=b.iframeNode)&&c.setAttribute("data-gapiattached",!0)):C.load(a,function(){var c=Da(a),e=b&&b.iframeNode,f=b&&b.userParams;e&&c?(c(b),e.setAttribute("data-gapiattached",!0)):(c=C[a].go,"signin2"==a?c(e,f):c(e&&e.parentNode,f))})},Ac=function(){return!1},Dc=function(){},Cc=function(a,b,c,d,e,f,g){switch(Ic(b,a,f)){case 0:a=Y[a]?a+"_annotation":a;d={};d.iframeNode=b;d.userParams=c;Bc(a,d);break;case 1:var k;if(b.parentNode){for(var h in c){if(f=y(c,h))f=c[h],f=!!f&&"object"===typeof f&&(!f.toString||f.toString===Object.prototype.toString||f.toString===Array.prototype.toString);if(f)try{c[h]=fc(c[h])}catch(F){delete c[h]}}f=!0;c.dontclear&&(f=!1);delete c.dontclear;rb();h=oc(a,c,e);e=g||{};e.allowPost=1;e.attributes=lc;e.dontclear=!f;g={};g.userParams=c;g.url=h;g.type=a;var l;c.rd?l=b:(l=document.createElement("div"),b.setAttribute("data-gapistub",!0),l.style.cssText="position:absolute;width:450px;left:-10000px;",b.parentNode.insertBefore(l,b));g.siteElement=l;l.id||(b=l,v(nc,a,0),f="___"+a+"_"+nc[a]++,b.id=f);b=w();b[">type"]=a;A(c,b);f=h;c=l;h=e||{};b=h.attributes||{};B(!h.allowPost||!b.onload,"onload is not supported by post iframe");e=b=f;Wb.test(b)&&(e=T("iframes/"+e.substring(1)+"/url"),B(!!e,"Unknown iframe url config for - "+b));f=ua(p,e.replace(Xb,Zb));b=c.ownerDocument||p;l=0;do{e=h.id||["I",Tb++,"_",(new Date).getTime()].join("")}while(b.getElementById(e)&&5>++l);B(5>l,"Error creating iframe id");l={};var m={};b.documentMode&&9>b.documentMode&&(l.hostiemode=b.documentMode);A(h.queryParams||{},l);A(h.fragmentParams||{},m);var q=h.connectWithQueryParams?l:m,u=h.pfname,t=w();t.id=e;t.parent=b.location.protocol+"//"+b.location.host;var x=D(b.location.href,"parent"),u=u||"";!u&&x&&(x=D(b.location.href,"id",""),u=D(b.location.href,"pfname",""),u=x?u+"/"+x:"");t.pfname=u;A(t,q);(t=D(f,"rpctoken")||l.rpctoken||m.rpctoken)||(t=q.rpctoken=h.rpctoken||String(Math.round(1e8*(Db?Mb():Lb()))));h.rpctoken=t;t=b.location.href;q=w();(x=D(t,"_bsh",H.bsh))&&(q._bsh=x);(t=I(t))&&(q.jsh=t);h.hintInFragment?A(q,m):A(q,l);f=ta(f,l,m,h.paramsSerializer);m=w();A(Rb,m);A(h.attributes,m);m.name=m.id=e;m.src=f;h.eurl=f;if((h||{}).allowPost&&2e3<f.length){l=qa(f);m.src="";m["data-postorigin"]=f;f=Vb(b,c,m,e);-1!=navigator.userAgent.indexOf("WebKit")&&(k=f.contentWindow.document,k.open(),m=k.createElement("div"),q={},t=e+"_inner",q.name=t,q.src="",q.style="display:none",Vb(b,m,q,t,h));m=(h=l.query[0])?h.split("&"):[];h=[];for(q=0;q<m.length;q++)t=m[q].split("=",2),h.push([decodeURIComponent(t[0]),decodeURIComponent(t[1])]);l.query=[];m=ra(l);B(va.test(m),"Invalid URL: "+m);l=b.createElement("form");l.action=m;l.method="POST";l.target=e;l.style.display="none";for(e=0;e<h.length;e++)m=b.createElement("input"),m.type="hidden",m.name=h[e][0],m.value=h[e][1],l.appendChild(m);c.appendChild(l);l.submit();l.parentNode.removeChild(l);k&&k.close();k=f}else k=Vb(b,c,m,e,h);g.iframeNode=k;g.id=k.getAttribute("id");k=g.id;c=w();c.id=k;c.userParams=g.userParams;c.url=g.url;c.type=g.type;c.state=1;U[k]=c;k=g}else k=null;k&&((g=k.id)&&d.push(g),Bc(a,k))}},Ic=function(a,b,c){if(a&&1===a.nodeType&&b){if(c)return 1;if(Y[b]){if(Ba[a.nodeName.toLowerCase()])return(a=a.innerHTML)&&a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(X[b])return 0;if(W[b])return 1}}return null},sc=function(a,b){var c=b.type;delete b.type;var d=("string"===typeof a?document.getElementById(a):a)||void 0;if(d){var e={},f;for(f in b)y(b,f)&&(e[f.toLowerCase()]=b[f]);e.rd=1;(f=!!e.ri)&&delete e.ri;var g=[];Cc(c,d,e,g,0,f,void 0);Dc(c,g)}else pb("string"==="gapi."+c+".render: missing element "+typeof a?a:"")};v(C,"platform",{}).go=zc;var Ac=function(a){for(var b=["_c","jsl","h"],c=0;c<b.length&&a;c++)a=a[b[c]];b=I(r.href);return!a||0!=a.indexOf("n;")&&0!=b.indexOf("n;")&&a!==b},Dc=function(a,b){Jc(a,b)},xa=function(a){yc(a,!0)},Kc=function(a,b){for(var c=b||[],d=0;d<c.length;++d)a(c[d]);for(d=0;d<c.length;d++)Ec(c[d])};M.push(["platform",function(a,b,c){vc=c;b&&uc.push(b);Kc(Fc,a);Kc(Gc,c._c.annotation);Kc(Hc,c._c.bimodal);ib();gb();if("explicit"!=T("parsetags")){Ca(a);nb(mb())&&!T("disableRealtimeCallback")&&rb();var d;c&&(a=c.callback)&&(d=na(a),delete c.callback);za(function(){xa(d)})}}]);C._pl=!0;var Lc=function(a){a=(a=U[a])?a.oid:void 0;if(a){var b=p.getElementById(a);b&&b.parentNode.removeChild(b);delete U[a];Lc(a)}};var Mc=/^\{h\:'/,Nc=/^!_/,Oc="",Jc=function(a,b){function c(){E("message",d,"remove","de")}function d(d){var g=d.data,k=d.origin;if(Pc(g,b)){var h=e;e=!1;h&&K("rqe");Qc(a,function(){h&&K("rqd");c();for(var a=v(H,"RPMQ",[]),b=0;b<a.length;b++)a[b]({data:g,origin:k})})}}if(0!==b.length){Oc=D(r.href,"pfname","");var e=!0;E("message",d,"add","at");P(a,c)}},Pc=function(a,b){a=String(a);if(Mc.test(a))return!0;var c=!1;Nc.test(a)&&(c=!0,a=a.substr(2));if(!/^\{/.test(a))return!1;var d=gc(a);if(!d)return!1;var e=d.f;if(d.s&&e&&-1!=fa.call(b,e)){if("_renderstart"===d.s||d.s===Oc+"/"+e+"::_renderstart"){var f=d.a&&d.a[c?0:1],c=p.getElementById(e);tb(e,2);if(f&&c&&f.width&&f.height){a:{d=c.parentNode;e=f||{};if(qb()){var g=c.id;if(g){f=(f=U[g])?f.state:void 0;if(1===f||4===f)break a;Lc(g)}}(f=d.nextSibling)&&f.getAttribute&&f.getAttribute("data-gapistub")&&(d.parentNode.removeChild(f),d.style.cssText="");var f=e.width,k=e.height,h=d.style;h.textIndent="0";h.margin="0";h.padding="0";h.background="transparent";h.borderStyle="none";h.cssFloat="none";h.styleFloat="none";h.lineHeight="normal";h.fontSize="1px";h.verticalAlign="baseline";d=d.style;d.display="inline-block";h=c.style;h.position="static";h.left="0";h.top="0";h.visibility="visible";f&&(d.width=h.width=f+"px");k&&(d.height=h.height=k+"px");e.verticalAlign&&(d.verticalAlign=e.verticalAlign);g&&tb(g,3)}c["data-csi-wdt"]=(new Date).getTime()}}return!0}return!1},Qc=function(a,b){P(a,b)};var Rc=function(a,b){this.O=a;var c=b||{};this.Y=Number(c.maxAge)||0;this.L=c.domain;this.P=c.path;this.$=!!c.secure},Sc=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,Tc=/^[A-Z_][A-Z0-9_]{0,63}$/;Rc.prototype.write=function(a,b){if(!Tc.test(this.O))throw"Invalid cookie name";if(!Sc.test(a))throw"Invalid cookie value";var c=this.O+"="+a;this.L&&(c+=";domain="+this.L);this.P&&(c+=";path="+this.P);var d="number"===typeof b?b:this.Y;if(0<=d){var e=new Date;e.setSeconds(e.getSeconds()+d);c+=";expires="+e.toUTCString()}this.$&&(c+=";secure");document.cookie=c;return!0};Rc.iterate=function(a){for(var b=document.cookie.split(/;\s*/),c=0;c<b.length;++c){var d=b[c].split("="),e=d.shift();a(e,d.join("="))}};var Uc=function(a){this.X=a},Vc={};Uc.prototype.write=function(a){Vc[this.X]=a;return!0};Uc.iterate=function(a){for(var b in Vc)Vc.hasOwnProperty(b)&&a(b,Vc[b])};var Wc="https:"===window.location.protocol,Xc=Wc||"http:"===window.location.protocol?Rc:Uc,Yc=function(a){var b=a.substr(1),c="",d=window.location.hostname;if(""!==b){c=parseInt(b,10);if(isNaN(c))return null;b=d.split(".");if(b.length<c-1)return null;b.length==c-1&&(d="."+d)}else d="";return{g:"S"==a.charAt(0),domain:d,i:c}},Zc=function(){var a,b=null;Xc.iterate(function(c,d){if(0===c.indexOf("G_AUTHUSER_")){var e=Yc(c.substring(11));if(!a||e.g&&!a.g||e.g==a.g&&e.i>a.i)a=e,b=d}});return{W:a,A:b}};var $c=function(a){if(0!==a.indexOf("GCSC"))return null;var b={N:!1};a=a.substr(4);if(!a)return b;var c=a.charAt(0);a=a.substr(1);var d=a.lastIndexOf("_");if(-1==d)return b;var e=Yc(a.substr(d+1));if(null==e)return b;a=a.substring(0,d);if("_"!==a.charAt(0))return b;d="E"===c&&e.g;return!d&&("U"!==c||e.g)||d&&!Wc?b:{N:!0,g:d,ca:a.substr(1),domain:e.domain,i:e.i}},ad=function(a){if(!a)return[];a=a.split("=");return a[1]?a[1].split("|"):[]},bd=function(a){a=a.split(":");return{C:a[0].split("=")[1],ba:ad(a[1]),ea:ad(a[2]),da:ad(a[3])}},cd=function(){var a=Zc(),b=a.W,a=a.A;if(null!==a){var c;Xc.iterate(function(a,d){var e=$c(a);e&&e.N&&e.g==b.g&&e.i==b.i&&(c=d)});if(c){var d=bd(c),e=d&&d.ba[Number(a)],d=d&&d.C;if(e)return{A:a,aa:e,C:d}}}return null};var Z=function(a){this.K=a};Z.prototype.l=0;Z.prototype.G=2;Z.prototype.K=null;Z.prototype.D=!1;Z.prototype.T=function(){this.D||(this.l=0,this.D=!0,this.R())};Z.prototype.R=function(){this.D&&(this.K()?this.l=this.G:this.l=Math.min(2*(this.l||this.G),120),window.setTimeout(ca(this.R,this),1e3*this.l))};for(var dd=0;64>dd;++dd);var ed=null,qb=function(){return H.oa=!0},rb=function(){H.oa=!0;var a=cd();(a=a&&a.A)&&hb("googleapis.config/sessionIndex",a);ed||(ed=v(H,"ss",new Z(fd)));a=ed;a.T&&a.T()},fd=function(){var a=cd(),b=a&&a.aa||null,c=a&&a.C;P("auth",{callback:function(){var a=n.gapi.auth,e={client_id:c,session_state:b};a.checkSessionState(e,function(b){var c=e.session_state,k=T("isLoggedIn");b=T("debug/forceIm")?!1:c&&b||!c&&!b;if(k=k!=b)hb("isLoggedIn",b),rb(),tc(),b||((b=a.signOut)?b():(b=a.setToken)&&b(null));b=mb();var h=T("savedUserState"),c=a._guss(b.cookiepolicy),h=h!=c&&"undefined"!=typeof h;hb("savedUserState",c);(k||h)&&nb(b)&&!T("disableRealtimeCallback")&&a._pimf(b,!0)})}});return!0};K("bs0",!0,window.gapi._bs);K("bs1",!0);delete window.gapi._bs})();gapi.load("",{callback:window["gapi_onload"],_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:true,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:false},debug:{reportExceptionRate:.05,forceIm:false,rethrowException:false,host:"https://apis.google.com"},lexps:[81,97,99,122,123,30,79,127],enableMultilogin:true,"googleapis.config":{auth:{useFirstPartyAuthV2:true}},isPlusUser:false,inline:{css:1},disableRealtimeCallback:false,drive_share:{skipInitCommand:true},csi:{rate:.01},report:{apiRate:{"gapi\\.signin\\..*":.05,"gapi\\.signin2\\..*":.05},apis:["iframes\\..*","gadgets\\..*","gapi\\.appcirclepicker\\..*","gapi\\.auth\\..*","gapi\\.client\\..*"],rate:.001,host:"https://apis.google.com"},client:{headers:{request:["Accept","Accept-Language","Authorization","Cache-Control","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-MD5","Content-Range","Content-Type","Date","GData-Version","Host","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Origin","OriginToken","Pragma","Range","Slug","Transfer-Encoding","Want-Digest","X-ClientDetails","X-GData-Client","X-GData-Key","X-Goog-AuthUser","X-Goog-PageId","X-Goog-Encode-Response-If-Executable","X-Goog-Correlation-Id","X-Goog-Request-Info","X-Goog-Experiments","x-goog-iam-authority-selector","x-goog-iam-authorization-token","X-Goog-Spatula","X-Goog-Upload-Command","X-Goog-Upload-Content-Disposition","X-Goog-Upload-Content-Length","X-Goog-Upload-Content-Type","X-Goog-Upload-File-Name","X-Goog-Upload-Offset","X-Goog-Upload-Protocol","X-Goog-Visitor-Id","X-HTTP-Method-Override","X-JavaScript-User-Agent","X-Pan-Versionid","X-Origin","X-Referer","X-Upload-Content-Length","X-Upload-Content-Type","X-Use-HTTP-Status-Code-Override","X-Ios-Bundle-Identifier","X-Android-Package","X-YouTube-VVT","X-YouTube-Page-CL","X-YouTube-Page-Timestamp"],response:["Digest","Cache-Control","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-MD5","Content-Range","Content-Type","Date","ETag","Expires","Last-Modified","Location","Pragma","Range","Server","Transfer-Encoding","WWW-Authenticate","Vary","Unzipped-Content-MD5","X-Goog-Generation","X-Goog-Metageneration","X-Goog-Safety-Content-Type","X-Goog-Safety-Encoding","X-Google-Trace","X-Goog-Upload-Chunk-Granularity","X-Goog-Upload-Control-URL","X-Goog-Upload-Size-Received","X-Goog-Upload-Status","X-Goog-Upload-URL","X-Goog-Diff-Download-Range","X-Goog-Hash","X-Goog-Updated-Authorization","X-Server-Object-Version","X-Guploader-Customer","X-Guploader-Upload-Result","X-Guploader-Uploadid","X-Google-Gfe-Backend-Request-Cost"]},rms:"migrated",cors:false},isLoggedIn:true,signInDeprecation:{rate:0},include_granted_scopes:true,llang:"en",plus_layer:{isEnabled:false},iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},udc_webconsentflow:{params:{url:""},url:"https://www.google.com/settings/webconsent?usegapi=1"},":source:":"3p",blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/additnow/additnow.html?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://www.gstatic.com/classroom/sharewidget/widget_stable.html?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1"},reportabuse:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/reportabuse?usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},savetowallet:{url:"https://clients5.google.com/s2w/o/savetowallet"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.en.MqINnCqRr0o.O/m=__features__/am=AQ/rt=j/d=1/rs=AGLTcCOl3RNdmDUopELORgrY91wPjcjuYg",u:"https://apis.google.com/js/platform.js",hee:true,fp:"2e7ae132bddcf67c69281fb135974c96dab9a8c6",dpo:false},platform:["additnow","backdrop","blogger","comments","commentcount","community","family_creation","follow","page","partnersbadge","person","playreview","plus","plusone","post","reportabuse","savetodrive","savetowallet","shortlists","signin2","udc_webconsentflow","visibility","youtube","ytsubscribe","zoomableimage","hangout","sharetoclassroom"],fp:"2e7ae132bddcf67c69281fb135974c96dab9a8c6",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});!function(a,b,c){var d,e,f;d="PIN_"+~~((new Date).getTime()/864e5),a[d]?a[d]+=1:(a[d]=1,a.setTimeout(function(){e=b.getElementsByTagName("SCRIPT")[0],f=b.createElement("SCRIPT"),f.type="text/javascript",f.async=!0,f.src=c.mainUrl+"?"+Math.random(),e.parentNode.insertBefore(f,e)},10))}(window,document,{mainUrl:"//assets.pinterest.com/js/pinit_main.js"});var CourseHeroSocialShare=Object.freeze({pinterestShare:function pinterestShare(bookUrl,infographicPinterestUrl,pinterestDescription){if(typeof PinUtils!=="undefined"){PinUtils.pinOne({url:bookUrl,media:infographicPinterestUrl,description:pinterestDescription})}},googlePlusShare:function googlePlusShare(url){if(typeof url!=="undefined"){window.open("https://plus.google.com/share?url="+url,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")}else{window.open(this.href,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")}return true},twitterShare:function twitterShare(){},fbShare:function fbShare(bookUrl){if(typeof FB!=="undefined"){FB.ui({method:"share",href:bookUrl},function(response){})}}});
//# sourceMappingURL=https://www.coursehero.com/sym-assets/js/bundle-9d6756f-12e7a2c.js.map