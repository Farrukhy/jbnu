(function($){var _={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(str){return!str||/^\s*$/.test(str)},escapeRegExChars:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(obj){return typeof obj==="string"},isNumber:function(obj){return typeof obj==="number"},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(obj){return typeof obj==="undefined"},bind:$.proxy,each:function(collection,cb){$.each(collection,reverseArgs);function reverseArgs(index,value){return cb(value,index)}},map:$.map,filter:$.grep,every:function(obj,test){var result=true;if(!obj){return result}$.each(obj,function(key,val){if(!(result=test.call(null,val,key,obj))){return false}});return!!result},some:function(obj,test){var result=false;if(!obj){return result}$.each(obj,function(key,val){if(result=test.call(null,val,key,obj)){return false}});return!!result},mixin:$.extend,getUniqueId:function(){var counter=0;return function(){return counter++}}(),templatify:function templatify(obj){return $.isFunction(obj)?obj:template;function template(){return String(obj)}},defer:function(fn){setTimeout(fn,0)},debounce:function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later,callNow;later=function(){timeout=null;if(!immediate){result=func.apply(context,args)}};callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args)}return result}},throttle:function(func,wait){var context,args,timeout,result,previous,later;previous=0;later=function(){previous=new Date;timeout=null;result=func.apply(context,args)};return function(){var now=new Date,remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args)}else if(!timeout){timeout=setTimeout(later,remaining)}return result}},noop:function(){}};var VERSION="0.10.2";var tokenizers=function(root){return{nonword:nonword,whitespace:whitespace,obj:{nonword:getObjTokenizer(nonword),whitespace:getObjTokenizer(whitespace)}};function whitespace(s){return s.split(/\s+/)}function nonword(s){return s.split(/\W+/)}function getObjTokenizer(tokenizer){return function setKey(key){return function tokenize(o){return tokenizer(o[key])}}}}();var LruCache=function(){function LruCache(maxSize){this.maxSize=maxSize||100;this.size=0;this.hash={};this.list=new List}_.mixin(LruCache.prototype,{set:function set(key,val){var tailItem=this.list.tail,node;if(this.size>=this.maxSize){this.list.remove(tailItem);delete this.hash[tailItem.key]}if(node=this.hash[key]){node.val=val;this.list.moveToFront(node)}else{node=new Node(key,val);this.list.add(node);this.hash[key]=node;this.size++}},get:function get(key){var node=this.hash[key];if(node){this.list.moveToFront(node);return node.val}}});function List(){this.head=this.tail=null}_.mixin(List.prototype,{add:function add(node){if(this.head){node.next=this.head;this.head.prev=node}this.head=node;this.tail=this.tail||node},remove:function remove(node){node.prev?node.prev.next=node.next:this.head=node.next;node.next?node.next.prev=node.prev:this.tail=node.prev},moveToFront:function(node){this.remove(node);this.add(node)}});function Node(key,val){this.key=key;this.val=val;this.prev=this.next=null}return LruCache}();var PersistentStorage=function(){var ls,methods;try{ls=window.localStorage;ls.setItem("~~~","!");ls.removeItem("~~~")}catch(err){ls=null}function PersistentStorage(namespace){this.prefix=["__",namespace,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}if(ls&&window.JSON){methods={_prefix:function(key){return this.prefix+key},_ttlKey:function(key){return this._prefix(key)+this.ttlKey},get:function(key){if(this.isExpired(key)){this.remove(key)}return decode(ls.getItem(this._prefix(key)))},set:function(key,val,ttl){if(_.isNumber(ttl)){ls.setItem(this._ttlKey(key),encode(now()+ttl))}else{ls.removeItem(this._ttlKey(key))}return ls.setItem(this._prefix(key),encode(val))},remove:function(key){ls.removeItem(this._ttlKey(key));ls.removeItem(this._prefix(key));return this},clear:function(){var i,key,keys=[],len=ls.length;for(i=0;i<len;i++){if((key=ls.key(i)).match(this.keyMatcher)){keys.push(key.replace(this.keyMatcher,""))}}for(i=keys.length;i--;){this.remove(keys[i])}return this},isExpired:function(key){var ttl=decode(ls.getItem(this._ttlKey(key)));return _.isNumber(ttl)&&now()>ttl?true:false}}}else{methods={get:_.noop,set:_.noop,remove:_.noop,clear:_.noop,isExpired:_.noop}}_.mixin(PersistentStorage.prototype,methods);return PersistentStorage;function now(){return(new Date).getTime()}function encode(val){return JSON.stringify(_.isUndefined(val)?null:val)}function decode(val){return JSON.parse(val)}}();var Transport=function(){var pendingRequestsCount=0,pendingRequests={},maxPendingRequests=6,requestCache=new LruCache(10);function Transport(o){o=o||{};this._send=o.transport?callbackToDeferred(o.transport):$.ajax;this._get=o.rateLimiter?o.rateLimiter(this._get):this._get}Transport.setMaxPendingRequests=function setMaxPendingRequests(num){maxPendingRequests=num};Transport.resetCache=function clearCache(){requestCache=new LruCache(10)};_.mixin(Transport.prototype,{_get:function(url,o,cb){var that=this,jqXhr;if(jqXhr=pendingRequests[url]){jqXhr.done(done).fail(fail)}else if(pendingRequestsCount<maxPendingRequests){pendingRequestsCount++;pendingRequests[url]=this._send(url,o).done(done).fail(fail).always(always)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function done(resp){cb&&cb(null,resp);requestCache.set(url,resp)}function fail(){cb&&cb(true)}function always(){pendingRequestsCount--;delete pendingRequests[url];if(that.onDeckRequestArgs){that._get.apply(that,that.onDeckRequestArgs);that.onDeckRequestArgs=null}}},get:function(url,o,cb){var resp;if(_.isFunction(o)){cb=o;o={}}if(resp=requestCache.get(url)){_.defer(function(){cb&&cb(null,resp)})}else{this._get(url,o,cb)}return!!resp}});return Transport;function callbackToDeferred(fn){return function customSendWrapper(url,o){var deferred=$.Deferred();fn(url,o,onSuccess,onError);return deferred;function onSuccess(resp){_.defer(function(){deferred.resolve(resp)})}function onError(err){_.defer(function(){deferred.reject(err)})}}}}();var SearchIndex=function(){function SearchIndex(o){o=o||{};if(!o.datumTokenizer||!o.queryTokenizer){$.error("datumTokenizer and queryTokenizer are both required")}this.datumTokenizer=o.datumTokenizer;this.queryTokenizer=o.queryTokenizer;this.reset()}_.mixin(SearchIndex.prototype,{bootstrap:function bootstrap(o){this.datums=o.datums;this.trie=o.trie},add:function(data){var that=this;data=_.isArray(data)?data:[data];_.each(data,function(datum){var id,tokens;id=that.datums.push(datum)-1;tokens=normalizeTokens(that.datumTokenizer(datum));_.each(tokens,function(token){var node,chars,ch;node=that.trie;chars=token.split("");while(ch=chars.shift()){node=node.children[ch]||(node.children[ch]=newNode());node.ids.push(id)}})})},get:function get(query){var that=this,tokens,matches;tokens=normalizeTokens(this.queryTokenizer(query));_.each(tokens,function(token){var node,chars,ch,ids;if(matches&&matches.length===0){return false}node=that.trie;chars=token.split("");while(node&&(ch=chars.shift())){node=node.children[ch]}if(node&&chars.length===0){ids=node.ids.slice(0);matches=matches?getIntersection(matches,ids):ids}else{matches=[];return false}});return matches?_.map(unique(matches),function(id){return that.datums[id]}):[]},reset:function reset(){this.datums=[];this.trie=newNode()},serialize:function serialize(){return{datums:this.datums,trie:this.trie}}});return SearchIndex;function normalizeTokens(tokens){tokens=_.filter(tokens,function(token){return!!token});tokens=_.map(tokens,function(token){return token.toLowerCase()});return tokens}function newNode(){return{ids:[],children:{}}}function unique(array){var seen={},uniques=[];for(var i=0;i<array.length;i++){if(!seen[array[i]]){seen[array[i]]=true;uniques.push(array[i])}}return uniques}function getIntersection(arrayA,arrayB){var ai=0,bi=0,intersection=[];arrayA=arrayA.sort(compare);arrayB=arrayB.sort(compare);while(ai<arrayA.length&&bi<arrayB.length){if(arrayA[ai]<arrayB[bi]){ai++}else if(arrayA[ai]>arrayB[bi]){bi++}else{intersection.push(arrayA[ai]);ai++;bi++}}return intersection;function compare(a,b){return a-b}}}();var oParser=function(){return{local:getLocal,prefetch:getPrefetch,remote:getRemote};function getLocal(o){return o.local||null}function getPrefetch(o){var prefetch,defaults;defaults={url:null,thumbprint:"",ttl:24*60*60*1e3,filter:null,ajax:{}};if(prefetch=o.prefetch||null){prefetch=_.isString(prefetch)?{url:prefetch}:prefetch;prefetch=_.mixin(defaults,prefetch);prefetch.thumbprint=VERSION+prefetch.thumbprint;prefetch.ajax.type=prefetch.ajax.type||"GET";prefetch.ajax.dataType=prefetch.ajax.dataType||"json";!prefetch.url&&$.error("prefetch requires url to be set")}return prefetch}function getRemote(o){var remote,defaults;defaults={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}};if(remote=o.remote||null){remote=_.isString(remote)?{url:remote}:remote;remote=_.mixin(defaults,remote);remote.rateLimiter=/^throttle$/i.test(remote.rateLimitBy)?byThrottle(remote.rateLimitWait):byDebounce(remote.rateLimitWait);remote.ajax.type=remote.ajax.type||"GET";remote.ajax.dataType=remote.ajax.dataType||"json";delete remote.rateLimitBy;delete remote.rateLimitWait;!remote.url&&$.error("remote requires url to be set")}return remote;function byDebounce(wait){return function(fn){return _.debounce(fn,wait)}}function byThrottle(wait){return function(fn){return _.throttle(fn,wait)}}}}();(function(root){var old,keys;old=root.Bloodhound;keys={data:"data",protocol:"protocol",thumbprint:"thumbprint"};root.Bloodhound=Bloodhound;function Bloodhound(o){if(!o||!o.local&&!o.prefetch&&!o.remote){$.error("one of local, prefetch, or remote is required")}this.limit=o.limit||5;this.sorter=getSorter(o.sorter);this.dupDetector=o.dupDetector||ignoreDuplicates;this.local=oParser.local(o);this.prefetch=oParser.prefetch(o);this.remote=oParser.remote(o);this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null;this.index=new SearchIndex({datumTokenizer:o.datumTokenizer,queryTokenizer:o.queryTokenizer});this.storage=this.cacheKey?new PersistentStorage(this.cacheKey):null}Bloodhound.noConflict=function noConflict(){root.Bloodhound=old;return Bloodhound};Bloodhound.tokenizers=tokenizers;_.mixin(Bloodhound.prototype,{_loadPrefetch:function loadPrefetch(o){var that=this,serialized,deferred;if(serialized=this._readFromStorage(o.thumbprint)){this.index.bootstrap(serialized);deferred=$.Deferred().resolve()}else{deferred=$.ajax(o.url,o.ajax).done(handlePrefetchResponse)}return deferred;function handlePrefetchResponse(resp){that.clear();that.add(o.filter?o.filter(resp):resp);that._saveToStorage(that.index.serialize(),o.thumbprint,o.ttl)}},_getFromRemote:function getFromRemote(query,cb){var that=this,url,uriEncodedQuery;query=query||"";uriEncodedQuery=encodeURIComponent(query);url=this.remote.replace?this.remote.replace(this.remote.url,query):this.remote.url.replace(this.remote.wildcard,uriEncodedQuery);return this.transport.get(url,this.remote.ajax,handleRemoteResponse);function handleRemoteResponse(err,resp){err?cb([]):cb(that.remote.filter?that.remote.filter(resp):resp)}},_saveToStorage:function saveToStorage(data,thumbprint,ttl){if(this.storage){this.storage.set(keys.data,data,ttl);this.storage.set(keys.protocol,location.protocol,ttl);this.storage.set(keys.thumbprint,thumbprint,ttl)}},_readFromStorage:function readFromStorage(thumbprint){var stored={},isExpired;if(this.storage){stored.data=this.storage.get(keys.data);stored.protocol=this.storage.get(keys.protocol);stored.thumbprint=this.storage.get(keys.thumbprint)}isExpired=stored.thumbprint!==thumbprint||stored.protocol!==location.protocol;return stored.data&&!isExpired?stored.data:null},_initialize:function initialize(){var that=this,local=this.local,deferred;deferred=this.prefetch?this._loadPrefetch(this.prefetch):$.Deferred().resolve();local&&deferred.done(addLocalToIndex);this.transport=this.remote?new Transport(this.remote):null;return this.initPromise=deferred.promise();function addLocalToIndex(){that.add(_.isFunction(local)?local():local)}},initialize:function initialize(force){return!this.initPromise||force?this._initialize():this.initPromise},add:function add(data){this.index.add(data)},get:function get(query,cb){var that=this,matches=[],cacheHit=false;matches=this.index.get(query);matches=this.sorter(matches).slice(0,this.limit);if(matches.length<this.limit&&this.transport){cacheHit=this._getFromRemote(query,returnRemoteMatches)}if(!cacheHit){(matches.length>0||!this.transport)&&cb&&cb(matches)}function returnRemoteMatches(remoteMatches){var matchesWithBackfill=matches.slice(0);_.each(remoteMatches,function(remoteMatch){var isDuplicate;isDuplicate=_.some(matchesWithBackfill,function(match){return that.dupDetector(remoteMatch,match)});!isDuplicate&&matchesWithBackfill.push(remoteMatch);return matchesWithBackfill.length<that.limit});cb&&cb(that.sorter(matchesWithBackfill))}},clear:function clear(){this.index.reset()},clearPrefetchCache:function clearPrefetchCache(){this.storage&&this.storage.clear()},clearRemoteCache:function clearRemoteCache(){this.transport&&Transport.resetCache()},ttAdapter:function ttAdapter(){return _.bind(this.get,this)}});return Bloodhound;function getSorter(sortFn){return _.isFunction(sortFn)?sort:noSort;function sort(array){return array.sort(sortFn)}function noSort(array){return array}}function ignoreDuplicates(){return false}})(this);var html={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'};var css={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"9999",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(_.isMsie()){_.mixin(css.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}if(_.isMsie()&&_.isMsie()<=7){_.mixin(css.input,{marginTop:"-1px"})}var EventBus=function(){var namespace="typeahead:";function EventBus(o){if(!o||!o.el){$.error("EventBus initialized without el")}this.$el=$(o.el)}_.mixin(EventBus.prototype,{trigger:function(type){var args=[].slice.call(arguments,1);this.$el.trigger(namespace+type,args)}});return EventBus}();var EventEmitter=function(){var splitter=/\s+/,nextTick=getNextTick();return{onSync:onSync,onAsync:onAsync,off:off,trigger:trigger};function on(method,types,cb,context){var type;if(!cb){return this}types=types.split(splitter);cb=context?bindContext(cb,context):cb;this._callbacks=this._callbacks||{};while(type=types.shift()){this._callbacks[type]=this._callbacks[type]||{sync:[],async:[]};this._callbacks[type][method].push(cb)}return this}function onAsync(types,cb,context){return on.call(this,"async",types,cb,context)}function onSync(types,cb,context){return on.call(this,"sync",types,cb,context)}function off(types){var type;if(!this._callbacks){return this}types=types.split(splitter);while(type=types.shift()){delete this._callbacks[type]}return this}function trigger(types){var type,callbacks,args,syncFlush,asyncFlush;if(!this._callbacks){return this}types=types.split(splitter);args=[].slice.call(arguments,1);while((type=types.shift())&&(callbacks=this._callbacks[type])){syncFlush=getFlush(callbacks.sync,this,[type].concat(args));asyncFlush=getFlush(callbacks.async,this,[type].concat(args));syncFlush()&&nextTick(asyncFlush)}return this}function getFlush(callbacks,context,args){return flush;function flush(){var cancelled;for(var i=0;!cancelled&&i<callbacks.length;i+=1){cancelled=callbacks[i].apply(context,args)===false}return!cancelled}}function getNextTick(){var nextTickFn;if(window.setImmediate){nextTickFn=function nextTickSetImmediate(fn){setImmediate(function(){fn()})}}else{nextTickFn=function nextTickSetTimeout(fn){setTimeout(function(){fn()},0)}}return nextTickFn}function bindContext(fn,context){return fn.bind?fn.bind(context):function(){fn.apply(context,[].slice.call(arguments,0))}}}();var highlight=function(doc){var defaults={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false};return function hightlight(o){var regex;o=_.mixin({},defaults,o);if(!o.node||!o.pattern){return}o.pattern=_.isArray(o.pattern)?o.pattern:[o.pattern];regex=getRegex(o.pattern,o.caseSensitive,o.wordsOnly);traverse(o.node,hightlightTextNode);function hightlightTextNode(textNode){var match,patternNode;if(match=regex.exec(textNode.data)){wrapperNode=doc.createElement(o.tagName);o.className&&(wrapperNode.className=o.className);patternNode=textNode.splitText(match.index);patternNode.splitText(match[0].length);wrapperNode.appendChild(patternNode.cloneNode(true));textNode.parentNode.replaceChild(wrapperNode,patternNode)}return!!match}function traverse(el,hightlightTextNode){var childNode,TEXT_NODE_TYPE=3;for(var i=0;i<el.childNodes.length;i++){childNode=el.childNodes[i];if(childNode.nodeType===TEXT_NODE_TYPE){i+=hightlightTextNode(childNode)?1:0}else{traverse(childNode,hightlightTextNode)}}}};function getRegex(patterns,caseSensitive,wordsOnly){var escapedPatterns=[],regexStr;for(var i=0;i<patterns.length;i++){escapedPatterns.push(_.escapeRegExChars(patterns[i]))}regexStr=wordsOnly?"\\b("+escapedPatterns.join("|")+")\\b":"("+escapedPatterns.join("|")+")";return caseSensitive?new RegExp(regexStr):new RegExp(regexStr,"i")}}(window.document);var Input=function(){var specialKeyCodeMap;specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function Input(o){var that=this,onBlur,onFocus,onKeydown,onInput;o=o||{};if(!o.input){$.error("input is missing")}onBlur=_.bind(this._onBlur,this);onFocus=_.bind(this._onFocus,this);onKeydown=_.bind(this._onKeydown,this);onInput=_.bind(this._onInput,this);this.$hint=$(o.hint);this.$input=$(o.input).on("blur.tt",onBlur).on("focus.tt",onFocus).on("keydown.tt",onKeydown);if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=_.noop}if(!_.isMsie()){this.$input.on("input.tt",onInput)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function($e){if(specialKeyCodeMap[$e.which||$e.keyCode]){return}_.defer(_.bind(that._onInput,that,$e))})}this.query=this.$input.val();this.$overflowHelper=buildOverflowHelper(this.$input)}Input.normalizeQuery=function(str){return(str||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")};_.mixin(Input.prototype,EventEmitter,{_onBlur:function onBlur(){this.resetInputValue();this.trigger("blurred")},_onFocus:function onFocus(){this.trigger("focused")},_onKeydown:function onKeydown($e){var keyName=specialKeyCodeMap[$e.which||$e.keyCode];this._managePreventDefault(keyName,$e);if(keyName&&this._shouldTrigger(keyName,$e)){this.trigger(keyName+"Keyed",$e)}},_onInput:function onInput(){this._checkInputValue()},_managePreventDefault:function managePreventDefault(keyName,$e){var preventDefault,hintValue,inputValue;switch(keyName){case"tab":hintValue=this.getHint();inputValue=this.getInputValue();preventDefault=hintValue&&hintValue!==inputValue&&!withModifier($e);break;case"up":case"down":preventDefault=!withModifier($e);break;default:preventDefault=false}preventDefault&&$e.preventDefault()},_shouldTrigger:function shouldTrigger(keyName,$e){var trigger;switch(keyName){case"tab":trigger=!withModifier($e);break;default:trigger=true}return trigger},_checkInputValue:function checkInputValue(){var inputValue,areEquivalent,hasDifferentWhitespace;inputValue=this.getInputValue();areEquivalent=areQueriesEquivalent(inputValue,this.query);hasDifferentWhitespace=areEquivalent?this.query.length!==inputValue.length:false;if(!areEquivalent){this.trigger("queryChanged",this.query=inputValue)}else if(hasDifferentWhitespace){this.trigger("whitespaceChanged",this.query)}},focus:function focus(){this.$input.focus()},blur:function blur(){this.$input.blur()},getQuery:function getQuery(){return this.query},setQuery:function setQuery(query){this.query=query},getInputValue:function getInputValue(){return this.$input.val()},setInputValue:function setInputValue(value,silent){this.$input.val(value);silent?this.clearHint():this._checkInputValue()},resetInputValue:function resetInputValue(){this.setInputValue(this.query,true)},getHint:function getHint(){return this.$hint.val()},setHint:function setHint(value){this.$hint.val(value)},clearHint:function clearHint(){this.setHint("")},clearHintIfInvalid:function clearHintIfInvalid(){var val,hint,valIsPrefixOfHint,isValid;val=this.getInputValue();hint=this.getHint();valIsPrefixOfHint=val!==hint&&hint.indexOf(val)===0;isValid=val!==""&&valIsPrefixOfHint&&!this.hasOverflow();!isValid&&this.clearHint()},getLanguageDirection:function getLanguageDirection(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function hasOverflow(){var constraint=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=constraint},isCursorAtEnd:function(){var valueLength,selectionStart,range;valueLength=this.$input.val().length;selectionStart=this.$input[0].selectionStart;if(_.isNumber(selectionStart)){return selectionStart===valueLength}else if(document.selection){range=document.selection.createRange();range.moveStart("character",-valueLength);return valueLength===range.text.length}return true},destroy:function destroy(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null}});return Input;function buildOverflowHelper($input){return $('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",textIndent:$input.css("text-indent"),textRendering:$input.css("text-rendering"),textTransform:$input.css("text-transform")}).insertAfter($input)}function areQueriesEquivalent(a,b){return Input.normalizeQuery(a)===Input.normalizeQuery(b)}function withModifier($e){return $e.altKey||$e.ctrlKey||$e.metaKey||$e.shiftKey}}();var Dataset=function(){var datasetKey="ttDataset",valueKey="ttValue",datumKey="ttDatum";function Dataset(o){o=o||{};o.templates=o.templates||{};if(!o.source){$.error("missing source")}if(o.name&&!isValidName(o.name)){$.error("invalid dataset name: "+o.name)}this.query=null;this.highlight=!!o.highlight;this.name=o.name||_.getUniqueId();this.source=o.source;this.displayFn=getDisplayFn(o.display||o.displayKey);this.templates=getTemplates(o.templates,this.displayFn);this.$el=$(html.dataset.replace("%CLASS%",this.name))}Dataset.extractDatasetName=function extractDatasetName(el){return $(el).data(datasetKey)};Dataset.extractValue=function extractDatum(el){return $(el).data(valueKey)};Dataset.extractDatum=function extractDatum(el){return $(el).data(datumKey)};_.mixin(Dataset.prototype,EventEmitter,{_render:function render(query,suggestions){if(!this.$el){return}var that=this,hasSuggestions;this.$el.empty();hasSuggestions=suggestions&&suggestions.length;if(!hasSuggestions&&this.templates.empty){this.$el.html(getEmptyHtml()).prepend(that.templates.header?getHeaderHtml():null).append(that.templates.footer?getFooterHtml():null)}else if(hasSuggestions){this.$el.html(getSuggestionsHtml()).prepend(that.templates.header?getHeaderHtml():null).append(that.templates.footer?getFooterHtml():null)}this.trigger("rendered");function getEmptyHtml(){return that.templates.empty({query:query,isEmpty:true})}function getSuggestionsHtml(){var $suggestions,nodes;$suggestions=$(html.suggestions).css(css.suggestions);nodes=_.map(suggestions,getSuggestionNode);$suggestions.append.apply($suggestions,nodes);that.highlight&&highlight({node:$suggestions[0],pattern:query});return $suggestions;function getSuggestionNode(suggestion){var $el;$el=$(html.suggestion).append(that.templates.suggestion(suggestion)).data(datasetKey,that.name).data(valueKey,that.displayFn(suggestion)).data(datumKey,suggestion);$el.children().each(function(){$(this).css(css.suggestionChild)});return $el}}function getHeaderHtml(){return that.templates.header({query:query,isEmpty:!hasSuggestions})}function getFooterHtml(){return that.templates.footer({query:query,isEmpty:!hasSuggestions})}},getRoot:function getRoot(){return this.$el},update:function update(query){var that=this;this.query=query;this.canceled=false;this.source(query,render);function render(suggestions){if(!that.canceled&&query===that.query){that._render(query,suggestions)}}},cancel:function cancel(){this.canceled=true},clear:function clear(){this.cancel();this.$el.empty();this.trigger("rendered")},isEmpty:function isEmpty(){return this.$el.is(":empty")},destroy:function destroy(){this.$el=null}});return Dataset;function getDisplayFn(display){display=display||"value";return _.isFunction(display)?display:displayFn;function displayFn(obj){return obj[display]}}function getTemplates(templates,displayFn){return{empty:templates.empty&&_.templatify(templates.empty),header:templates.header&&_.templatify(templates.header),footer:templates.footer&&_.templatify(templates.footer),suggestion:templates.suggestion||suggestionTemplate};function suggestionTemplate(context){return"<p>"+displayFn(context)+"</p>"}}function isValidName(str){return/^[_a-zA-Z0-9-]+$/.test(str)}}();var Dropdown=function(){function Dropdown(o){var that=this,onSuggestionClick,onSuggestionMouseEnter,onSuggestionMouseLeave;o=o||{};if(!o.menu){$.error("menu is required")}this.isOpen=false;this.isEmpty=true;this.datasets=_.map(o.datasets,initializeDataset);onSuggestionClick=_.bind(this._onSuggestionClick,this);onSuggestionMouseEnter=_.bind(this._onSuggestionMouseEnter,this);onSuggestionMouseLeave=_.bind(this._onSuggestionMouseLeave,this);this.$menu=$(o.menu).on("click.tt",".tt-suggestion",onSuggestionClick).on("mouseenter.tt",".tt-suggestion",onSuggestionMouseEnter).on("mouseleave.tt",".tt-suggestion",onSuggestionMouseLeave);_.each(this.datasets,function(dataset){that.$menu.append(dataset.getRoot());dataset.onSync("rendered",that._onRendered,that)})}_.mixin(Dropdown.prototype,EventEmitter,{_onSuggestionClick:function onSuggestionClick($e){this.trigger("suggestionClicked",$($e.currentTarget))},_onSuggestionMouseEnter:function onSuggestionMouseEnter($e){this._removeCursor();this._setCursor($($e.currentTarget),true)},_onSuggestionMouseLeave:function onSuggestionMouseLeave(){this._removeCursor()},_onRendered:function onRendered(){this.isEmpty=_.every(this.datasets,isDatasetEmpty);this.isEmpty?this._hide():this.isOpen&&this._show();this.trigger("datasetRendered");function isDatasetEmpty(dataset){return dataset.isEmpty()}},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function getSuggestions(){return this.$menu.find(".tt-suggestion")},_getCursor:function getCursor(){return this.$menu.find(".tt-cursor").first()},_setCursor:function setCursor($el,silent){$el.first().addClass("tt-cursor");!silent&&this.trigger("cursorMoved")},_removeCursor:function removeCursor(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function moveCursor(increment){var $suggestions,$oldCursor,newCursorIndex,$newCursor;if(!this.isOpen){return}$oldCursor=this._getCursor();$suggestions=this._getSuggestions();this._removeCursor();newCursorIndex=$suggestions.index($oldCursor)+increment;newCursorIndex=(newCursorIndex+1)%($suggestions.length+1)-1;if(newCursorIndex===-1){this.trigger("cursorRemoved");return}else if(newCursorIndex<-1){newCursorIndex=$suggestions.length-1}this._setCursor($newCursor=$suggestions.eq(newCursorIndex));this._ensureVisible($newCursor)},_ensureVisible:function ensureVisible($el){var elTop,elBottom,menuScrollTop,menuHeight;elTop=$el.position().top;elBottom=elTop+$el.outerHeight(true);menuScrollTop=this.$menu.scrollTop();menuHeight=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);if(elTop<0){this.$menu.scrollTop(menuScrollTop+elTop)}else if(menuHeight<elBottom){this.$menu.scrollTop(menuScrollTop+(elBottom-menuHeight))}},close:function close(){if(this.isOpen){this.isOpen=false;this._removeCursor();this._hide();this.trigger("closed")}},open:function open(){if(!this.isOpen){this.isOpen=true;!this.isEmpty&&this._show();this.trigger("opened")}},setLanguageDirection:function setLanguageDirection(dir){this.$menu.css(dir==="ltr"?css.ltr:css.rtl)},moveCursorUp:function moveCursorUp(){this._moveCursor(-1)},moveCursorDown:function moveCursorDown(){this._moveCursor(+1)},getDatumForSuggestion:function getDatumForSuggestion($el){var datum=null;if($el.length){datum={raw:Dataset.extractDatum($el),value:Dataset.extractValue($el),datasetName:Dataset.extractDatasetName($el)}}return datum},getDatumForCursor:function getDatumForCursor(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function getDatumForTopSuggestion(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function update(query){_.each(this.datasets,updateDataset);function updateDataset(dataset){dataset.update(query)}},empty:function empty(){_.each(this.datasets,clearDataset);this.isEmpty=true;function clearDataset(dataset){dataset.clear()}},isVisible:function isVisible(){return this.isOpen&&!this.isEmpty},destroy:function destroy(){this.$menu.off(".tt");this.$menu=null;_.each(this.datasets,destroyDataset);function destroyDataset(dataset){dataset.destroy()}}});return Dropdown;function initializeDataset(oDataset){return new Dataset(oDataset)}}();var Typeahead=function(){var attrsKey="ttAttrs";function Typeahead(o){var $menu,$input,$hint;o=o||{};if(!o.input){$.error("missing input")}this.isActivated=false;this.autoselect=!!o.autoselect;this.minLength=_.isNumber(o.minLength)?o.minLength:1;this.$node=buildDomStructure(o.input,o.withHint);$menu=this.$node.find(".tt-dropdown-menu");$input=this.$node.find(".tt-input");$hint=this.$node.find(".tt-hint");$input.on("blur.tt",function($e){var active,isActive,hasActive;active=document.activeElement;isActive=$menu.is(active);hasActive=$menu.has(active).length>0;if(_.isMsie()&&(isActive||hasActive)){$e.preventDefault();$e.stopImmediatePropagation();_.defer(function(){$input.focus()})}});$menu.on("mousedown.tt",function($e){$e.preventDefault()});this.eventBus=o.eventBus||new EventBus({el:$input});this.dropdown=new Dropdown({menu:$menu,datasets:o.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this);this.input=new Input({input:$input,hint:$hint}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this);this._setLanguageDirection()}_.mixin(Typeahead.prototype,{_onSuggestionClicked:function onSuggestionClicked(type,$el){var datum;if(datum=this.dropdown.getDatumForSuggestion($el)){this._select(datum)}},_onCursorMoved:function onCursorMoved(){var datum=this.dropdown.getDatumForCursor();this.input.setInputValue(datum.value,true);this.eventBus.trigger("cursorchanged",datum.raw,datum.datasetName)},_onCursorRemoved:function onCursorRemoved(){this.input.resetInputValue();this._updateHint()},_onDatasetRendered:function onDatasetRendered(){this._updateHint()},_onOpened:function onOpened(){this._updateHint();this.eventBus.trigger("opened")},_onClosed:function onClosed(){this.input.clearHint();this.eventBus.trigger("closed")},_onFocused:function onFocused(){this.isActivated=true;this.dropdown.open()},_onBlurred:function onBlurred(){this.isActivated=false;this.dropdown.empty();this.dropdown.close()},_onEnterKeyed:function onEnterKeyed(type,$e){var cursorDatum,topSuggestionDatum;cursorDatum=this.dropdown.getDatumForCursor();topSuggestionDatum=this.dropdown.getDatumForTopSuggestion();if(cursorDatum){this._select(cursorDatum);$e.preventDefault()}else if(this.autoselect&&topSuggestionDatum){this._select(topSuggestionDatum);$e.preventDefault()}},_onTabKeyed:function onTabKeyed(type,$e){var datum;if(datum=this.dropdown.getDatumForCursor()){this._select(datum);$e.preventDefault()}else{this._autocomplete(true)}},_onEscKeyed:function onEscKeyed(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function onUpKeyed(){var query=this.input.getQuery();this.dropdown.isEmpty&&query.length>=this.minLength?this.dropdown.update(query):this.dropdown.moveCursorUp();this.dropdown.open()},_onDownKeyed:function onDownKeyed(){var query=this.input.getQuery();this.dropdown.isEmpty&&query.length>=this.minLength?this.dropdown.update(query):this.dropdown.moveCursorDown();this.dropdown.open()},_onLeftKeyed:function onLeftKeyed(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function onRightKeyed(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function onQueryChanged(e,query){this.input.clearHintIfInvalid();query.length>=this.minLength?this.dropdown.update(query):this.dropdown.empty();this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function onWhitespaceChanged(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function setLanguageDirection(){var dir;if(this.dir!==(dir=this.input.getLanguageDirection())){this.dir=dir;this.$node.css("direction",dir);this.dropdown.setLanguageDirection(dir)}},_updateHint:function updateHint(){var datum,val,query,escapedQuery,frontMatchRegEx,match;datum=this.dropdown.getDatumForTopSuggestion();if(datum&&this.dropdown.isVisible()&&!this.input.hasOverflow()){val=this.input.getInputValue();query=Input.normalizeQuery(val);escapedQuery=_.escapeRegExChars(query);frontMatchRegEx=new RegExp("^(?:"+escapedQuery+")(.+$)","i");match=frontMatchRegEx.exec(datum.value);match?this.input.setHint(val+match[1]):this.input.clearHint()}else{this.input.clearHint()}},_autocomplete:function autocomplete(laxCursor){var hint,query,isCursorAtEnd,datum;hint=this.input.getHint();query=this.input.getQuery();isCursorAtEnd=laxCursor||this.input.isCursorAtEnd();if(hint&&query!==hint&&isCursorAtEnd){datum=this.dropdown.getDatumForTopSuggestion();datum&&this.input.setInputValue(datum.value);this.eventBus.trigger("autocompleted",datum.raw,datum.datasetName)}},_select:function select(datum){this.input.setQuery(datum.value);this.input.setInputValue(datum.value,true);this._setLanguageDirection();this.eventBus.trigger("selected",datum.raw,datum.datasetName);this.dropdown.close();_.defer(_.bind(this.dropdown.empty,this.dropdown))},open:function open(){this.dropdown.open()},close:function close(){this.dropdown.close()},setVal:function setVal(val){if(this.isActivated){this.input.setInputValue(val)}else{this.input.setQuery(val);this.input.setInputValue(val,true)}this._setLanguageDirection()},getVal:function getVal(){return this.input.getQuery()},destroy:function destroy(){this.input.destroy();this.dropdown.destroy();destroyDomStructure(this.$node);this.$node=null}});return Typeahead;function buildDomStructure(input,withHint){var $input,$wrapper,$dropdown,$hint;$input=$(input);$wrapper=$(html.wrapper).css(css.wrapper);$dropdown=$(html.dropdown).css(css.dropdown);$hint=$input.clone().css(css.hint).css(getBackgroundStyles($input));$hint.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",true).attr({autocomplete:"off",spellcheck:"false"});$input.data(attrsKey,{dir:$input.attr("dir"),autocomplete:$input.attr("autocomplete"),spellcheck:$input.attr("spellcheck"),style:$input.attr("style")});$input.addClass("tt-input").attr({autocomplete:"off",spellcheck:false}).css(withHint?css.input:css.inputWithNoHint);try{!$input.attr("dir")&&$input.attr("dir","auto")}catch(e){}return $input.wrap($wrapper).parent().prepend(withHint?$hint:null).append($dropdown)}function getBackgroundStyles($el){return{backgroundAttachment:$el.css("background-attachment"),backgroundClip:$el.css("background-clip"),backgroundColor:$el.css("background-color"),backgroundImage:$el.css("background-image"),backgroundOrigin:$el.css("background-origin"),backgroundPosition:$el.css("background-position"),backgroundRepeat:$el.css("background-repeat"),backgroundSize:$el.css("background-size")}}function destroyDomStructure($node){var $input=$node.find(".tt-input");_.each($input.data(attrsKey),function(val,key){_.isUndefined(val)?$input.removeAttr(key):$input.attr(key,val)});$input.detach().removeData(attrsKey).removeClass("tt-input").insertAfter($node);$node.remove()}}();(function(){var old,typeaheadKey,methods;old=$.fn.typeahead;typeaheadKey="ttTypeahead";methods={initialize:function initialize(o,datasets){datasets=_.isArray(datasets)?datasets:[].slice.call(arguments,1);o=o||{};return this.each(attach);function attach(){var $input=$(this),eventBus,typeahead;_.each(datasets,function(d){d.highlight=!!o.highlight});typeahead=new Typeahead({input:$input,eventBus:eventBus=new EventBus({el:$input}),withHint:_.isUndefined(o.hint)?true:!!o.hint,minLength:o.minLength,autoselect:o.autoselect,datasets:datasets});$input.data(typeaheadKey,typeahead)}},open:function open(){return this.each(openTypeahead);function openTypeahead(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.open()}}},close:function close(){return this.each(closeTypeahead);function closeTypeahead(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.close()}}},val:function val(newVal){return!arguments.length?getVal(this.first()):this.each(setVal);function setVal(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.setVal(newVal)}}function getVal($input){var typeahead,query;if(typeahead=$input.data(typeaheadKey)){query=typeahead.getVal()}return query}},destroy:function destroy(){return this.each(unattach);function unattach(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.destroy();$input.removeData(typeaheadKey)}}}};$.fn.typeahead=function(method){if(methods[method]){return methods[method].apply(this,[].slice.call(arguments,1))}else{return methods.initialize.apply(this,arguments)}};$.fn.typeahead.noConflict=function noConflict(){$.fn.typeahead=old;return this}})()})(window.jQuery);if(typeof jQuery==="undefined"){console.error("jQuery was not defined before inclusion of ch.global.js")}else{jQuery("a[data-loading-state='0']").on("click",function(){jQuery(this).attr("data-loading-state","1")});var CourseHeroUniversalBanner=new function(){var UNIVERSAL_BANNER_DOM_ID="ch_sitewide_notification";return{setup:function(){this.dom=jQuery("#"+UNIVERSAL_BANNER_DOM_ID);if(this.dom.length===0){return}this.setupActions()},setupActions:function(){this.dom.find("[data-dismiss]").on("click",function(e){var node=jQuery(this);e.preventDefault();CourseHeroUniversalBanner.dismiss(node.data("dismiss-url"))})},dismiss:function(url){this.dom.hide();this.onDismiss(url)},onDismiss:function(url){if(typeof url==="undefined"||url.length===0){return}jQuery.post(url)}}};CourseHeroUniversalBanner.setup();var loginRedirect=function(event){event.preventDefault();window.location.href=this.href+"&login_refer_url="+encodeURIComponent(window.location.href)};jQuery("#ch-header_primary-nav_login").on("click",loginRedirect);window.devLog=function(){if(window.location.hostname!="www.coursehero.com"){console.log.apply(console,arguments)}}}!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=55)}([function(t,e,n){var r=n(33),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(62),o=n(68);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(16),o=n(17);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):r(n,c,l)}return n}},function(t,e,n){var r=n(19),o=n(64),i=n(65),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(18),o=n(37);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(39),o=n(81),i=n(6);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(85),o=n(86),i=n(87),a=n(88),s=n(89);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(7);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(2)(Object,"create");t.exports=r},function(t,e,n){var r=n(104);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(39),o=n(111),i=n(6);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(17),o=n(7),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(32);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(5),o=n(1),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==u}},function(t,e,n){var r=n(0).Symbol;t.exports=r},function(t,e,n){(function(t){var r=n(0),o=n(79),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;t.exports=u}).call(this,n(21)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(33),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(21)(t))},function(t,e,n){var r=n(2)(n(0),"Map");t.exports=r},function(t,e,n){var r=n(114),o=n(46),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return i.call(t,e)}))}:o;t.exports=s},function(t,e,n){var r=n(42)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(118),o=n(24),i=n(119),a=n(120),s=n(121),u=n(5),c=n(34),l=c(r),f=c(o),p=c(i),d=c(a),h=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(124);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},a=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,n=r.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return void 0===e||r.call(t,e)};t.exports=function t(){var e,n,r,o,s,u,c=arguments[0],l=1,f=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[1]||{},l=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});l<f;++l)if(null!=(e=arguments[l]))for(n in e)r=c[n],c!==(o=e[n])&&(p&&o&&(a(o)||(s=i(o)))?(s?(s=!1,u=r&&i(r)?r:[]):u=r&&a(r)?r:{},c[n]=t(p,u,o)):void 0!==o&&(c[n]=o));return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.routes=t}return t.prototype.isRoute=function(t){return void 0!==this.routes[t]},t.prototype.callRoute=function(t,e){return this.routes[t](e)},t.prototype.handleRequest=function(t,e,n,r){return this.routes[t](e,n,r)},t}();e.RoutingConfig=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=n(61),i=n(83),a=n(133),s=function(){function t(){this.state=null,this.stateHistory=[],this.listeners=[],this._nextState=null,this.debug=!1,this.highPerformance=!1,this.dirtyState=!1,this.listen=this.listen.bind(this),this.ignore=this.ignore.bind(this),this.stateChange=this.stateChange.bind(this),this.newState=this.newState.bind(this),this.nextState=this.nextState.bind(this),this.cloneState=this.cloneState.bind(this),this.notify=this.notify.bind(this),this.upsertItem=this.upsertItem.bind(this),this.removeItem=this.removeItem.bind(this),this.removeItems=this.removeItems.bind(this)}return t.prototype.listen=function(t){this.listeners.push(t)},t.prototype.getState=function(){return this.state},t.prototype.ignore=function(t){var e=this.listeners.indexOf(t);return e>=0&&(this.listeners.splice(e,1),!0)},t.prototype.stateChange=function(t,e){var n={};return o(n,this.state),this.debug&&this.stateHistory.push({actionName:t,state:n}),this.state=e,this._nextState=null,this.dirtyState||(this.dirtyState=!0,this.highPerformance?requestAnimationFrame(this.notify.bind(this,n)):this.notify(n)),e},t.prototype.cloneState=function(){return i(this.state,function(t){return window&&window.moment&&window.moment.isMoment(t)?t.clone():t instanceof Date?new Date(t.getTime()):void 0})},t.prototype.newState=function(){return this.nextState()},t.prototype.nextState=function(){return this._nextState?this._nextState:this._nextState=this.cloneState()},t.prototype.notify=function(t){var e=this;this.debug&&console.debug("Store state changed, notifying "+this.listeners.length+" listener(s) of change","Old State",t,"New State",this.state),this.listeners.forEach(function(n){n(e.state,t)}),this.dirtyState=!1},t.prototype.upsertItem=function(t,e,n,r){void 0===r&&(r=!1);if(void 0!==t&&Array.isArray(t)||(console.warn("Non array passed in as modelArray"),t=[]),"object"!=typeof n)return console.warn("Upserted item must be an object",typeof n,"given"),!1;if(void 0!==n.__bID&&n.__bID!==e)return console.warn("Upserted item does not match the keyValue passed in",n.__bID,"!=",e),!1;for(var o=null,i=0;i<t.length;i++){if(t[i].__bID===e){o=i;break}}if(null===o)n.__bID=e,t.push(n);else{var a=t[o];t[o]=r?n:this.merge(a,n),t[o].__bID=e}return!0},t.prototype.getItem=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.__bID===e)return r}return null},t.prototype.removeItem=function(t,e){for(var n=null,r=0;r<t.length;r++){if(t[r].__bID===e){n=r;break}}return null!==n&&t.splice(n,1)},t.prototype.removeItems=function(t,e){var n=this;e.forEach(function(e){n.removeItem(t,e)})},t.prototype.sanitizeAndValidate=function(t,e){var n=this.sanitize(t,e,!1),r=this.validate(n,e);return!0===r?n:r},t.prototype.validate=function(t,e){var n=[];for(var r in e)if(void 0!==e[r].validation)for(var o in e[r].validation){if(n.length>0)break;var i=t[r],a=e[r].validation[o];if("object"===e[r].type&&"validate"===o&&a){var s=this.validate(i,e[r].schema());if(!0!==s){n=n.concat(s);break}}var u=e[r].label?e[r].label:r;switch(o){case"required":null!=i&&""!==i||n.push(u+" is required");break;case"minLength":i.length<a&&n.push(u+" must be at least "+a+" characters");break;case"maxLength":i.length>a&&n.push(u+" must be at under "+a+" characters");break;default:if("function"==typeof a){var c=a(i);!0!==c&&(n=n.concat(c))}}}return!(n.length>0)||n},t.prototype.sanitize=function(t,e,n){void 0===n&&(n=!1);var o={},i=r(!0,{},t);for(var a in e)o[a]=this.sanitizeField(a,i,e,n);return o},t.prototype.merge=function(t,e){return a(t,e),t},t.prototype.sortBy=function(t,e){return void 0===e&&(e="desc"),function(n,r){return r[t]&&!n[t]||r[t]&&n[t]&&r[t]>n[t]?"desc"===e.toLowerCase()?1:-1:!r[t]&&n[t]||r[t]&&n[t]&&r[t]<n[t]?"desc"===e.toLowerCase()?-1:1:r[t]&&n[t]&&r[t]==n[t]?0:r[t]&&!n[t]?0:void 0}},t.prototype.money=function(t){return t.toFixed(2)},t.prototype.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.string=function(t){return void 0===t&&(t={}),r(!0,{type:"string"},t)},t.int=function(t){return void 0===t&&(t={}),r(!0,{type:"int"},t)},t.double=function(t){return void 0===t&&(t={}),r(!0,{type:"double"},t)},t.bool=function(t){return void 0===t&&(t={}),r(!0,{type:"bool"},t)},t.float=function(t){return void 0===t&&(t={}),r(!0,{type:"float"},t)},t.array=function(t){return void 0===t&&(t={}),r(!0,{type:"array",schema:null},t)},t.object=function(t){return void 0===t&&(t={}),r(!0,{type:"object",schema:null},t)},t.datetime=function(t){return void 0===t&&(t={}),r(!0,{type:"datetime",schema:null,format:"YYYY-MM-DD HH:mm:ss"},t)},t.callback=function(t){return void 0===t&&(t={}),r(!0,{type:"callback",schema:null},t)},t.customType=function(t,e){return void 0===e&&(e={}),r(!0,{type:t,schema:null},e)},t.prototype.sanitizeField=function(t,e,n,r){if("function"===n[t].type)return n[t].value;void 0===e[t]&&(void 0!==n[t].initial?e[t]=n[t].initial():e[t]=null);var o=n[t].type;if(null===e[t]&&"obj"!==o&&"object"!==o)return null;switch(n[t].field=t,o){case"int":case"integer":return this.sanitizeInteger(e[t],n[t]);case"float":case"double":return this.sanitizeFloat(e[t],n[t]);case"string":case"char":case"varchar":return this.sanitizeString(e[t],n[t]);case"date":case"datetime":case"timestamp":return this.sanitizeDateTime(e[t],n[t],r);case"bool":case"boolean":return this.sanitizeBoolean(e[t],n[t]);case"obj":case"object":return this.sanitizeObject(e[t],n[t],r);case"array":case"collection":return this.sanitizeArray(e[t],n[t],r);case"callback":return this.sanitizeCallback(e[t],n[t]);default:if(void 0!==n[t].sanitize)return n[t].sanitize(e[t],n[t])}},t.prototype.sanitizeCallback=function(t,e){if("function"!=typeof t)throw new Error("Provided callback is not a valid function");return t},t.prototype.sanitizeInteger=function(t,e){if("string"==typeof t&&0===(t=t.replace(/[a-zA-Z]+/gi,"")).length)return"";if(t=parseInt(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed");return isNaN(t)?"":t},t.prototype.sanitizeFloat=function(t,e){if(t=parseFloat(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum float allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed");return t},t.prototype.sanitizeString=function(t,e){if(t=String(t),void 0!==e.minLength&&t.length<e.minLength)throw new Error("Provided value cannot be sanitized, string length is below minimum allowed");return void 0!==e.maxLength&&t.length>e.maxLength&&(console.warn("Value was truncated during sanitization"),t=t.substr(0,e.maxLength)),t},t.prototype.sanitizeDateTime=function(t,e,n){if(void 0===e.utc||e.utc)var r=moment.utc(t,e.format);else r=moment(t,e.format);if(r.isValid())return n?r.utc().format("YYYY-MM-DD hh:mm:ss"):r;throw new Error("Provided value ("+t+") cannot be sanitized for field ("+e.field+"), is not a valid date")},t.prototype.sanitizeBoolean=function(t,e){if(!1===t||!0===t)return t;if("string"==typeof t){if("false"===t.toLowerCase().trim())return!1;if("true"===t.toLowerCase().trim())return!0}if(0===parseInt(t))return!1;if(1===parseInt(t))return!0;throw new Error("Provided value cannot be santized, is not a valid boolean")},t.prototype.sanitizeObject=function(t,e,n){if(void 0===e.schema)throw new Error("Provided value cannot be santized, no reference schema provided for field type of object");return null===e.schema?t:null===t?null:n||"function"!=typeof e.constructor?this.sanitize(t,e.schema(),n):new e.constructor(this.sanitize(t,e.schema()))},t.prototype.sanitizeArray=function(t,e,n){var r=this;return void 0===e.schema||null===e.schema||!1===e.schema?t:void 0===t.length?[]:t.map(function(t){return n||"function"!=typeof e.constructor?r.sanitize(t,e.schema(),n):new e.constructor(r.sanitize(t,e.schema()))})},t}();e.default=s},function(t,e,n){var r=n(2),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(63))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(69),o=n(76);t.exports=function(t){return r(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e){t.exports=function(t){return t}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?n:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(77),o=n(40),i=n(10),a=n(20),s=n(38),u=n(41),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),p=!n&&!l&&!f&&u(t),d=n||l||f||p,h=d?r(t.length,String):[],v=h.length;for(var y in t)!e&&!c.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||h.push(y);return h}},function(t,e,n){var r=n(78),o=n(3),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(80),o=n(22),i=n(23),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(11),o=n(90),i=n(91),a=n(92),s=n(93),u=n(94);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){(function(t){var r=n(0),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(21)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(48),o=n(26),i=n(25),a=n(46),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(48),o=n(10);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(128),o=n(26),i=n(8);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(17),o=n(7);t.exports=function(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){"use strict";var r=n(56),o=n(30),i=n(59),a=n(60),s=n(31),u=n(141),c=n(142),l=n(143);t.exports={Actions:c.default,ApiService:r.ApiService,ApiServiceClass:r.ApiServiceClass,Model:l.default,RoutingConfig:o.RoutingConfig,sanitize:i.sanitize,RoutingService:a.RoutingService,RoutingServiceClass:a.RoutingServiceClass,Store:s.default,Schema:u.Schema}},function(t,e,n){"use strict";n.r(e);var r=n(54);n(144);window.BeefFlux=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),o=n(29),i=function(){function t(){}return t.prototype.throttle=function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}},t.prototype.get=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e),method:"get"},n))},t.prototype.post=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e,!1),method:"post",data:JSON.stringify(e),contentType:"application/json"},n))},t.prototype.put=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e,!1),method:"put",data:JSON.stringify(e),contentType:"application/json"},n))},t.prototype.delete=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e),method:"delete"},n))},t.prototype._buildUrl=function(t,e,n){for(var r in void 0===n&&(n=!0),e)-1===t.indexOf("{"+r+"}")?!1!==n&&(-1!==t.indexOf("?")?t+="&":t+="?",t+=r+"="+e[r]):t=t.replace("{"+r+"}",e[r]);return t},t.prototype._buildConfig=function(t,e){return void 0===e&&(e={}),null===e?t:o(!0,{},t,e)},t}();e.ApiServiceClass=i;var a=new i;e.ApiService=a},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,definition;definition=function(){var context=this,XHR2;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else try{XHR2=__webpack_require__(58)}catch(t){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(t){if(!0===t.crossOrigin){var e=context[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(t){return t}};function succeed(t){var e=protocolRe.exec(t.url);return e=e&&e[1]||context.location.protocol,httpsRe.test(e)?twoHundo.test(t.request.status):!!t.request.response}function handleReadyState(t,e,n){return function(){return t._aborted?n(t.request):t._timedOut?n(t.request,"Request is aborted: timeout"):void(t.request&&4==t.request[readyState]&&(t.request.onreadystatechange=noop,succeed(t)?e(t.request):n(t.request)))}}function setHeaders(t,e){var n,r=e.headers||{};r.Accept=r.Accept||defaultHeaders.accept[e.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&e.data instanceof FormData;for(n in e.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||o||(r[contentType]=e.contentType||defaultHeaders.contentType),r)r.hasOwnProperty(n)&&"setRequestHeader"in t&&t.setRequestHeader(n,r[n])}function setCredentials(t,e){void 0!==e.withCredentials&&void 0!==t.withCredentials&&(t.withCredentials=!!e.withCredentials)}function generalCallback(t){lastValue=t}function urlappend(t,e){return t+(/\?/.test(t)?"&":"?")+e}function handleJsonp(t,e,n,r){var o=uniqid++,i=t.jsonpCallback||"callback",a=t.jsonpCallbackName||reqwest.getcallbackPrefix(o),s=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),u=r.match(s),c=doc.createElement("script"),l=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return u?"?"===u[3]?r=r.replace(s,"$1="+a):a=u[3]:r=urlappend(r,i+"="+a),context[a]=generalCallback,c.type="text/javascript",c.src=r,c.async=!0,void 0===c.onreadystatechange||f||(c.htmlFor=c.id="_reqwest_"+o),c.onload=c.onreadystatechange=function(){if(c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||l)return!1;c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),e(lastValue),lastValue=void 0,head.removeChild(c),l=1},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),l=1}}}function getRequest(t,e){var n,r=this.o,o=(r.method||"GET").toUpperCase(),i="string"==typeof r?r:r.url,a=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=o||!a||(i=urlappend(i,a),a=null),"jsonp"==r.type?handleJsonp(r,t,e,i):((n=r.xhr&&r.xhr(r)||xhr(r)).open(o,i,!1!==r.async),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=t,n.onerror=e,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,t,e),r.before&&r.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(t,e){this.o=t,this.fn=e,init.apply(this,arguments)}function setType(t){if(null!==t)return t.match("json")?"json":t.match("javascript")?"js":t.match("text")?"html":t.match("xml")?"xml":void 0}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(t){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(t)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(t){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(t){return error(resp,"Could not parse JSON in response",t)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(t,e,n){for(t=self.request,self._responseArgs.resp=t,self._responseArgs.msg=e,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(t,e,n);complete(t)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(t,e){return new Reqwest(t,e)}function normalize(t){return t?t.replace(/\r?\n/g,"\r\n"):""}function serial(t,e){var n,r,o,i,a=t.name,s=t.tagName.toLowerCase(),u=function(t){t&&!t.disabled&&e(a,normalize(t.attributes.value&&t.attributes.value.specified?t.value:t.text))};if(!t.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(t.type)||(n=/checkbox/i.test(t.type),r=/radio/i.test(t.type),o=t.value,(!n&&!r||t.checked)&&e(a,normalize(n&&""===o?"on":o)));break;case"textarea":e(a,normalize(t.value));break;case"select":if("select-one"===t.type.toLowerCase())u(t.selectedIndex>=0?t.options[t.selectedIndex]:null);else for(i=0;t.length&&i<t.length;i++)t.options[i].selected&&u(t.options[i])}}function eachFormElement(){var t,e,n=this,r=function(t,e){var r,o,i;for(r=0;r<e.length;r++)for(i=t[byTag](e[r]),o=0;o<i.length;o++)serial(i[o],n)};for(e=0;e<arguments.length;e++)t=arguments[e],/input|select|textarea/i.test(t.tagName)&&serial(t,n),r(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var t={};return eachFormElement.apply(function(e,n){e in t?(t[e]&&!isArray(t[e])&&(t[e]=[t[e]]),t[e].push(n)):t[e]=n},arguments),t}function buildParams(t,e,n,r){var o,i,a,s=/\[\]$/;if(isArray(e))for(i=0;e&&i<e.length;i++)a=e[i],n||s.test(t)?r(t,a):buildParams(t+"["+("object"==typeof a?i:"")+"]",a,n,r);else if(e&&"[object Object]"===e.toString())for(o in e)buildParams(t+"["+o+"]",e[o],n,r);else r(t,e)}return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(t,e){return t=t||function(){},e=e||function(){},this._fulfilled?this._responseArgs.resp=t(this._responseArgs.resp):this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(t),this._errorHandlers.push(e)),this},always:function(t){return this._fulfilled||this._erred?t(this._responseArgs.resp):this._completeHandlers.push(t),this},fail:function(t){return this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(t),this},catch:function(t){return this.fail(t)}},reqwest.serializeArray=function(){var t=[];return eachFormElement.apply(function(e,n){t.push({name:e,value:n})},arguments),t},reqwest.serialize=function(){if(0===arguments.length)return"";var t,e=Array.prototype.slice.call(arguments,0);return(t=e.pop())&&t.nodeType&&e.push(t)&&(t=null),t&&(t=t.type),("map"==t?serializeHash:"array"==t?reqwest.serializeArray:serializeQueryString).apply(null,e)},reqwest.toQueryString=function(t,e){var n,r,o=e||!1,i=[],a=encodeURIComponent,s=function(t,e){e="function"==typeof e?e():null==e?"":e,i[i.length]=a(t)+"="+a(e)};if(isArray(t))for(r=0;t&&r<t.length;r++)s(t[r].name,t[r].value);else for(n in t)t.hasOwnProperty(n)&&buildParams(n,t[n],o,s);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(t,e){return t&&(t.type&&(t.method=t.type)&&delete t.type,t.dataType&&(t.type=t.dataType),t.jsonpCallback&&(t.jsonpCallbackName=t.jsonpCallback)&&delete t.jsonpCallback,t.jsonp&&(t.jsonpCallback=t.jsonp)),new Reqwest(t,e)},reqwest.ajaxSetup=function(t){for(var e in t=t||{})globalSetupOptions[e]=t[e]},reqwest},module.exports?module.exports=definition():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=definition)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){switch(e.type){case"int":case"integer":return parseInt(t);case"float":return parseFloat(t);case"string":return""+t;case"bool":case"boolean":return void 0!==t&&(!0===t||"string"==typeof t&&"yes"===t.toLowerCase()||1===t||"1"===t)}};e.sanitize=function(t){return function(e,n,o){var i=e[n];o.value=function(n){var o=n;for(var a in o)void 0!==t[a]&&(o[a]=r(o[a],t[a]));return i.apply(e,[o])}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),o=function(){function t(){}return t.prototype.onRouteFinished=function(){},t.prototype.routes=function(t){return this.routingConfig=new r.RoutingConfig(t),this},t.prototype.route=function(t,e){if(this.routingConfig.isRoute(t)||(t="/"),this.routingConfig.isRoute(t)){var n=this.routingConfig.callRoute(t,e);return this.activeRoute=t,this.onRouteFinished(),n}return null},t.prototype.handleRequest=function(t,e,n,r){if(this.routingConfig.isRoute(t)||(t="default:/"),this.routingConfig.isRoute(t)){n=this.routingConfig.handleRequest(t,e,n,r);return this.activeRoute=t,this.onRouteFinished(),n}return null},t.prototype.doRouting=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null);var r="";for(var o in this.routingConfig.routes){r=o;var i=t||window.location.hash;i.indexOf("?")>=0&&(i=i.substring(0,i.indexOf("?")));var a=o.match(/\{[a-z\_\-\+]+\}/gi),s={};if(null!==a){var u=o.split("/"),c=i.split("/");if(0===u[0].length&&(u=u.splice(1,u.length-1)),0===c[0].length&&(c=c.splice(1,c.length-1)),c.length!==u.length)continue;var l=0,f=!1;if(c.forEach(function(t){u[l].match(/\{[a-z\_\-\+]+\}/gi)||t!==u[l]&&(f=!0),l++}),f)continue;r="",u.forEach(function(t,e){e>0&&(r+="/"),r+=c[e],e>0&&(s[t.replace(/[\{\}]/gi,"")]=c[e])})}r=r.replace("+","\\+");var p=new RegExp("^[#/]*"+r+"$","gi");if(null!==i.match(p)){if(this.activeRoute===o&&s===this.routeData)return;return this.routeData=s,this.activeRoute=o,e?this.handleRequest(o,e,n,s):this.route(o,s)}}return e?this.handleRequest("default:/",e,n,{}):this.route("/",{})},t}();e.RoutingServiceClass=o;var i=new o;e.RoutingService=i},function(t,e,n){var r=n(16),o=n(4),i=n(35),a=n(6),s=n(8),u=n(9),c=Object.prototype.hasOwnProperty,l=i(function(t,e){if(s(e)||a(e))o(e,u(e),t);else for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e,n){var r=n(18),o=n(66),i=n(1),a=n(34),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:s).test(a(t))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(19),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(67),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(0)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(36),o=n(70),i=n(72);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){var r=n(71),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(73),o=n(75)(r);t.exports=o},function(t,e,n){var r=n(74),o=n(32),i=n(36),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(7),o=n(6),i=n(38),a=n(1);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(5),o=n(3),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(5),o=n(37),i=n(3),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(8),o=n(82),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(42)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(84),o=1,i=4;t.exports=function(t,e){return r(t,o|i,e="function"==typeof e?e:void 0)}},function(t,e,n){var r=n(43),o=n(108),i=n(16),a=n(109),s=n(110),u=n(44),c=n(45),l=n(113),f=n(115),p=n(116),d=n(117),h=n(27),v=n(122),y=n(123),b=n(51),g=n(10),x=n(20),m=n(129),_=n(1),w=n(131),j=n(9),A=1,O=2,S=4,R="[object Arguments]",z="[object Function]",C="[object GeneratorFunction]",E="[object Object]",P={};P[R]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[E]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[z]=P["[object WeakMap]"]=!1,t.exports=function t(e,n,I,k,q,D){var T,F=n&A,M=n&O,H=n&S;if(I&&(T=q?I(e,k,q,D):I(e)),void 0!==T)return T;if(!_(e))return e;var L=g(e);if(L){if(T=v(e),!F)return c(e,T)}else{var U=h(e),N=U==z||U==C;if(x(e))return u(e,F);if(U==E||U==R||N&&!q){if(T=M||N?{}:b(e),!F)return M?f(e,s(T,e)):l(e,a(T,e))}else{if(!P[U])return q?e:{};T=y(e,U,F)}}D||(D=new r);var B=D.get(e);if(B)return B;D.set(e,T),w(e)?e.forEach(function(r){T.add(t(r,n,I,r,e,D))}):m(e)&&e.forEach(function(r,o){T.set(o,t(r,n,I,o,e,D))});var V=H?M?d:p:M?keysIn:j,Q=L?void 0:V(e);return o(Q||e,function(r,o){Q&&(r=e[o=r]),i(T,o,t(r,n,I,o,e,D))}),T}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(12),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(12);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(12);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(12);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(11);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(11),o=n(24),i=n(95),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(96),o=n(103),i=n(105),a=n(106),s=n(107);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(97),o=n(11),i=n(24);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(98),o=n(99),i=n(100),a=n(101),s=n(102);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(13);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(13),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(13),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(13),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},function(t,e,n){var r=n(14);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(14);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(14);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(14);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(4),o=n(9);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(4),o=n(15);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(1),o=n(8),i=n(112),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(4),o=n(25);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e,n){var r=n(4),o=n(47);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(49),o=n(25),i=n(9);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(49),o=n(47),i=n(15);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(2)(n(0),"DataView");t.exports=r},function(t,e,n){var r=n(2)(n(0),"Promise");t.exports=r},function(t,e,n){var r=n(2)(n(0),"Set");t.exports=r},function(t,e,n){var r=n(2)(n(0),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(28),o=n(125),i=n(126),a=n(127),s=n(50),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",p="[object RegExp]",d="[object Set]",h="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",m="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",j="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",S="[object Uint32Array]";t.exports=function(t,e,n){var R=t.constructor;switch(e){case y:return r(t);case u:case c:return new R(+t);case b:return o(t,n);case g:case x:case m:case _:case w:case j:case A:case O:case S:return s(t,n);case l:return new R;case f:case h:return new R(t);case p:return i(t);case d:return new R;case v:return a(t)}}},function(t,e,n){var r=n(0).Uint8Array;t.exports=r},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(19),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(1),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(130),o=n(22),i=n(23),a=i&&i.isMap,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(27),o=n(3),i="[object Map]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(132),o=n(22),i=n(23),a=i&&i.isSet,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(27),o=n(3),i="[object Set]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(134),o=n(35)(function(t,e,n){r(t,e,n)});t.exports=o},function(t,e,n){var r=n(43),o=n(52),i=n(135),a=n(137),s=n(1),u=n(15),c=n(53);t.exports=function t(e,n,l,f,p){e!==n&&i(n,function(i,u){if(p||(p=new r),s(i))a(e,n,u,l,t,f,p);else{var d=f?f(c(e,u),i,u+"",e,n,p):void 0;void 0===d&&(d=i),o(e,u,d)}},u)}},function(t,e,n){var r=n(136)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}},function(t,e,n){var r=n(52),o=n(44),i=n(50),a=n(45),s=n(51),u=n(40),c=n(10),l=n(138),f=n(20),p=n(18),d=n(1),h=n(139),v=n(41),y=n(53),b=n(140);t.exports=function(t,e,n,g,x,m,_){var w=y(t,n),j=y(e,n),A=_.get(j);if(A)r(t,n,A);else{var O=m?m(w,j,n+"",t,e,_):void 0,S=void 0===O;if(S){var R=c(j),z=!R&&f(j),C=!R&&!z&&v(j);O=j,R||z||C?c(w)?O=w:l(w)?O=a(w):z?(S=!1,O=o(j,!0)):C?(S=!1,O=i(j,!0)):O=[]:h(j)||u(j)?(O=w,u(w)?O=b(w):d(w)&&!p(w)||(O=s(j))):S=!1}S&&(_.set(j,O),x(O,j,g,m,_),_.delete(j)),r(t,n,O)}}},function(t,e,n){var r=n(6),o=n(3);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(5),o=n(26),i=n(3),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!i(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(4),o=n(15);t.exports=function(t){return r(t,o(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31);e.Schema={int:function(t){return void 0===t&&(t=null),o.bind(null,r.default.int.bind(null,t))},string:function(t){return void 0===t&&(t=null),o.bind(null,r.default.string.bind(null,t))},double:function(t){return void 0===t&&(t=null),o.bind(null,r.default.double.bind(null,t))},bool:function(t){return void 0===t&&(t=null),o.bind(null,r.default.bool.bind(null,t))},float:function(t){return void 0===t&&(t=null),o.bind(null,r.default.float.bind(null,t))},array:function(t){return void 0===t&&(t=null),o.bind(null,r.default.array.bind(null,t))},object:function(t){return void 0===t&&(t=null),o.bind(null,r.default.object.bind(null,t))},datetime:function(t){return void 0===t&&(t=null),o.bind(null,r.default.datetime.bind(null,t))},callback:function(t){return void 0===t&&(t=null),o.bind(null,r.default.callback.bind(null,t))},custom:function(t,e){return void 0===e&&(e=null),o.bind(null,r.default.customType.bind(null,t,e))},uuid:function(t){return void 0===t&&(t={}),t.initial=function(){return i()},o.bind(null,r.default.string.bind(null,t))}};var o=function(t,e,n,r){e.constructor.schema[n]=t()},i=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.actions={},this.define=this.define.bind(this),this.dispatch=this.dispatch.bind(this),this.register=this.register.bind(this),this.debug=!1}return t.prototype.setDebug=function(t){return this.debug=t,this},t.prototype.define=function(t,e){"string"!=typeof t&&console.error("actionName is not a valid string",t),"function"!=typeof e&&console.error("Must pass valid callback for action: ",e),void 0!==this.actions[t]&&console.warn("Action with name "+t+" was already defined, and is now being overwritten"),this.actions[t]={cb:e,stores:[]};var n=function(){this.dispatch(t,arguments)};return(n=n.bind(this)).toString=function(){return t},n.original_argument_length=e.length,n},t.prototype.dispatch=function(t,e,n){void 0===this.actions[t]&&console.warn("Attempting to call non registered action: "+t),this._debug("ACTION.DISPATCH: "+t,e);var r=this.actions[t].cb.apply(null,e);this.actions[t].stores.forEach(function(e){var o=e.store,i=e.cb;o.stateChange(t,i(r,n))})},t.prototype.register=function(t,e){for(var n in t)void 0!==this.actions[n]?(this._debug(n+" registered for ",e),this.actions[n].stores.push({store:e,cb:t[n]})):console.warn("Store attempting to register missing action: "+n)},t.prototype._debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.debug&&console.debug.apply(null,arguments)},t}();e.ActionsClass=r;var o=new r;e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(void 0===t&&(t=null),t&&"object"==typeof t)for(var e in t)this[e]=t[e]};e.default=r},function(t,e){var n=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},r=function(){function t(){}return t.service=function(t,e){return void 0===e&&(e=null),null!==e&&(this.services[t]=e),this.services[t]},t.setup=function(t){this.setupCallbacks.push(t)},t.start=function(){this.started||(this.setupCallbacks.forEach(function(t){t()}),this.started=!0)},t.started=!1,t.Actions=function(){return t.start(),{create:function(t){return o.create(t)}}},t.Api=function(){return t.start(),t.service(p.SERVICE_ID)},t.Dispatcher=function(){return t.start(),t.service(d.SERVICE_ID)},t.Store=function(){return t.start(),{create:function(t){var e=jQuery.extend(!0,new f,t);return e.actions(),e}}},t.Router=function(){return t.start(),t.service(h.SERVICE_ID)},t.services={},t.setupCallbacks=[],t}();window.Beef=r;var o=function(){function t(){}return t.create=function(e){var n=new i;for(var r in e)"_"===r[0]||t.ignoreFunctions.indexOf(r)>=0||(n[r]=new function(){return new Function("return function (fn) { return function "+r+" () { return fn(this, arguments) }; };")()(Function.apply.bind(function(t){var r=[];for(var o in arguments)"0"!==o&&r.push(arguments[o]);n._dispatch(t,e[t].bind(n),r)}.bind(null,r)))});return n},t.ignoreFunctions=["constructor"],t}();window.Actions=o;var i=function(){function t(){this._callbacks={}}return t.prototype._register=function(t,e){for(var n in t){var r=t[n].name?t[n].name:t[n].toString().match(/^function\s*([^\s(]+)/)[1];void 0===this._callbacks[r]&&(this._callbacks[r]=[]),this._callbacks[r].push(e[n].bind(e))}},t.prototype._dispatch=function(t,e,n){if(void 0!==this._callbacks[t]){var r=e.apply(this,n);this._callbacks[t].forEach(function(t){t(r)})}},t}();window.Action=i;var a=function(){function t(){}return t.prototype.setup=function(){},t.prototype.run=function(){},t}();window.BaseApp=a;var s=function(){};window.BaseService=s;var u=function(t,e,n){void 0===e&&(e=[]),this.func=t,this.dependencies=e,this.dispatchId=n};window.DispatcherCallback=u;var c=function(t,e){this.action=t,this.data=e};window.DispatcherPayload=c;var l=function(){function t(t){this.routes=t}return t.prototype.isRoute=function(t){return void 0!==this.routes[t]},t.prototype.callRoute=function(t,e){return this.routes[t](e)},t}();window.RoutingConfig=l;var f=function(){function t(){this.rows={},this.actions=function(){},this.dispatchIndex=null}return t.prototype.listen=function(t,e){jQuery(window).on(t,e)},t.prototype.ignore=function(t,e){jQuery(window).off(t,e)},t.prototype.emit=function(t,e){void 0===e&&(e=!1),jQuery(window).trigger(t,[e])},t.prototype.upsertRow=function(t,e,n,r,o){void 0===o&&(o=!1);var i=!1;void 0===this.rows[t]&&(this.rows[t]=[]);var a=this.rows[t],s=this;a.forEach(function(t,u){void 0!==t[e]&&t[e]===n&&(void 0===a[u]&&(a[u]={}),a[u]=o?a[u]=r:s.merge(a[u],r),i=!0)}),i||this.rows[t].push(r)},t.prototype.removeRow=function(t,e,n){if(void 0!==this.rows[t]){var r=this.rows[t],o=[];if(r.forEach(function(t,r){void 0!==t[e]&&t[e]==n&&o.push(r)}),0!==o.length)for(var i=0;i<o.length;i++)this.rows[t].splice(o[i],1)}},t.prototype.removeRows=function(t,e,n){var r=this;n.forEach(function(n){r.removeRow(t,e,n)})},t.prototype.clearAll=function(t){this.rows[t]=[]},t.prototype.getRows=function(t,e){return void 0===e&&(e=!0),void 0!==this.rows[t]?e?this.rows[t]:this.rows[t].slice(0):[]},t.prototype.sanitizeAndValidate=function(t,e){var n=this.sanitize(t,e,!1),r=this.validate(n,e);return!0===r?n:r},t.prototype.validate=function(t,e){var n=[];for(var r in e)if(void 0!==e[r].validation)for(var o in e[r].validation){if(n.length>0)break;var i=t[r],a=e[r].label?e[r].label:r;switch(o){case"required":null!=i&&""!==i||n.push(a+" is required");break;case"minLength":i.length<e[r].validation[o]&&n.push(a+" must be at least "+e[r].validation[o]+" characters");break;case"maxLength":i.length>e[r].validation[o]&&n.push(a+" must be at under "+e[r].validation[o]+" characters");break;default:if("function"==typeof e[r].validation[o]){var s=e[r].validation[o](i);!0!==s&&n.concat(s)}}}return!(n.length>0)||n},t.prototype.sanitize=function(t,e,n){void 0===n&&(n=!1);var r={},o=jQuery.extend(!0,{},t);for(var i in e)r[i]=this.sanitizeField(i,o,e,n);return r},t.prototype.merge=function(t,e,n){void 0===n&&(n=1);if(3===n)return e;for(var r in e)try{e[r].constructor===Object?t[r]=this.merge(t[r],e[r],n+1):t[r]=e[r]}catch(n){t[r]=e[r]}return t},t.prototype.sortBy=function(t,e){return void 0===e&&(e="desc"),function(n,r){return r[t]&&!n[t]||r[t]&&n[t]&&r[t]>n[t]?"desc"===e.toLowerCase()?1:-1:!r[t]&&n[t]||r[t]&&n[t]&&r[t]<n[t]?"desc"===e.toLowerCase()?-1:1:r[t]&&n[t]&&r[t]==n[t]?0:r[t]&&!n[t]?0:void 0}},t.prototype.money=function(t){return t.toFixed(2)},t.prototype.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.string=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"string"},t)},t.int=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"int"},t)},t.double=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"double"},t)},t.bool=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"bool"},t)},t.float=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"float"},t)},t.array=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"array",schema:null},t)},t.object=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"object",schema:null},t)},t.datetime=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"datetime",schema:null,format:"YYYY-MM-DD HH:mm:ss"},t)},t.callback=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"callback",schema:null},t)},t.prototype.sanitizeField=function(t,e,n,r){if("function"===n[t].type)return n[t].value;void 0===e[t]&&(void 0!==n[t].initial?e[t]=n[t].initial():e[t]=null);var o=n[t].type;if(null===e[t]&&"obj"!==o&&"object"!==o)return null;switch(n[t].field=t,o){case"int":case"integer":return this.sanitizeInteger(e[t],n[t]);case"float":case"double":return this.sanitizeFloat(e[t],n[t]);case"string":case"char":case"varchar":return this.sanitizeString(e[t],n[t]);case"date":case"datetime":case"timestamp":return this.sanitizeDateTime(e[t],n[t],r);case"bool":case"boolean":return this.sanitizeBoolean(e[t],n[t]);case"obj":case"object":return this.sanitizeObject(e[t],n[t],r);case"array":case"collection":return this.sanitizeArray(e[t],n[t],r);default:if("undefined"!==n[t].sanitize)return n[t].sanitize(e[t],n[t])}},t.prototype.sanitizeInteger=function(t,e){if("string"==typeof t&&0===(t=t.replace(/[a-zA-Z]+/gi,"")).length)return"";if(t=parseInt(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed");return isNaN(t)?"":t},t.prototype.sanitizeFloat=function(t,e){if(t=parseFloat(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum float allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed");return t},t.prototype.sanitizeString=function(t,e){if(t=String(t),void 0!==e.minLength&&t.length<e.minLength)throw new Error("Provided value cannot be sanitized, string length is below minimum allowed");return void 0!==e.maxLength&&t.length>e.maxLength&&(console.warn("Value was truncated during sanitation"),t=t.substr(0,e.maxLength)),t},t.prototype.sanitizeDateTime=function(t,e,n){if(moment(t,e.format).isValid())return n?moment(t).utc().format("YYYY-MM-DD hh:mm:ss"):void 0===e.utc||e.utc?moment.utc(t):moment(t);throw new Error("Provided value ("+t+") cannot be sanitized for field ("+e.field+"), is not a valid date")},t.prototype.sanitizeBoolean=function(t,e){if(!1===t||!0===t)return t;if("string"==typeof t){if("false"===t.toLowerCase().trim())return!1;if("true"===t.toLowerCase().trim())return!0}if(0===parseInt(t))return!1;if(1===parseInt(t))return!0;throw new Error("Provided value cannot be santized, is not a valid boolean")},t.prototype.sanitizeObject=function(t,e,n){if(void 0===e.schema)throw new Error("Provided value cannot be santized, no reference schema provided for field type of object");return null===e.schema?t:null===t?null:this.sanitize(t,e.schema(),n)},t.prototype.sanitizeArray=function(t,e,n){if(void 0===e.schema||null===e.schema||!1===e.schema)return t;if(void 0===t.length)return[];var r=this;return t.map(function(t){return r.sanitize(t,e.schema(),n)})},t.prototype.getDispatcher=function(){return r.service(d.SERVICE_ID)},t}();window.Store=f;var p=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.throttle=function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}},e.prototype.get=function(t,e){return this.doAjaxCall("GET",{url:this.buildUrl(t,e),dataType:"json"})},e.prototype.post=function(t,e){return this.doAjaxCall("POST",{url:this.buildUrl(t,e,!1),data:JSON.stringify(e),dataType:"json"})},e.prototype.put=function(t,e){return this.doAjaxCall("PUT",{url:this.buildUrl(t,e,!1),data:JSON.stringify(e),dataType:"json"})},e.prototype.delete=function(t,e){return this.doAjaxCall("DELETE",{url:this.buildUrl(t,e),dataType:"json"})},e.prototype.buildUrl=function(t,e,n){for(var r in void 0===n&&(n=!0),e)-1===t.indexOf("{"+r+"}")?!1!==n&&(-1!==t.indexOf("?")?t+="&":t+="?",t+=r+"="+e[r]):t=t.replace("{"+r+"}",e[r]);return t},e.prototype.doAjaxCall=function(t,e){var n=window.jQuery.fn.jquery.split("."),r=n[0],o=n[1];return 1==r&&o<9?(e.type=t,jQuery.ajax(e)):(e.method=t,jQuery.ajax(e))},e.SERVICE_ID="beef.service.api",e}(s);window.ApiService=p;var d=function(t){function e(){t.apply(this,arguments),this.maxIterations=10,this.callbacks=[]}return n(e,t),e.prototype.register=function(t,e){var n=this.callbacks.length;return this.callbacks.push(new u(t,e,n)),n},e.prototype.dispatch=function(t,e){for(var n=new c(t,e),r=[],o=0,i=0;o<this.maxIterations&&r.length<this.callbacks.length;){i>=this.callbacks.length&&(i=0,o++);var a=this.callbacks[i];r.filter(function(t){return-1!==a.dependencies.indexOf(t)}).length===a.dependencies.length&&(a.func(n),r.push(a.dispatchId),i++)}o>=this.maxIterations&&console.warn("Hit max dispatcher iterations, check dependencies of callbacks")},e.SERVICE_ID="beef.service.dispatcher",e}(s);window.Dispatcher=d;var h=function(){function t(){}return t.prototype.onRouteFinished=function(){},t.prototype.routes=function(t){return this.routingConfig=new l(t),this},t.prototype.route=function(t,e){if(this.routingConfig.isRoute(t)||(t="/"),this.routingConfig.isRoute(t)){var n=this.routingConfig.callRoute(t,e);return this.activeRoute=t,this.onRouteFinished(),n}return null},t.prototype.doRouting=function(t){void 0===t&&(t=null);var e="";for(var n in this.routingConfig.routes){e=n,(t=null!==t?t:window.location.hash).indexOf("?")>=0&&(t=t.substring(0,t.indexOf("?")));var r=n.match(/\{[a-z\_\-\+]+\}/gi),o={};if(null!==r){var i=n.split("/"),a=t.split("/");if((a=a.splice(1,a.length-1)).length!==i.length)continue;var s=0,u=!1;if(a.forEach(function(t){i[s].match(/\{[a-z\_\-\+]+\}/gi)||t!==i[s]&&(u=!0),s++}),u)continue;e="",i.forEach(function(t,n){n>0&&(e+="/"),e+=a[n],n>0&&(o[t.replace(/[\{\}]/gi,"")]=a[n])})}e=e.replace("+","\\+");var c=new RegExp("^#/"+e+"$","gi");if(null!==t.match(c))return this.activeRoute===n&&o===this.routeData?this.lastResponse:(this.routeData=o,this.activeRoute=n,this.lastResponse=this.route(n,o))}return this.lastResponse=this.route("/",{})},t.SERVICE_ID="beef.service.routing",t}();window.RoutingService=h,r.setup(function(){r.service(p.SERVICE_ID,new p),r.service(d.SERVICE_ID,new d),r.service(h.SERVICE_ID,new h)})}]);function ResponsiveHeader(){this.init=function(){jQuery("#ch-header_mobile-nav_action").click(function(e){jQuery("body").toggleClass("ch_mobile-nav_enabled");jQuery(this).toggleClass("highlighted");jQuery("#ch-header_product-user-nav_container").toggleClass("show");e.preventDefault()});jQuery("#ch-header_mobile-search_action").click(function(e){jQuery("#ch-header_secondary-nav_wrapper").slideToggle();jQuery(this).toggleClass("highlighted");e.preventDefault()})}}var CourseHeroUtils=new function(){var IMAGE_MISSING_THUMB_PATH="/img/reviewer_nothumb.gif";return{imageErrorBackup:function(me,url){if(typeof jQuery==="undefined"||url===""){return false}var tries=jQuery.data(me,"tries");if(typeof tries==="undefined"){tries=0}tries++;jQuery.data(me,"tries",tries);if(tries<2){me.src=url}else{me.src=IMAGE_MISSING_THUMB_PATH}},truncate:function(){return function(text,length,end){if(typeof text=="undefined"){return""}if(isNaN(length))length=10;if(end===undefined)end="...";if(text.length<=length||text.length-end.length<=length){return text}else{return String(text).substring(0,length-end.length)+end}}},boldWord:function(source,word){var regex=new RegExp("("+word+")","gi");return source.replace(regex,"<strong>$1</strong>")},formatNumber:function(number){return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}};jQuery.ajax({type:"GET",url:"/ajax/tracker_pageview.php",data:{url:document.location.href}});(function($){var CLOSE_EVENT="Close",BEFORE_CLOSE_EVENT="BeforeClose",AFTER_CLOSE_EVENT="AfterClose",BEFORE_APPEND_EVENT="BeforeAppend",MARKUP_PARSE_EVENT="MarkupParse",OPEN_EVENT="Open",CHANGE_EVENT="Change",NS="mfp",EVENT_NS="."+NS,READY_CLASS="mfp-ready",REMOVING_CLASS="mfp-removing",PREVENT_CLOSE_CLASS="mfp-prevent-close";var mfp,MagnificPopup=function(){},_isJQ=!!window.jQuery,_prevStatus,_window=$(window),_body,_document,_prevContentType,_wrapClasses,_currPopupType;var _mfpOn=function(name,f){mfp.ev.on(NS+name+EVENT_NS,f)},_getEl=function(className,appendTo,html,raw){var el=document.createElement("div");el.className="mfp-"+className;if(html){el.innerHTML=html}if(!raw){el=$(el);if(appendTo){el.appendTo(appendTo)}}else if(appendTo){appendTo.appendChild(el)}return el},_mfpTrigger=function(e,data){mfp.ev.triggerHandler(NS+e,data);if(mfp.st.callbacks){e=e.charAt(0).toLowerCase()+e.slice(1);if(mfp.st.callbacks[e]){mfp.st.callbacks[e].apply(mfp,$.isArray(data)?data:[data])}}},_getCloseBtn=function(type){if(type!==_currPopupType||!mfp.currTemplate.closeBtn){mfp.currTemplate.closeBtn=$(mfp.st.closeMarkup.replace("%title%",mfp.st.tClose));_currPopupType=type}return mfp.currTemplate.closeBtn},_checkInstance=function(){if(!$.magnificPopup.instance){mfp=new MagnificPopup;mfp.init();$.magnificPopup.instance=mfp}},supportsTransitions=function(){var s=document.createElement("p").style,v=["ms","O","Moz","Webkit"];if(s["transition"]!==undefined){return true}while(v.length){if(v.pop()+"Transition"in s){return true}}return false};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var appVersion=navigator.appVersion;mfp.isIE7=appVersion.indexOf("MSIE 7.")!==-1;mfp.isIE8=appVersion.indexOf("MSIE 8.")!==-1;mfp.isLowIE=mfp.isIE7||mfp.isIE8;mfp.isAndroid=/android/gi.test(appVersion);mfp.isIOS=/iphone|ipad|ipod/gi.test(appVersion);mfp.supportsTransition=supportsTransitions();mfp.probablyMobile=mfp.isAndroid||mfp.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);_document=$(document);mfp.popupsCache={}},open:function(data){if(!_body){_body=$(document.body)}var i;if(data.isObj===false){mfp.items=data.items.toArray();mfp.index=0;var items=data.items,item;for(i=0;i<items.length;i++){item=items[i];if(item.parsed){item=item.el[0]}if(item===data.el[0]){mfp.index=i;break}}}else{mfp.items=$.isArray(data.items)?data.items:[data.items];mfp.index=data.index||0}if(mfp.isOpen){mfp.updateItemHTML();return}mfp.types=[];_wrapClasses="";if(data.mainEl&&data.mainEl.length){mfp.ev=data.mainEl.eq(0)}else{mfp.ev=_document}if(data.key){if(!mfp.popupsCache[data.key]){mfp.popupsCache[data.key]={}}mfp.currTemplate=mfp.popupsCache[data.key]}else{mfp.currTemplate={}}mfp.st=$.extend(true,{},$.magnificPopup.defaults,data);mfp.fixedContentPos=mfp.st.fixedContentPos==="auto"?!mfp.probablyMobile:mfp.st.fixedContentPos;if(mfp.st.modal){mfp.st.closeOnContentClick=false;mfp.st.closeOnBgClick=false;mfp.st.showCloseBtn=false;mfp.st.enableEscapeKey=false}if(!mfp.bgOverlay){mfp.bgOverlay=_getEl("bg").on("click"+EVENT_NS,function(){mfp.close()});mfp.wrap=_getEl("wrap").attr("tabindex",-1).on("click"+EVENT_NS,function(e){if(mfp._checkIfClose(e.target)){mfp.close()}});mfp.container=_getEl("container",mfp.wrap)}mfp.contentContainer=_getEl("content");if(mfp.st.preloader){mfp.preloader=_getEl("preloader",mfp.container,mfp.st.tLoading)}var modules=$.magnificPopup.modules;for(i=0;i<modules.length;i++){var n=modules[i];n=n.charAt(0).toUpperCase()+n.slice(1);mfp["init"+n].call(mfp)}_mfpTrigger("BeforeOpen");if(mfp.st.showCloseBtn){if(!mfp.st.closeBtnInside){mfp.wrap.append(_getCloseBtn())}else{_mfpOn(MARKUP_PARSE_EVENT,function(e,template,values,item){values.close_replaceWith=_getCloseBtn(item.type)});_wrapClasses+=" mfp-close-btn-in"}}if(mfp.st.alignTop){_wrapClasses+=" mfp-align-top"}if(mfp.fixedContentPos){mfp.wrap.css({overflow:mfp.st.overflowY,overflowX:"hidden",overflowY:mfp.st.overflowY})}else{mfp.wrap.css({top:_window.scrollTop(),position:"absolute"})}if(mfp.st.fixedBgPos===false||mfp.st.fixedBgPos==="auto"&&!mfp.fixedContentPos){mfp.bgOverlay.css({height:_document.height(),position:"absolute"})}if(mfp.st.enableEscapeKey){_document.on("keyup"+EVENT_NS,function(e){if(e.keyCode===27){mfp.close()}})}_window.on("resize"+EVENT_NS,function(){mfp.updateSize()});if(!mfp.st.closeOnContentClick){_wrapClasses+=" mfp-auto-cursor"}if(_wrapClasses)mfp.wrap.addClass(_wrapClasses);var windowHeight=mfp.wH=_window.height();var windowStyles={};if(mfp.fixedContentPos){if(mfp._hasScrollBar(windowHeight)){var s=mfp._getScrollbarSize();if(s){windowStyles.marginRight=s}}}if(mfp.fixedContentPos){if(!mfp.isIE7){windowStyles.overflow="hidden"}else{$("body, html").css("overflow","hidden")}}var classesToadd=mfp.st.mainClass;if(mfp.isIE7){classesToadd+=" mfp-ie7"}if(classesToadd){mfp._addClassToMFP(classesToadd)}mfp.updateItemHTML();_mfpTrigger("BuildControls");$("html").css(windowStyles);mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo||_body);mfp._lastFocusedEl=document.activeElement;setTimeout(function(){if(mfp.content){mfp._addClassToMFP(READY_CLASS);mfp._setFocus()}else{mfp.bgOverlay.addClass(READY_CLASS)}_document.on("focusin"+EVENT_NS,mfp._onFocusIn)},16);mfp.isOpen=true;mfp.updateSize(windowHeight);_mfpTrigger(OPEN_EVENT);return data},close:function(){if(!mfp.isOpen)return;_mfpTrigger(BEFORE_CLOSE_EVENT);mfp.isOpen=false;if(mfp.st.removalDelay&&!mfp.isLowIE&&mfp.supportsTransition){mfp._addClassToMFP(REMOVING_CLASS);setTimeout(function(){mfp._close()},mfp.st.removalDelay)}else{mfp._close()}},_close:function(){_mfpTrigger(CLOSE_EVENT);var classesToRemove=REMOVING_CLASS+" "+READY_CLASS+" ";mfp.bgOverlay.detach();mfp.wrap.detach();mfp.container.empty();if(mfp.st.mainClass){classesToRemove+=mfp.st.mainClass+" "}mfp._removeClassFromMFP(classesToRemove);if(mfp.fixedContentPos){var windowStyles={marginRight:""};if(mfp.isIE7){$("body, html").css("overflow","")}else{windowStyles.overflow=""}$("html").css(windowStyles)}_document.off("keyup"+EVENT_NS+" focusin"+EVENT_NS);mfp.ev.off(EVENT_NS);mfp.wrap.attr("class","mfp-wrap").removeAttr("style");mfp.bgOverlay.attr("class","mfp-bg");mfp.container.attr("class","mfp-container");if(mfp.st.showCloseBtn&&(!mfp.st.closeBtnInside||mfp.currTemplate[mfp.currItem.type]===true)){if(mfp.currTemplate.closeBtn)mfp.currTemplate.closeBtn.detach()}if(mfp._lastFocusedEl){$(mfp._lastFocusedEl).focus()}mfp.currItem=null;mfp.content=null;mfp.currTemplate=null;mfp.prevHeight=0;_mfpTrigger(AFTER_CLOSE_EVENT)},updateSize:function(winHeight){if(mfp.isIOS){var zoomLevel=document.documentElement.clientWidth/window.innerWidth;var height=window.innerHeight*zoomLevel;mfp.wrap.css("height",height);mfp.wH=height}else{mfp.wH=winHeight||_window.height()}if(!mfp.fixedContentPos){mfp.wrap.css("height",mfp.wH)}_mfpTrigger("Resize")},updateItemHTML:function(){var item=mfp.items[mfp.index];mfp.contentContainer.detach();if(mfp.content)mfp.content.detach();if(!item.parsed){item=mfp.parseEl(mfp.index)}var type=item.type;_mfpTrigger("BeforeChange",[mfp.currItem?mfp.currItem.type:"",type]);mfp.currItem=item;if(!mfp.currTemplate[type]){var markup=mfp.st[type]?mfp.st[type].markup:false;_mfpTrigger("FirstMarkupParse",markup);if(markup){mfp.currTemplate[type]=$(markup)}else{mfp.currTemplate[type]=true}}if(_prevContentType&&_prevContentType!==item.type){mfp.container.removeClass("mfp-"+_prevContentType+"-holder")}var newContent=mfp["get"+type.charAt(0).toUpperCase()+type.slice(1)](item,mfp.currTemplate[type]);mfp.appendContent(newContent,type);item.preloaded=true;_mfpTrigger(CHANGE_EVENT,item);_prevContentType=item.type;mfp.container.prepend(mfp.contentContainer);_mfpTrigger("AfterChange")},appendContent:function(newContent,type){mfp.content=newContent;if(newContent){if(mfp.st.showCloseBtn&&mfp.st.closeBtnInside&&mfp.currTemplate[type]===true){if(!mfp.content.find(".mfp-close").length){mfp.content.append(_getCloseBtn())}}else{mfp.content=newContent}}else{mfp.content=""}_mfpTrigger(BEFORE_APPEND_EVENT);mfp.container.addClass("mfp-"+type+"-holder");mfp.contentContainer.append(mfp.content)},parseEl:function(index){var item=mfp.items[index],type;if(item.tagName){item={el:$(item)}}else{type=item.type;item={data:item,src:item.src}}if(item.el){var types=mfp.types;for(var i=0;i<types.length;i++){if(item.el.hasClass("mfp-"+types[i])){type=types[i];break}}item.src=item.el.attr("data-mfp-src");if(!item.src){item.src=item.el.attr("href")}}item.type=type||mfp.st.type||"inline";item.index=index;item.parsed=true;mfp.items[index]=item;_mfpTrigger("ElementParse",item);return mfp.items[index]},addGroup:function(el,options){var eHandler=function(e){e.mfpEl=this;mfp._openClick(e,el,options)};if(!options){options={}}var eName="click.magnificPopup";options.mainEl=el;if(options.items){options.isObj=true;el.off(eName).on(eName,eHandler)}else{options.isObj=false;if(options.delegate){el.off(eName).on(eName,options.delegate,eHandler)}else{options.items=el;el.off(eName).on(eName,eHandler)}}},_openClick:function(e,el,options){var midClick=options.midClick!==undefined?options.midClick:$.magnificPopup.defaults.midClick;if(!midClick&&(e.which===2||e.ctrlKey||e.metaKey)){return}var disableOn=options.disableOn!==undefined?options.disableOn:$.magnificPopup.defaults.disableOn;if(disableOn){if($.isFunction(disableOn)){if(!disableOn.call(mfp)){return true}}else{if(_window.width()<disableOn){return true}}}if(e.type){e.preventDefault();if(mfp.isOpen){e.stopPropagation()}}options.el=$(e.mfpEl);if(options.delegate){options.items=el.find(options.delegate)}mfp.open(options)},updateStatus:function(status,text){if(mfp.preloader){if(_prevStatus!==status){mfp.container.removeClass("mfp-s-"+_prevStatus)}if(!text&&status==="loading"){text=mfp.st.tLoading}var data={status:status,text:text};_mfpTrigger("UpdateStatus",data);status=data.status;text=data.text;mfp.preloader.html(text);mfp.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()});mfp.container.addClass("mfp-s-"+status);_prevStatus=status}},_checkIfClose:function(target){if($(target).hasClass(PREVENT_CLOSE_CLASS)){return}var closeOnContent=mfp.st.closeOnContentClick;var closeOnBg=mfp.st.closeOnBgClick;if(closeOnContent&&closeOnBg){return true}else{if(!mfp.content||$(target).hasClass("mfp-close")||mfp.preloader&&target===mfp.preloader[0]){return true}if(target!==mfp.content[0]&&!$.contains(mfp.content[0],target)){if(closeOnBg){if($.contains(document,target)){return true}}}else if(closeOnContent){return true}}return false},_addClassToMFP:function(cName){mfp.bgOverlay.addClass(cName);mfp.wrap.addClass(cName)},_removeClassFromMFP:function(cName){this.bgOverlay.removeClass(cName);mfp.wrap.removeClass(cName)},_hasScrollBar:function(winHeight){return(mfp.isIE7?_document.height():document.body.scrollHeight)>(winHeight||_window.height())},_setFocus:function(){(mfp.st.focus?mfp.content.find(mfp.st.focus).eq(0):mfp.wrap).focus()},_onFocusIn:function(e){if(e.target!==mfp.wrap[0]&&!$.contains(mfp.wrap[0],e.target)){mfp._setFocus();return false}},_parseMarkup:function(template,values,item){var arr;if(item.data){values=$.extend(item.data,values)}_mfpTrigger(MARKUP_PARSE_EVENT,[template,values,item]);$.each(values,function(key,value){if(value===undefined||value===false){return true}arr=key.split("_");if(arr.length>1){var el=template.find(EVENT_NS+"-"+arr[0]);if(el.length>0){var attr=arr[1];if(attr==="replaceWith"){if(el[0]!==value[0]){el.replaceWith(value)}}else if(attr==="img"){if(el.is("img")){el.attr("src",value)}else{el.replaceWith('<img src="'+value+'" class="'+el.attr("class")+'" />')}}else{el.attr(arr[1],value)}}}else{template.find(EVENT_NS+"-"+key).html(value)}})},_getScrollbarSize:function(){if(mfp.scrollbarSize===undefined){var scrollDiv=document.createElement("div");scrollDiv.id="mfp-sbm";scrollDiv.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(scrollDiv);mfp.scrollbarSize=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv)}return mfp.scrollbarSize}};$.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(options,index){_checkInstance();if(!options){options={}}else{options=$.extend(true,{},options)}options.isObj=true;options.index=index||0;return this.instance.open(options)},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close()},registerModule:function(name,module){if(module.options){$.magnificPopup.defaults[name]=module.options}$.extend(this.proto,module.proto);this.modules.push(name)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};$.fn.magnificPopup=function(options){_checkInstance();var jqEl=$(this);if(typeof options==="string"){if(options==="open"){var items,itemOpts=_isJQ?jqEl.data("magnificPopup"):jqEl[0].magnificPopup,index=parseInt(arguments[1],10)||0;if(itemOpts.items){items=itemOpts.items[index]}else{items=jqEl;if(itemOpts.delegate){items=items.find(itemOpts.delegate)}items=items.eq(index)}mfp._openClick({mfpEl:items},jqEl,itemOpts)}else{if(mfp.isOpen)mfp[options].apply(mfp,Array.prototype.slice.call(arguments,1))}}else{options=$.extend(true,{},options);if(_isJQ){jqEl.data("magnificPopup",options)}else{jqEl[0].magnificPopup=options}mfp.addGroup(jqEl,options)}return jqEl};var INLINE_NS="inline",_hiddenClass,_inlinePlaceholder,_lastInlineElement,_putInlineElementsBack=function(){if(_lastInlineElement){_inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();_lastInlineElement=null}};$.magnificPopup.registerModule(INLINE_NS,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){mfp.types.push(INLINE_NS);_mfpOn(CLOSE_EVENT+"."+INLINE_NS,function(){_putInlineElementsBack()})},getInline:function(item,template){_putInlineElementsBack();if(item.src){var inlineSt=mfp.st.inline,el=$(item.src);if(el.length){var parent=el[0].parentNode;if(parent&&parent.tagName){if(!_inlinePlaceholder){_hiddenClass=inlineSt.hiddenClass;_inlinePlaceholder=_getEl(_hiddenClass);_hiddenClass="mfp-"+_hiddenClass}_lastInlineElement=el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass)}mfp.updateStatus("ready")}else{mfp.updateStatus("error",inlineSt.tNotFound);el=$("<div>")}item.inlineElement=el;return el}mfp.updateStatus("ready");mfp._parseMarkup(template,{},item);return template}}});var AJAX_NS="ajax",_ajaxCur,_removeAjaxCursor=function(){if(_ajaxCur){_body.removeClass(_ajaxCur)}},_destroyAjaxRequest=function(){_removeAjaxCursor();if(mfp.req){mfp.req.abort()}};$.magnificPopup.registerModule(AJAX_NS,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){mfp.types.push(AJAX_NS);_ajaxCur=mfp.st.ajax.cursor;_mfpOn(CLOSE_EVENT+"."+AJAX_NS,_destroyAjaxRequest);_mfpOn("BeforeChange."+AJAX_NS,_destroyAjaxRequest)},getAjax:function(item){if(_ajaxCur)_body.addClass(_ajaxCur);mfp.updateStatus("loading");var opts=$.extend({url:item.src,success:function(data,textStatus,jqXHR){var temp={data:data,xhr:jqXHR};_mfpTrigger("ParseAjax",temp);mfp.appendContent($(temp.data),AJAX_NS);item.finished=true;_removeAjaxCursor();mfp._setFocus();setTimeout(function(){mfp.wrap.addClass(READY_CLASS)},16);mfp.updateStatus("ready");_mfpTrigger("AjaxContentAdded")},error:function(){_removeAjaxCursor();item.finished=item.loadError=true;mfp.updateStatus("error",mfp.st.ajax.tError.replace("%url%",item.src))}},mfp.st.ajax.settings);mfp.req=$.ajax(opts);return""}}});var _imgInterval,_getTitle=function(item){if(item.data&&item.data.title!==undefined)return item.data.title;var src=mfp.st.image.titleSrc;if(src){if($.isFunction(src)){return src.call(mfp,item)}else if(item.el){return item.el.attr(src)||""}}return""};$.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure">'+'<div class="mfp-close"></div>'+"<figure>"+'<div class="mfp-img"></div>'+"<figcaption>"+'<div class="mfp-bottom-bar">'+'<div class="mfp-title"></div>'+'<div class="mfp-counter"></div>'+"</div>"+"</figcaption>"+"</figure>"+"</div>",cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var imgSt=mfp.st.image,ns=".image";mfp.types.push("image");_mfpOn(OPEN_EVENT+ns,function(){if(mfp.currItem.type==="image"&&imgSt.cursor){_body.addClass(imgSt.cursor)}});_mfpOn(CLOSE_EVENT+ns,function(){if(imgSt.cursor){_body.removeClass(imgSt.cursor)}_window.off("resize"+EVENT_NS)});_mfpOn("Resize"+ns,mfp.resizeImage);if(mfp.isLowIE){_mfpOn("AfterChange",mfp.resizeImage)}},resizeImage:function(){var item=mfp.currItem;if(!item||!item.img)return;if(mfp.st.image.verticalFit){var decr=0;if(mfp.isLowIE){decr=parseInt(item.img.css("padding-top"),10)+parseInt(item.img.css("padding-bottom"),10)}item.img.css("max-height",mfp.wH-decr)}},_onImageHasSize:function(item){if(item.img){item.hasSize=true;if(_imgInterval){clearInterval(_imgInterval)}item.isCheckingImgSize=false;_mfpTrigger("ImageHasSize",item);if(item.imgHidden){if(mfp.content)mfp.content.removeClass("mfp-loading");item.imgHidden=false}}},findImageSize:function(item){var counter=0,img=item.img[0],mfpSetInterval=function(delay){if(_imgInterval){clearInterval(_imgInterval)}_imgInterval=setInterval(function(){if(img.naturalWidth>0){mfp._onImageHasSize(item);return}if(counter>200){clearInterval(_imgInterval)}counter++;if(counter===3){mfpSetInterval(10)}else if(counter===40){mfpSetInterval(50)}else if(counter===100){mfpSetInterval(500)}},delay)};mfpSetInterval(1)},getImage:function(item,template){var guard=0,onLoadComplete=function(){if(item){if(item.img[0].complete){item.img.off(".mfploader");if(item===mfp.currItem){mfp._onImageHasSize(item);mfp.updateStatus("ready")}item.hasSize=true;item.loaded=true;_mfpTrigger("ImageLoadComplete")}else{guard++;if(guard<200){setTimeout(onLoadComplete,100)}else{onLoadError()}}}},onLoadError=function(){if(item){item.img.off(".mfploader");if(item===mfp.currItem){mfp._onImageHasSize(item);mfp.updateStatus("error",imgSt.tError.replace("%url%",item.src))}item.hasSize=true;item.loaded=true;item.loadError=true}},imgSt=mfp.st.image;var el=template.find(".mfp-img");if(el.length){var img=document.createElement("img");img.className="mfp-img";item.img=$(img).on("load.mfploader",onLoadComplete).on("error.mfploader",onLoadError);img.src=item.src;if(el.is("img")){item.img=item.img.clone()}img=item.img[0];if(img.naturalWidth>0){item.hasSize=true}else if(!img.width){item.hasSize=false}}mfp._parseMarkup(template,{title:_getTitle(item),img_replaceWith:item.img},item);mfp.resizeImage();if(item.hasSize){if(_imgInterval)clearInterval(_imgInterval);if(item.loadError){template.addClass("mfp-loading");mfp.updateStatus("error",imgSt.tError.replace("%url%",item.src))}else{template.removeClass("mfp-loading");mfp.updateStatus("ready")}return template}mfp.updateStatus("loading");item.loading=true;if(!item.hasSize){item.imgHidden=true;template.addClass("mfp-loading");mfp.findImageSize(item)}return template}}});var hasMozTransform,getHasMozTransform=function(){if(hasMozTransform===undefined){hasMozTransform=document.createElement("p").style.MozTransform!==undefined}return hasMozTransform};$.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(element){return element.is("img")?element:element.find("img")}},proto:{initZoom:function(){var zoomSt=mfp.st.zoom,ns=".zoom",image;if(!zoomSt.enabled||!mfp.supportsTransition){return}var duration=zoomSt.duration,getElToAnimate=function(image){var newImg=image.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),transition="all "+zoomSt.duration/1e3+"s "+zoomSt.easing,cssObj={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},t="transition";cssObj["-webkit-"+t]=cssObj["-moz-"+t]=cssObj["-o-"+t]=cssObj[t]=transition;newImg.css(cssObj);return newImg},showMainContent=function(){mfp.content.css("visibility","visible")},openTimeout,animatedImg;_mfpOn("BuildControls"+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.content.css("visibility","hidden");image=mfp._getItemToZoom();if(!image){showMainContent();return}animatedImg=getElToAnimate(image);animatedImg.css(mfp._getOffset());mfp.wrap.append(animatedImg);openTimeout=setTimeout(function(){animatedImg.css(mfp._getOffset(true));openTimeout=setTimeout(function(){showMainContent();setTimeout(function(){animatedImg.remove();image=animatedImg=null;_mfpTrigger("ZoomAnimationEnded")},16)},duration)},16)}});_mfpOn(BEFORE_CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.st.removalDelay=duration;if(!image){image=mfp._getItemToZoom();if(!image){return}animatedImg=getElToAnimate(image)}animatedImg.css(mfp._getOffset(true));mfp.wrap.append(animatedImg);mfp.content.css("visibility","hidden");setTimeout(function(){animatedImg.css(mfp._getOffset())},16)}});_mfpOn(CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){showMainContent();if(animatedImg){animatedImg.remove()}image=null}})},_allowZoom:function(){return mfp.currItem.type==="image"},_getItemToZoom:function(){if(mfp.currItem.hasSize){return mfp.currItem.img}else{return false}},_getOffset:function(isLarge){var el;if(isLarge){el=mfp.currItem.img}else{el=mfp.st.zoom.opener(mfp.currItem.el||mfp.currItem)}var offset=el.offset();var paddingTop=parseInt(el.css("padding-top"),10);var paddingBottom=parseInt(el.css("padding-bottom"),10);offset.top-=$(window).scrollTop()-paddingTop;var obj={width:el.width(),height:(_isJQ?el.innerHeight():el[0].offsetHeight)-paddingBottom-paddingTop};if(getHasMozTransform()){obj["-moz-transform"]=obj["transform"]="translate("+offset.left+"px,"+offset.top+"px)"}else{obj.left=offset.left;obj.top=offset.top}return obj}}});var IFRAME_NS="iframe",_emptyPage="//about:blank",_fixIframeBugs=function(isShowing){if(mfp.currTemplate[IFRAME_NS]){var el=mfp.currTemplate[IFRAME_NS].find("iframe");if(el.length){if(!isShowing){el[0].src=_emptyPage}if(mfp.isIE8){el.css("display",isShowing?"block":"none")}}}};$.magnificPopup.registerModule(IFRAME_NS,{options:{markup:'<div class="mfp-iframe-scaler">'+'<div class="mfp-close"></div>'+'<iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe>'+"</div>",srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){mfp.types.push(IFRAME_NS);_mfpOn("BeforeChange",function(e,prevType,newType){if(prevType!==newType){if(prevType===IFRAME_NS){_fixIframeBugs()}else if(newType===IFRAME_NS){_fixIframeBugs(true)}}});_mfpOn(CLOSE_EVENT+"."+IFRAME_NS,function(){_fixIframeBugs()})},getIframe:function(item,template){var embedSrc=item.src;var iframeSt=mfp.st.iframe;$.each(iframeSt.patterns,function(){if(embedSrc.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){embedSrc=embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length,embedSrc.length)}else{embedSrc=this.id.call(this,embedSrc)}}embedSrc=this.src.replace("%id%",embedSrc);return false}});var dataObj={};if(iframeSt.srcAction){dataObj[iframeSt.srcAction]=embedSrc}mfp._parseMarkup(template,dataObj,item);mfp.updateStatus("ready");return template}}});var _getLoopedId=function(index){var numSlides=mfp.items.length;if(index>numSlides-1){return index-numSlides}else if(index<0){return numSlides+index}return index},_replaceCurrTotal=function(text,curr,total){return text.replace(/%curr%/gi,curr+1).replace(/%total%/gi,total)};$.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var gSt=mfp.st.gallery,ns=".mfp-gallery",supportsFastClick=Boolean($.fn.mfpFastClick);mfp.direction=true;if(!gSt||!gSt.enabled)return false;_wrapClasses+=" mfp-gallery";_mfpOn(OPEN_EVENT+ns,function(){if(gSt.navigateByImgClick){mfp.wrap.on("click"+ns,".mfp-img",function(){if(mfp.items.length>1){mfp.next();return false}})}_document.on("keydown"+ns,function(e){if(e.keyCode===37){mfp.prev()}else if(e.keyCode===39){mfp.next()}})});_mfpOn("UpdateStatus"+ns,function(e,data){if(data.text){data.text=_replaceCurrTotal(data.text,mfp.currItem.index,mfp.items.length)}});_mfpOn(MARKUP_PARSE_EVENT+ns,function(e,element,values,item){var l=mfp.items.length;values.counter=l>1?_replaceCurrTotal(gSt.tCounter,item.index,l):""});_mfpOn("BuildControls"+ns,function(){if(mfp.items.length>1&&gSt.arrows&&!mfp.arrowLeft){var markup=gSt.arrowMarkup,arrowLeft=mfp.arrowLeft=$(markup.replace(/%title%/gi,gSt.tPrev).replace(/%dir%/gi,"left")).addClass(PREVENT_CLOSE_CLASS),arrowRight=mfp.arrowRight=$(markup.replace(/%title%/gi,gSt.tNext).replace(/%dir%/gi,"right")).addClass(PREVENT_CLOSE_CLASS);var eName=supportsFastClick?"mfpFastClick":"click";arrowLeft[eName](function(){mfp.prev()});arrowRight[eName](function(){mfp.next()});if(mfp.isIE7){_getEl("b",arrowLeft[0],false,true);_getEl("a",arrowLeft[0],false,true);_getEl("b",arrowRight[0],false,true);_getEl("a",arrowRight[0],false,true)}mfp.container.append(arrowLeft.add(arrowRight))}});_mfpOn(CHANGE_EVENT+ns,function(){if(mfp._preloadTimeout)clearTimeout(mfp._preloadTimeout);mfp._preloadTimeout=setTimeout(function(){mfp.preloadNearbyImages();mfp._preloadTimeout=null},16)});_mfpOn(CLOSE_EVENT+ns,function(){_document.off(ns);mfp.wrap.off("click"+ns);if(mfp.arrowLeft&&supportsFastClick){mfp.arrowLeft.add(mfp.arrowRight).destroyMfpFastClick()}mfp.arrowRight=mfp.arrowLeft=null})},next:function(){mfp.direction=true;mfp.index=_getLoopedId(mfp.index+1);mfp.updateItemHTML()},prev:function(){mfp.direction=false;mfp.index=_getLoopedId(mfp.index-1);mfp.updateItemHTML()},goTo:function(newIndex){mfp.direction=newIndex>=mfp.index;mfp.index=newIndex;mfp.updateItemHTML()},preloadNearbyImages:function(){var p=mfp.st.gallery.preload,preloadBefore=Math.min(p[0],mfp.items.length),preloadAfter=Math.min(p[1],mfp.items.length),i;for(i=1;i<=(mfp.direction?preloadAfter:preloadBefore);i++){mfp._preloadItem(mfp.index+i)}for(i=1;i<=(mfp.direction?preloadBefore:preloadAfter);i++){mfp._preloadItem(mfp.index-i)}},_preloadItem:function(index){index=_getLoopedId(index);if(mfp.items[index].preloaded){return}var item=mfp.items[index];if(!item.parsed){item=mfp.parseEl(index)}_mfpTrigger("LazyLoad",item);if(item.type==="image"){item.img=$('<img class="mfp-img" />').on("load.mfploader",function(){item.hasSize=true}).on("error.mfploader",function(){item.hasSize=true;item.loadError=true;_mfpTrigger("LazyLoadError",item)}).attr("src",item.src)}item.preloaded=true}}});var RETINA_NS="retina";$.magnificPopup.registerModule(RETINA_NS,{options:{replaceSrc:function(item){return item.src.replace(/\.\w+$/,function(m){return"@2x"+m})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var st=mfp.st.retina,ratio=st.ratio;ratio=!isNaN(ratio)?ratio:ratio();if(ratio>1){_mfpOn("ImageHasSize"+"."+RETINA_NS,function(e,item){item.img.css({"max-width":item.img[0].naturalWidth/ratio,width:"100%"})});_mfpOn("ElementParse"+"."+RETINA_NS,function(e,item){item.src=st.replaceSrc(item,ratio)})}}}}});(function(){var ghostClickDelay=1e3,supportsTouch="ontouchstart"in window,unbindTouchMove=function(){_window.off("touchmove"+ns+" touchend"+ns)},eName="mfpFastClick",ns="."+eName;$.fn.mfpFastClick=function(callback){return $(this).each(function(){var elem=$(this),lock;if(supportsTouch){var timeout,startX,startY,pointerMoved,point,numPointers;elem.on("touchstart"+ns,function(e){pointerMoved=false;numPointers=1;point=e.originalEvent?e.originalEvent.touches[0]:e.touches[0];startX=point.clientX;startY=point.clientY;_window.on("touchmove"+ns,function(e){point=e.originalEvent?e.originalEvent.touches:e.touches;numPointers=point.length;point=point[0];if(Math.abs(point.clientX-startX)>10||Math.abs(point.clientY-startY)>10){pointerMoved=true;unbindTouchMove()}}).on("touchend"+ns,function(e){unbindTouchMove();if(pointerMoved||numPointers>1){return}lock=true;e.preventDefault();clearTimeout(timeout);timeout=setTimeout(function(){lock=false},ghostClickDelay);callback()})})}elem.on("click"+ns,function(){if(!lock){callback()}})})};$.fn.destroyMfpFastClick=function(){$(this).off("touchstart"+ns+" click"+ns);if(supportsTouch)_window.off("touchmove"+ns+" touchend"+ns)}})();_checkInstance()})(window.jQuery||window.Zepto);if(typeof Object.create!=="function"){Object.create=function(obj){function F(){}F.prototype=obj;return new F}}(function($,window,document){var Carousel={init:function(options,el){var base=this;base.$elem=$(el);base.options=$.extend({},$.fn.owlCarousel.options,base.$elem.data(),options);base.userOptions=options;base.loadContent()},loadContent:function(){var base=this,url;function getData(data){var i,content="";if(typeof base.options.jsonSuccess==="function"){base.options.jsonSuccess.apply(this,[data])}else{for(i in data.owl){if(data.owl.hasOwnProperty(i)){content+=data.owl[i].item}}base.$elem.html(content)}base.logIn()}if(typeof base.options.beforeInit==="function"){base.options.beforeInit.apply(this,[base.$elem])}if(typeof base.options.jsonPath==="string"){url=base.options.jsonPath;$.getJSON(url,getData)}else{base.logIn()}},logIn:function(){var base=this;base.$elem.data("owl-originalStyles",base.$elem.attr("style")).data("owl-originalClasses",base.$elem.attr("class"));base.$elem.css({opacity:0});base.orignalItems=base.options.items;base.checkBrowser();base.wrapperWidth=0;base.checkVisible=null;base.setVars()},setVars:function(){var base=this;if(base.$elem.children().length===0){return false}base.baseClass();base.eventTypes();base.$userItems=base.$elem.children();base.itemsAmount=base.$userItems.length;base.wrapItems();base.$owlItems=base.$elem.find(".ch_carousel_item");base.$owlWrapper=base.$elem.find(".ch_carousel_wrapper");base.playDirection="next";base.prevItem=0;base.prevArr=[0];base.currentItem=0;base.customEvents();base.onStartup()},onStartup:function(){var base=this;base.updateItems();base.calculateAll();base.buildControls();base.updateControls();base.response();base.moveEvents();base.stopOnHover();base.owlStatus();if(base.options.transitionStyle!==false){base.transitionTypes(base.options.transitionStyle)}if(base.options.autoPlay===true){base.options.autoPlay=5e3}base.play();base.$elem.find(".ch_carousel_wrapper").css("display","block");if(!base.$elem.is(":visible")){base.watchVisibility()}else{base.$elem.css("opacity",1)}base.onstartup=false;base.eachMoveUpdate();if(typeof base.options.afterInit==="function"){base.options.afterInit.apply(this,[base.$elem])}},eachMoveUpdate:function(){var base=this;if(base.options.lazyLoad===true){base.lazyLoad()}if(base.options.autoHeight===true){base.autoHeight()}base.onVisibleItems();if(typeof base.options.afterAction==="function"){base.options.afterAction.apply(this,[base.$elem])}},updateVars:function(){var base=this;if(typeof base.options.beforeUpdate==="function"){base.options.beforeUpdate.apply(this,[base.$elem])}base.watchVisibility();base.updateItems();base.calculateAll();base.updatePosition();base.updateControls();base.eachMoveUpdate();if(typeof base.options.afterUpdate==="function"){base.options.afterUpdate.apply(this,[base.$elem])}},reload:function(){var base=this;window.setTimeout(function(){base.updateVars()},0)},watchVisibility:function(){var base=this;if(base.$elem.is(":visible")===false){base.$elem.css({opacity:0});window.clearInterval(base.autoPlayInterval);window.clearInterval(base.checkVisible)}else{return false}base.checkVisible=window.setInterval(function(){if(base.$elem.is(":visible")){base.reload();base.$elem.animate({opacity:1},200);window.clearInterval(base.checkVisible)}},500)},wrapItems:function(){var base=this;base.$userItems.wrapAll('<div class="ch_carousel_wrapper">').wrap('<div class="ch_carousel_item"></div>');base.$elem.find(".ch_carousel_wrapper").wrap('<div class="ch_carousel_wrapper-outer">');base.wrapperOuter=base.$elem.find(".ch_carousel_wrapper-outer");base.$elem.css("display","block")},baseClass:function(){var base=this,hasBaseClass=base.$elem.hasClass(base.options.baseClass),hasThemeClass=base.$elem.hasClass(base.options.theme);if(!hasBaseClass){base.$elem.addClass(base.options.baseClass)}if(!hasThemeClass){base.$elem.addClass(base.options.theme)}},updateItems:function(){var base=this,width,i;if(base.options.responsive===false){return false}if(base.options.singleItem===true){base.options.items=base.orignalItems=1;base.options.itemsCustom=false;base.options.itemsDesktop=false;base.options.itemsDesktopSmall=false;base.options.itemsTablet=false;base.options.itemsTabletSmall=false;base.options.itemsMobile=false;return false}width=$(base.options.responsiveBaseWidth).width();if(width>(base.options.itemsDesktop[0]||base.orignalItems)){base.options.items=base.orignalItems}if(base.options.itemsCustom!==false){base.options.itemsCustom.sort(function(a,b){return a[0]-b[0]});for(i=0;i<base.options.itemsCustom.length;i+=1){if(base.options.itemsCustom[i][0]<=width){base.options.items=base.options.itemsCustom[i][1]}}}else{if(width<=base.options.itemsDesktop[0]&&base.options.itemsDesktop!==false){base.options.items=base.options.itemsDesktop[1]}if(width<=base.options.itemsDesktopSmall[0]&&base.options.itemsDesktopSmall!==false){base.options.items=base.options.itemsDesktopSmall[1]}if(width<=base.options.itemsTablet[0]&&base.options.itemsTablet!==false){base.options.items=base.options.itemsTablet[1]}if(width<=base.options.itemsTabletSmall[0]&&base.options.itemsTabletSmall!==false){base.options.items=base.options.itemsTabletSmall[1]}if(width<=base.options.itemsMobile[0]&&base.options.itemsMobile!==false){base.options.items=base.options.itemsMobile[1]}}if(base.options.items>base.itemsAmount&&base.options.itemsScaleUp===true){base.options.items=base.itemsAmount}},response:function(){var base=this,smallDelay,lastWindowWidth;if(base.options.responsive!==true){return false}lastWindowWidth=$(window).width();base.resizer=function(){if($(window).width()!==lastWindowWidth){if(base.options.autoPlay!==false){window.clearInterval(base.autoPlayInterval)}window.clearTimeout(smallDelay);smallDelay=window.setTimeout(function(){lastWindowWidth=$(window).width();base.updateVars()},base.options.responsiveRefreshRate)}};$(window).resize(base.resizer)},updatePosition:function(){var base=this;base.jumpTo(base.currentItem);if(base.options.autoPlay!==false){base.checkAp()}},appendItemsSizes:function(){var base=this,roundPages=0,lastItem=base.itemsAmount-base.options.items;base.$owlItems.each(function(index){var $this=$(this);$this.css({width:base.itemWidth}).data("ch_carousel_item",Number(index));if(index%base.options.items===0||index===lastItem){if(!(index>lastItem)){roundPages+=1}}$this.data("owl-roundPages",roundPages)})},appendWrapperSizes:function(){var base=this,width=base.$owlItems.length*base.itemWidth;base.$owlWrapper.css({width:width*2,left:0});base.appendItemsSizes()},calculateAll:function(){var base=this;base.calculateWidth();base.appendWrapperSizes();base.loops();base.max()},calculateWidth:function(){var base=this;base.itemWidth=Math.round(base.$elem.width()/base.options.items)},max:function(){var base=this,maximum=(base.itemsAmount*base.itemWidth-base.options.items*base.itemWidth)*-1;if(base.options.items>base.itemsAmount){base.maximumItem=0;maximum=0;base.maximumPixels=0}else{base.maximumItem=base.itemsAmount-base.options.items;base.maximumPixels=maximum}return maximum},min:function(){return 0},loops:function(){var base=this,prev=0,elWidth=0,i,item,roundPageNum;base.positionsInArray=[0];base.pagesInArray=[];for(i=0;i<base.itemsAmount;i+=1){elWidth+=base.itemWidth;base.positionsInArray.push(-elWidth);if(base.options.scrollPerPage===true){item=$(base.$owlItems[i]);roundPageNum=item.data("owl-roundPages");if(roundPageNum!==prev){base.pagesInArray[prev]=base.positionsInArray[i];prev=roundPageNum}}}},buildControls:function(){var base=this;if(base.options.navigation===true||base.options.pagination===true){base.owlControls=$('<div class="ch_carousel_controls"/>').toggleClass("clickable",!base.browser.isTouch).appendTo(base.$elem)}if(base.options.pagination===true){base.buildPagination()}if(base.options.navigation===true){base.buildButtons()}},buildButtons:function(){var base=this,buttonsWrapper=$('<div class="ch_carousel_buttons"/>');base.owlControls.append(buttonsWrapper);base.buttonPrev=$("<div/>",{class:"ch_carousel_buttons-prev",html:base.options.navigationText[0]||""});base.buttonNext=$("<div/>",{class:"ch_carousel_buttons-next",html:base.options.navigationText[1]||""});buttonsWrapper.append(base.buttonPrev).append(base.buttonNext);buttonsWrapper.on("touchstart.owlControls mousedown.owlControls",'div[class^="ch_carousel"]',function(event){event.preventDefault()});buttonsWrapper.on("touchend.owlControls mouseup.owlControls",'div[class^="ch_carousel"]',function(event){event.preventDefault();if($(this).hasClass("ch_carousel_buttons-next")){base.next()}else{base.prev()}})},buildPagination:function(){var base=this;base.paginationWrapper=$('<div class="ch_carousel_pagination"/>');base.owlControls.append(base.paginationWrapper);base.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".ch_carousel_page",function(event){event.preventDefault();if(Number($(this).data("owl-page"))!==base.currentItem){base.goTo(Number($(this).data("owl-page")),true)}})},updatePagination:function(){var base=this,counter,lastPage,lastItem,i,paginationButton,paginationButtonInner;if(base.options.pagination===false){return false}base.paginationWrapper.html("");counter=0;lastPage=base.itemsAmount-base.itemsAmount%base.options.items;for(i=0;i<base.itemsAmount;i+=1){if(i%base.options.items===0){counter+=1;if(lastPage===i){lastItem=base.itemsAmount-base.options.items}paginationButton=$("<div/>",{class:"ch_carousel_page"});paginationButtonInner=$("<span></span>",{text:base.options.paginationNumbers===true?counter:"",class:base.options.paginationNumbers===true?"ch_carousel_numbers":""});paginationButton.append(paginationButtonInner);paginationButton.data("owl-page",lastPage===i?lastItem:i);paginationButton.data("owl-roundPages",counter);base.paginationWrapper.append(paginationButton)}}base.checkPagination()},checkPagination:function(){var base=this;if(base.options.pagination===false){return false}base.paginationWrapper.find(".ch_carousel_page").each(function(){if($(this).data("owl-roundPages")===$(base.$owlItems[base.currentItem]).data("owl-roundPages")){base.paginationWrapper.find(".ch_carousel_page").removeClass("active");$(this).addClass("active")}})},checkNavigation:function(){var base=this;if(base.options.navigation===false){return false}if(base.options.rewindNav===false){if(base.currentItem===0&&base.maximumItem===0){base.buttonPrev.addClass("disabled");base.buttonNext.addClass("disabled")}else if(base.currentItem===0&&base.maximumItem!==0){base.buttonPrev.addClass("disabled");base.buttonNext.removeClass("disabled")}else if(base.currentItem===base.maximumItem){base.buttonPrev.removeClass("disabled");base.buttonNext.addClass("disabled")}else if(base.currentItem!==0&&base.currentItem!==base.maximumItem){base.buttonPrev.removeClass("disabled");base.buttonNext.removeClass("disabled")}}},updateControls:function(){var base=this;base.updatePagination();base.checkNavigation();if(base.owlControls){if(base.options.items>=base.itemsAmount){base.owlControls.hide()}else{base.owlControls.show()}}},destroyControls:function(){var base=this;if(base.owlControls){base.owlControls.remove()}},next:function(speed){var base=this;if(base.isTransition){return false}base.currentItem+=base.options.scrollPerPage===true?base.options.items:1;if(base.currentItem>base.maximumItem+(base.options.scrollPerPage===true?base.options.items-1:0)){if(base.options.rewindNav===true){base.currentItem=0;speed="rewind"}else{base.currentItem=base.maximumItem;return false}}base.goTo(base.currentItem,speed)},prev:function(speed){var base=this;if(base.isTransition){return false}if(base.options.scrollPerPage===true&&base.currentItem>0&&base.currentItem<base.options.items){base.currentItem=0}else{base.currentItem-=base.options.scrollPerPage===true?base.options.items:1}if(base.currentItem<0){if(base.options.rewindNav===true){base.currentItem=base.maximumItem;speed="rewind"}else{base.currentItem=0;return false}}base.goTo(base.currentItem,speed)},goTo:function(position,speed,drag){var base=this,goToPixel;if(base.isTransition){return false}if(typeof base.options.beforeMove==="function"){base.options.beforeMove.apply(this,[base.$elem])}if(position>=base.maximumItem){position=base.maximumItem}else if(position<=0){position=0}base.currentItem=base.owl.currentItem=position;if(base.options.transitionStyle!==false&&drag!=="drag"&&base.options.items===1&&base.browser.support3d===true){base.swapSpeed(0);if(base.browser.support3d===true){base.transition3d(base.positionsInArray[position])}else{base.css2slide(base.positionsInArray[position],1)}base.afterGo();base.singleItemTransition();return false}goToPixel=base.positionsInArray[position];if(base.browser.support3d===true){base.isCss3Finish=false;if(speed===true){base.swapSpeed("paginationSpeed");window.setTimeout(function(){base.isCss3Finish=true},base.options.paginationSpeed)}else if(speed==="rewind"){base.swapSpeed(base.options.rewindSpeed);window.setTimeout(function(){base.isCss3Finish=true},base.options.rewindSpeed)}else{base.swapSpeed("slideSpeed");window.setTimeout(function(){base.isCss3Finish=true},base.options.slideSpeed)}base.transition3d(goToPixel)}else{if(speed===true){base.css2slide(goToPixel,base.options.paginationSpeed)}else if(speed==="rewind"){base.css2slide(goToPixel,base.options.rewindSpeed)}else{base.css2slide(goToPixel,base.options.slideSpeed)}}base.afterGo()},jumpTo:function(position){var base=this;if(typeof base.options.beforeMove==="function"){base.options.beforeMove.apply(this,[base.$elem])}if(position>=base.maximumItem||position===-1){position=base.maximumItem}else if(position<=0){position=0}base.swapSpeed(0);if(base.browser.support3d===true){base.transition3d(base.positionsInArray[position])}else{base.css2slide(base.positionsInArray[position],1)}base.currentItem=base.owl.currentItem=position;base.afterGo()},afterGo:function(){var base=this;base.prevArr.push(base.currentItem);base.prevItem=base.owl.prevItem=base.prevArr[base.prevArr.length-2];base.prevArr.shift(0);if(base.prevItem!==base.currentItem){base.checkPagination();base.checkNavigation();base.eachMoveUpdate();if(base.options.autoPlay!==false){base.checkAp()}}if(typeof base.options.afterMove==="function"&&base.prevItem!==base.currentItem){base.options.afterMove.apply(this,[base.$elem])}},stop:function(){var base=this;base.apStatus="stop";window.clearInterval(base.autoPlayInterval)},checkAp:function(){var base=this;if(base.apStatus!=="stop"){base.play()}},play:function(){var base=this;base.apStatus="play";if(base.options.autoPlay===false){return false}window.clearInterval(base.autoPlayInterval);base.autoPlayInterval=window.setInterval(function(){base.next(true)},base.options.autoPlay)},swapSpeed:function(action){var base=this;if(action==="slideSpeed"){base.$owlWrapper.css(base.addCssSpeed(base.options.slideSpeed))}else if(action==="paginationSpeed"){base.$owlWrapper.css(base.addCssSpeed(base.options.paginationSpeed))}else if(typeof action!=="string"){base.$owlWrapper.css(base.addCssSpeed(action))}},addCssSpeed:function(speed){return{"-webkit-transition":"all "+speed+"ms ease","-moz-transition":"all "+speed+"ms ease","-o-transition":"all "+speed+"ms ease",transition:"all "+speed+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(pixels){return{"-webkit-transform":"translate3d("+pixels+"px, 0px, 0px)","-moz-transform":"translate3d("+pixels+"px, 0px, 0px)","-o-transform":"translate3d("+pixels+"px, 0px, 0px)","-ms-transform":"translate3d("+pixels+"px, 0px, 0px)",transform:"translate3d("+pixels+"px, 0px,0px)"}},transition3d:function(value){var base=this;base.$owlWrapper.css(base.doTranslate(value))},css2move:function(value){var base=this;base.$owlWrapper.css({left:value})},css2slide:function(value,speed){var base=this;base.isCssFinish=false;base.$owlWrapper.stop(true,true).animate({left:value},{duration:speed||base.options.slideSpeed,complete:function(){base.isCssFinish=true}})},checkBrowser:function(){var base=this,translate3D="translate3d(0px, 0px, 0px)",tempElem=document.createElement("div"),regex,asSupport,support3d,isTouch;tempElem.style.cssText="  -moz-transform:"+translate3D+"; -ms-transform:"+translate3D+"; -o-transform:"+translate3D+"; -webkit-transform:"+translate3D+"; transform:"+translate3D;regex=/translate3d\(0px, 0px, 0px\)/g;asSupport=tempElem.style.cssText.match(regex);support3d=asSupport!==null&&asSupport.length===1;isTouch="ontouchstart"in window||window.navigator.msMaxTouchPoints;base.browser={support3d:support3d,isTouch:isTouch}},moveEvents:function(){var base=this;if(base.options.mouseDrag!==false||base.options.touchDrag!==false){base.gestures();base.disabledEvents()}},eventTypes:function(){var base=this,types=["s","e","x"];base.ev_types={};if(base.options.mouseDrag===true&&base.options.touchDrag===true){types=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]}else if(base.options.mouseDrag===false&&base.options.touchDrag===true){types=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]}else if(base.options.mouseDrag===true&&base.options.touchDrag===false){types=["mousedown.owl","mousemove.owl","mouseup.owl"]}base.ev_types.start=types[0];base.ev_types.move=types[1];base.ev_types.end=types[2]},disabledEvents:function(){var base=this;base.$elem.on("dragstart.owl",function(event){event.preventDefault()});base.$elem.on("mousedown.disableTextSelect",function(e){return $(e.target).is("input, textarea, select, option")})},gestures:function(){var base=this,locals={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};base.isCssFinish=true;function getTouches(event){if(event.touches!==undefined){return{x:event.touches[0].pageX,y:event.touches[0].pageY}}if(event.touches===undefined){if(event.pageX!==undefined){return{x:event.pageX,y:event.pageY}}if(event.pageX===undefined){return{x:event.clientX,y:event.clientY}}}}function swapEvents(type){if(type==="on"){$(document).on(base.ev_types.move,dragMove);$(document).on(base.ev_types.end,dragEnd)}else if(type==="off"){$(document).off(base.ev_types.move);$(document).off(base.ev_types.end)}}function dragStart(event){var ev=event.originalEvent||event||window.event,position;if(ev.which===3){return false}if(base.itemsAmount<=base.options.items){return}if(base.isCssFinish===false&&!base.options.dragBeforeAnimFinish){return false}if(base.isCss3Finish===false&&!base.options.dragBeforeAnimFinish){return false}if(base.options.autoPlay!==false){window.clearInterval(base.autoPlayInterval)}if(base.browser.isTouch!==true&&!base.$owlWrapper.hasClass("grabbing")){base.$owlWrapper.addClass("grabbing")}base.newPosX=0;base.newRelativeX=0;$(this).css(base.removeTransition());position=$(this).position();locals.relativePos=position.left;locals.offsetX=getTouches(ev).x-position.left;locals.offsetY=getTouches(ev).y-position.top;swapEvents("on");locals.sliding=false;locals.targetElement=ev.target||ev.srcElement}function dragMove(event){var ev=event.originalEvent||event||window.event,minSwipe,maxSwipe;base.newPosX=getTouches(ev).x-locals.offsetX;base.newPosY=getTouches(ev).y-locals.offsetY;base.newRelativeX=base.newPosX-locals.relativePos;if(typeof base.options.startDragging==="function"&&locals.dragging!==true&&base.newRelativeX!==0){locals.dragging=true;base.options.startDragging.apply(base,[base.$elem])}if((base.newRelativeX>8||base.newRelativeX<-8)&&base.browser.isTouch===true){if(ev.preventDefault!==undefined){ev.preventDefault()}else{ev.returnValue=false}locals.sliding=true}if((base.newPosY>10||base.newPosY<-10)&&locals.sliding===false){$(document).off("touchmove.owl")}minSwipe=function(){return base.newRelativeX/5};maxSwipe=function(){return base.maximumPixels+base.newRelativeX/5};base.newPosX=Math.max(Math.min(base.newPosX,minSwipe()),maxSwipe());if(base.browser.support3d===true){base.transition3d(base.newPosX)}else{base.css2move(base.newPosX)}}function dragEnd(event){var ev=event.originalEvent||event||window.event,newPosition,handlers,owlStopEvent;ev.target=ev.target||ev.srcElement;locals.dragging=false;if(base.browser.isTouch!==true){base.$owlWrapper.removeClass("grabbing")}if(base.newRelativeX<0){base.dragDirection=base.owl.dragDirection="left"}else{base.dragDirection=base.owl.dragDirection="right"}if(base.newRelativeX!==0){newPosition=base.getNewPosition();base.goTo(newPosition,false,"drag");if(locals.targetElement===ev.target&&base.browser.isTouch!==true){$(ev.target).on("click.disable",function(ev){ev.stopImmediatePropagation();ev.stopPropagation();ev.preventDefault();$(ev.target).off("click.disable")});handlers=$._data(ev.target,"events").click;owlStopEvent=handlers.pop();handlers.splice(0,0,owlStopEvent)}}swapEvents("off")}base.$elem.on(base.ev_types.start,".ch_carousel_wrapper",dragStart)},getNewPosition:function(){var base=this,newPosition=base.closestItem();if(newPosition>base.maximumItem){base.currentItem=base.maximumItem;newPosition=base.maximumItem}else if(base.newPosX>=0){newPosition=0;base.currentItem=0}return newPosition},closestItem:function(){var base=this,array=base.options.scrollPerPage===true?base.pagesInArray:base.positionsInArray,goal=base.newPosX,closest=null;$.each(array,function(i,v){if(goal-base.itemWidth/20>array[i+1]&&goal-base.itemWidth/20<v&&base.moveDirection()==="left"){closest=v;if(base.options.scrollPerPage===true){base.currentItem=$.inArray(closest,base.positionsInArray)}else{base.currentItem=i}}else if(goal+base.itemWidth/20<v&&goal+base.itemWidth/20>(array[i+1]||array[i]-base.itemWidth)&&base.moveDirection()==="right"){if(base.options.scrollPerPage===true){closest=array[i+1]||array[array.length-1];base.currentItem=$.inArray(closest,base.positionsInArray)}else{closest=array[i+1];base.currentItem=i+1}}});return base.currentItem},moveDirection:function(){var base=this,direction;if(base.newRelativeX<0){direction="right";base.playDirection="Next"}else{direction="left";base.playDirection="Prev"}return direction},customEvents:function(){var base=this;base.$elem.on("owl.next",function(){base.next()});base.$elem.on("owl.prev",function(){base.prev()});base.$elem.on("owl.play",function(event,speed){base.options.autoPlay=speed;base.play();base.hoverStatus="play"});base.$elem.on("owl.stop",function(){base.stop();base.hoverStatus="stop"});base.$elem.on("owl.goTo",function(event,item){base.goTo(item)});base.$elem.on("owl.jumpTo",function(event,item){base.jumpTo(item)})},stopOnHover:function(){var base=this;if(base.options.stopOnHover===true&&base.browser.isTouch!==true&&base.options.autoPlay!==false){base.$elem.on("mouseover",function(){base.stop()});base.$elem.on("mouseout",function(){if(base.hoverStatus!=="stop"){base.play()}})}},lazyLoad:function(){var base=this,i,$item,itemNumber,$lazyImg,follow;if(base.options.lazyLoad===false){return false}for(i=0;i<base.itemsAmount;i+=1){$item=$(base.$owlItems[i]);if($item.data("owl-loaded")==="loaded"){continue}itemNumber=$item.data("ch_carousel_item");$lazyImg=$item.find(".lazyOwl");if(typeof $lazyImg.data("src")!=="string"){$item.data("owl-loaded","loaded");continue}if($item.data("owl-loaded")===undefined){$lazyImg.hide();$item.addClass("loading").data("owl-loaded","checked")}if(base.options.lazyFollow===true){follow=itemNumber>=base.currentItem}else{follow=true}if(follow&&itemNumber<base.currentItem+base.options.items&&$lazyImg.length){base.lazyPreload($item,$lazyImg)}}},lazyPreload:function($item,$lazyImg){var base=this,iterations=0,isBackgroundImg;if($lazyImg.prop("tagName")==="DIV"){$lazyImg.css("background-image","url("+$lazyImg.data("src")+")");isBackgroundImg=true}else{$lazyImg[0].src=$lazyImg.data("src")}function showImage(){$item.data("owl-loaded","loaded").removeClass("loading");$lazyImg.removeAttr("data-src");if(base.options.lazyEffect==="fade"){$lazyImg.fadeIn(400)}else{$lazyImg.show()}if(typeof base.options.afterLazyLoad==="function"){base.options.afterLazyLoad.apply(this,[base.$elem])}}function checkLazyImage(){iterations+=1;if(base.completeImg($lazyImg.get(0))||isBackgroundImg===true){showImage()}else if(iterations<=100){window.setTimeout(checkLazyImage,100)}else{showImage()}}checkLazyImage()},autoHeight:function(){var base=this,$currentimg=$(base.$owlItems[base.currentItem]).find("img"),iterations;function addHeight(){var $currentItem=$(base.$owlItems[base.currentItem]).height();base.wrapperOuter.css("height",$currentItem+"px");if(!base.wrapperOuter.hasClass("autoHeight")){window.setTimeout(function(){base.wrapperOuter.addClass("autoHeight")},0)}}function checkImage(){iterations+=1;if(base.completeImg($currentimg.get(0))){addHeight()}else if(iterations<=100){window.setTimeout(checkImage,100)}else{base.wrapperOuter.css("height","")}}if($currentimg.get(0)!==undefined){iterations=0;checkImage()}else{addHeight()}},completeImg:function(img){var naturalWidthType;if(!img.complete){return false}naturalWidthType=typeof img.naturalWidth;if(naturalWidthType!=="undefined"&&img.naturalWidth===0){return false}return true},onVisibleItems:function(){var base=this,i;if(base.options.addClassActive===true){base.$owlItems.removeClass("active")}base.visibleItems=[];for(i=base.currentItem;i<base.currentItem+base.options.items;i+=1){base.visibleItems.push(i);if(base.options.addClassActive===true){$(base.$owlItems[i]).addClass("active")}}base.owl.visibleItems=base.visibleItems},transitionTypes:function(className){var base=this;base.outClass="owl-"+className+"-out";base.inClass="owl-"+className+"-in"},singleItemTransition:function(){var base=this,outClass=base.outClass,inClass=base.inClass,$currentItem=base.$owlItems.eq(base.currentItem),$prevItem=base.$owlItems.eq(base.prevItem),prevPos=Math.abs(base.positionsInArray[base.currentItem])+base.positionsInArray[base.prevItem],origin=Math.abs(base.positionsInArray[base.currentItem])+base.itemWidth/2,animEnd="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";base.isTransition=true;base.$owlWrapper.addClass("ch_carousel_origin").css({"-webkit-transform-origin":origin+"px","-moz-perspective-origin":origin+"px","perspective-origin":origin+"px"});function transStyles(prevPos){return{position:"relative",left:prevPos+"px"}}$prevItem.css(transStyles(prevPos,10)).addClass(outClass).on(animEnd,function(){base.endPrev=true;$prevItem.off(animEnd);base.clearTransStyle($prevItem,outClass)});$currentItem.addClass(inClass).on(animEnd,function(){base.endCurrent=true;$currentItem.off(animEnd);base.clearTransStyle($currentItem,inClass)})},clearTransStyle:function(item,classToRemove){var base=this;item.css({position:"",left:""}).removeClass(classToRemove);if(base.endPrev&&base.endCurrent){base.$owlWrapper.removeClass("ch_carousel_origin");base.endPrev=false;base.endCurrent=false;base.isTransition=false}},owlStatus:function(){var base=this;base.owl={userOptions:base.userOptions,baseElement:base.$elem,userItems:base.$userItems,owlItems:base.$owlItems,currentItem:base.currentItem,prevItem:base.prevItem,visibleItems:base.visibleItems,isTouch:base.browser.isTouch,browser:base.browser,dragDirection:base.dragDirection}},clearEvents:function(){var base=this;base.$elem.off(".owl owl mousedown.disableTextSelect");$(document).off(".owl owl");$(window).off("resize",base.resizer)},unWrap:function(){var base=this;if(base.$elem.children().length!==0){base.$owlWrapper.unwrap();base.$userItems.unwrap().unwrap();if(base.owlControls){base.owlControls.remove()}}base.clearEvents();base.$elem.attr("style",base.$elem.data("owl-originalStyles")||"").attr("class",base.$elem.data("owl-originalClasses"))},destroy:function(){var base=this;base.stop();window.clearInterval(base.checkVisible);base.unWrap();base.$elem.removeData()},reinit:function(newOptions){var base=this,options=$.extend({},base.userOptions,newOptions);base.unWrap();base.init(options,base.$elem)},addItem:function(htmlString,targetPosition){var base=this,position;if(!htmlString){return false}if(base.$elem.children().length===0){base.$elem.append(htmlString);base.setVars();return false}base.unWrap();if(targetPosition===undefined||targetPosition===-1){position=-1}else{position=targetPosition}if(position>=base.$userItems.length||position===-1){base.$userItems.eq(-1).after(htmlString)}else{base.$userItems.eq(position).before(htmlString)}base.setVars()},removeItem:function(targetPosition){var base=this,position;if(base.$elem.children().length===0){return false}if(targetPosition===undefined||targetPosition===-1){position=-1}else{position=targetPosition}base.unWrap();base.$userItems.eq(position).remove();base.setVars()}};$.fn.owlCarousel=function(options){return this.each(function(){if($(this).data("owl-init")===true){return false}$(this).data("owl-init",true);var carousel=Object.create(Carousel);carousel.init(options,this);$.data(this,"owlCarousel",carousel)})};$.fn.owlCarousel.options={items:5,itemsCustom:false,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:false,itemsMobile:[479,1],singleItem:false,itemsScaleUp:false,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:false,stopOnHover:false,navigation:false,navigationText:["<i class='fa fa-angle-left'></i> Prev","Next <i class='fa fa-angle-right'></i>"],rewindNav:true,scrollPerPage:false,pagination:true,paginationNumbers:false,responsive:true,responsiveRefreshRate:200,responsiveBaseWidth:window,baseClass:"ch_carousel",theme:"ch_carousel_theme",lazyLoad:false,lazyFollow:true,lazyEffect:"fade",autoHeight:false,jsonPath:false,jsonSuccess:false,dragBeforeAnimFinish:true,mouseDrag:false,touchDrag:true,addClassActive:false,transitionStyle:false,beforeUpdate:false,afterUpdate:false,beforeInit:false,afterInit:false,beforeMove:false,afterMove:false,afterAction:false,startDragging:false,afterLazyLoad:false}})(jQuery,window,document);!function(a){"undefined"==typeof a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),d=-1,e=this.length;++d<e&&(c.context=c[0]=this[d])&&b.call(c[0],d,c)!==!1;);return this}})}(jQuery),function(a,b){"use strict";function n(b){var c=a(document.createTextNode(""));b.before(c),c.before(b),c.remove()}function o(a){var b,c,d,e;if(!a||a.length<1)return a;for(b="",c=0,d=a.length;d>c;c++)e=a.charAt(c),b+=m[e]||e;return b}function p(a,b){for(var c=0,d=b.length;d>c;c+=1)if(r(a,b[c]))return c;return-1}function q(){var b=a(l);b.appendTo("body");var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),c}function r(a,c){return a===c?!0:a===b||c===b?!1:null===a||null===c?!1:a.constructor===String?a+""==c+"":c.constructor===String?c+""==a+"":!1}function s(b,c){var d,e,f;if(null===b||b.length<1)return[];for(d=b.split(c),e=0,f=d.length;f>e;e+=1)d[e]=a.trim(d[e]);return d}function t(a){return a.outerWidth(!1)-a.width()}function u(c){var d="keyup-change-value";c.on("keydown",function(){a.data(c,d)===b&&a.data(c,d,c.val())}),c.on("keyup",function(){var e=a.data(c,d);e!==b&&c.val()!==e&&(a.removeData(c,d),c.trigger("keyup-change"))})}function v(c){c.on("mousemove",function(c){var d=i;(d===b||d.x!==c.pageX||d.y!==c.pageY)&&a(c.target).trigger("mousemove-filtered",c)})}function w(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e),e=window.setTimeout(function(){c.apply(d,b)},a)}}function x(a){var c,b=!1;return function(){return b===!1&&(c=a(),b=!0),c}}function y(a,b){var c=w(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){p(a.target,b.get())>=0&&c(a)})}function z(a){a[0]!==document.activeElement&&window.setTimeout(function(){var d,b=a[0],c=a.val().length;a.focus();var e=b.offsetWidth>0||b.offsetHeight>0;e&&b===document.activeElement&&(b.setSelectionRange?b.setSelectionRange(c,c):b.createTextRange&&(d=b.createTextRange(),d.collapse(!1),d.select()))},0)}function A(b){b=a(b)[0];var c=0,d=0;if("selectionStart"in b)c=b.selectionStart,d=b.selectionEnd-c;else if("selection"in document){b.focus();var e=document.selection.createRange();d=document.selection.createRange().text.length,e.moveStart("character",-b.value.length),c=e.text.length-d}return{offset:c,length:d}}function B(a){a.preventDefault(),a.stopPropagation()}function C(a){a.preventDefault(),a.stopImmediatePropagation()}function D(b){if(!h){var c=b[0].currentStyle||window.getComputedStyle(b[0],null);h=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:c.fontSize,fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight,letterSpacing:c.letterSpacing,textTransform:c.textTransform,whiteSpace:"nowrap"}),h.attr("class","select2-sizer"),a("body").append(h)}return h.text(b.val()),h.width()}function E(b,c,d){var e,g,f=[];e=b.attr("class"),e&&(e=""+e,a(e.split(" ")).each2(function(){0===this.indexOf("select2-")&&f.push(this)})),e=c.attr("class"),e&&(e=""+e,a(e.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(g=d(this),g&&f.push(g))})),b.attr("class",f.join(" "))}function F(a,b,c,d){var e=o(a.toUpperCase()).indexOf(o(b.toUpperCase())),f=b.length;return 0>e?(c.push(d(a)),void 0):(c.push(d(a.substring(0,e))),c.push("<span class='select2-match'>"),c.push(d(a.substring(e,e+f))),c.push("</span>"),c.push(d(a.substring(e+f,a.length))),void 0)}function G(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function H(c){var d,e=null,f=c.quietMillis||100,g=c.url,h=this;return function(i){window.clearTimeout(d),d=window.setTimeout(function(){var d=c.data,f=g,j=c.transport||a.fn.select2.ajaxDefaults.transport,k={type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"},l=a.extend({},a.fn.select2.ajaxDefaults.params,k);d=d?d.call(h,i.term,i.page,i.context):null,f="function"==typeof f?f.call(h,i.term,i.page,i.context):f,e&&"function"==typeof e.abort&&e.abort(),c.params&&(a.isFunction(c.params)?a.extend(l,c.params.call(h)):a.extend(l,c.params)),a.extend(l,{url:f,dataType:c.dataType,data:d,success:function(a){var b=c.results(a,i.page);i.callback(b)}}),e=j.call(h,l)},f)}}function I(b){var d,e,c=b,f=function(a){return""+a.text};a.isArray(c)&&(e=c,c={results:e}),a.isFunction(c)===!1&&(e=c,c=function(){return e});var g=c();return g.text&&(f=g.text,a.isFunction(f)||(d=g.text,f=function(a){return a[d]})),function(b){var g,d=b.term,e={results:[]};return""===d?(b.callback(c()),void 0):(g=function(c,e){var h,i;if(c=c[0],c.children){h={};for(i in c)c.hasOwnProperty(i)&&(h[i]=c[i]);h.children=[],a(c.children).each2(function(a,b){g(b,h.children)}),(h.children.length||b.matcher(d,f(h),c))&&e.push(h)}else b.matcher(d,f(c),c)&&e.push(c)},a(c().results).each2(function(a,b){g(b,e.results)}),b.callback(e),void 0)}}function J(c){var d=a.isFunction(c);return function(e){var f=e.term,g={results:[]};a(d?c():c).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&g.results.push(a?this:{id:this,text:this})}),e.callback(g)}}function K(b,c){if(a.isFunction(b))return!0;if(!b)return!1;if("string"==typeof b)return!0;throw new Error(c+" must be a string, function, or falsy value")}function L(b){if(a.isFunction(b)){var c=Array.prototype.slice.call(arguments,1);return b.apply(null,c)}return b}function M(b){var c=0;return a.each(b,function(a,b){b.children?c+=M(b.children):c++}),c}function N(a,c,d,e){var h,i,j,k,l,f=a,g=!1;if(!e.createSearchChoice||!e.tokenSeparators||e.tokenSeparators.length<1)return b;for(;;){for(i=-1,j=0,k=e.tokenSeparators.length;k>j&&(l=e.tokenSeparators[j],i=a.indexOf(l),!(i>=0));j++);if(0>i)break;if(h=a.substring(0,i),a=a.substring(i+l.length),h.length>0&&(h=e.createSearchChoice.call(this,h,c),h!==b&&null!==h&&e.id(h)!==b&&null!==e.id(h))){for(g=!1,j=0,k=c.length;k>j;j++)if(r(e.id(h),e.id(c[j]))){g=!0;break}g||d(h)}}return f!==a?a:void 0}function O(b,c){var d=function(){};return d.prototype=new b,d.prototype.constructor=d,d.prototype.parent=b.prototype,d.prototype=a.extend(d.prototype,c),d}if(window.Select2===b){var c,d,e,f,g,h,j,k,i={x:0,y:0},c={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a=a.which?a.which:a){case c.LEFT:case c.RIGHT:case c.UP:case c.DOWN:return!0}return!1},isControl:function(a){var b=a.which;switch(b){case c.SHIFT:case c.CTRL:case c.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,a>=112&&123>=a}},l="<div class='select2-measure-scrollbar'></div>",m={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};j=a(document),g=function(){var a=1;return function(){return a++}}(),j.on("mousemove",function(a){i.x=a.pageX,i.y=a.pageY}),d=O(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(c){var d,e,f=".select2-results";this.opts=c=this.prepareOpts(c),this.id=c.id,c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(c.element.attr("id")||"autogen"+g()).replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.containerSelector="#"+this.containerId,this.container.attr("id",this.containerId),this.body=x(function(){return c.element.closest("body")}),E(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",c.element.attr("style")),this.container.css(L(c.containerCss)),this.container.addClass(L(c.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",B),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),E(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(L(c.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",B),this.results=d=this.container.find(f),this.search=e=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",B),v(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",f,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchend",f,this.bind(this.selectHighlighted)),this.dropdown.on("touchmove",f,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",f,this.bind(this.clearTouchMoved)),y(80,this.results),this.dropdown.on("scroll-debounced",f,this.bind(this.loadMoreIfNeeded)),a(this.container).on("change",".select2-input",function(a){a.stopPropagation()}),a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()}),a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){var f=d.scrollTop();e>0&&0>=f-e?(d.scrollTop(0),B(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),B(a))}),u(e),e.on("keyup-change input paste",this.bind(this.updateResults)),e.on("focus",function(){e.addClass("select2-focused")}),e.on("blur",function(){e.removeClass("select2-focused")}),this.dropdown.on("mouseup",f,this.bind(function(b){a(b.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(b),this.selectHighlighted(b))})),this.dropdown.on("click mouseup mousedown focusin",function(a){a.stopPropagation()}),this.nextSearchTerm=b,a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==c.maximumInputLength&&this.search.attr("maxlength",c.maximumInputLength);var h=c.element.prop("disabled");h===b&&(h=!1),this.enable(!h);var i=c.element.prop("readonly");i===b&&(i=!1),this.readonly(i),k=k||q(),this.autofocus=c.element.prop("autofocus"),c.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",c.searchInputPlaceholder)},destroy:function(){var a=this.opts.element,c=a.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),c!==b&&(c.container.remove(),c.liveRegion.remove(),c.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:r(a.attr("locked"),"locked")||r(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(c){var d,e,f,h,i=this;if(d=c.element,"select"===d.get(0).tagName.toLowerCase()&&(this.select=e=c.element),e&&a.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in c)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),c=a.extend({},{populateResults:function(d,e,f){var h,j=this.opts.id,k=this.liveRegion;h=function(d,e,l){var m,n,o,p,q,r,s,t,u,v;for(d=c.sortResults(d,e,f),m=0,n=d.length;n>m;m+=1)o=d[m],q=o.disabled===!0,p=!q&&j(o)!==b,r=o.children&&o.children.length>0,s=a("<li></li>"),s.addClass("select2-results-dept-"+l),s.addClass("select2-result"),s.addClass(p?"select2-result-selectable":"select2-result-unselectable"),q&&s.addClass("select2-disabled"),r&&s.addClass("select2-result-with-children"),s.addClass(i.opts.formatResultCssClass(o)),s.attr("role","presentation"),t=a(document.createElement("div")),t.addClass("select2-result-label"),t.attr("id","select2-result-label-"+g()),t.attr("role","option"),v=c.formatResult(o,t,f,i.opts.escapeMarkup),v!==b&&(t.html(v),s.append(t)),r&&(u=a("<ul></ul>"),u.addClass("select2-result-sub"),h(o.children,u,l+1),s.append(u)),s.data("select2-data",o),e.append(s);k.text(c.formatMatches(d.length))},h(e,d,0)}},a.fn.select2.defaults,c),"function"!=typeof c.id&&(f=c.id,c.id=function(a){return a[f]}),a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}if(e?(c.query=this.bind(function(a){var f,g,h,c={results:[],more:!1},e=a.term;h=function(b,c){var d;b.is("option")?a.matcher(e,b.text(),b)&&c.push(i.optionToData(b)):b.is("optgroup")&&(d=i.optionToData(b),b.children().each2(function(a,b){h(b,d.children)}),d.children.length>0&&c.push(d))},f=d.children(),this.getPlaceholder()!==b&&f.length>0&&(g=this.getPlaceholderOption(),g&&(f=f.not(g))),f.each2(function(a,b){h(b,c.results)}),a.callback(c)}),c.id=function(a){return a.id}):"query"in c||("ajax"in c?(h=c.element.data("ajax-url"),h&&h.length>0&&(c.ajax.url=h),c.query=H.call(c.element,c.ajax)):"data"in c?c.query=I(c.data):"tags"in c&&(c.query=J(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,d){var e=[];a(s(b.val(),c.separator)).each(function(){var b={id:this,text:this},d=c.tags;a.isFunction(d)&&(d=d()),a(d).each(function(){return r(this.id,b.id)?(b=this,!1):void 0}),e.push(b)}),d(e)}))),"function"!=typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");if("top"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.unshift(b)};else if("bottom"===c.createSearchChoicePosition)c.createSearchChoicePosition=function(a,b){a.push(b)};else if("function"!=typeof c.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return c},monitorSource:function(){var c,d,a=this.opts.element;a.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),c=this.bind(function(){var c=a.prop("disabled");c===b&&(c=!1),this.enable(!c);var d=a.prop("readonly");d===b&&(d=!1),this.readonly(d),E(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(L(this.opts.containerCssClass)),E(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(L(this.opts.dropdownCssClass))}),a.on("propertychange.select2",c),this.mutationCallback===b&&(this.mutationCallback=function(a){a.forEach(c)}),d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,d!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new d(this.mutationCallback),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){var c=a.Event("select2-selecting",{val:this.id(b),object:b});return this.opts.element.trigger(c),!c.isDefaultPrevented()},triggerChange:function(b){b=b||{},b=a.extend({},b,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(b),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var a=this._enabled&&!this._readonly,b=!a;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",b),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===b&&(a=!0),this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===b&&(a=!1),this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",a),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,u,v,w,x,b=this.dropdown,c=this.container.offset(),d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),g=a(window),h=g.width(),i=g.height(),j=g.scrollLeft()+h,l=g.scrollTop()+i,m=c.top+d,n=c.left,o=l>=m+f,p=c.top-f>=g.scrollTop(),q=b.outerWidth(!1),r=j>=n+q,s=b.hasClass("select2-drop-above");s?(u=!0,!p&&o&&(v=!0,u=!1)):(u=!1,!o&&p&&(v=!0,u=!0)),v&&(b.hide(),c=this.container.offset(),d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),j=g.scrollLeft()+h,l=g.scrollTop()+i,m=c.top+d,n=c.left,q=b.outerWidth(!1),r=j>=n+q,b.show()),this.opts.dropdownAutoWidth?(x=a(".select2-results",b)[0],b.addClass("select2-drop-auto-width"),b.css("width",""),q=b.outerWidth(!1)+(x.scrollHeight===x.clientHeight?0:k.width),q>e?e=q:q=e,r=j>=n+q):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),m-=t.top,n-=t.left),r||(n=c.left+this.container.outerWidth(!1)-q),w={left:n,width:e},u?(w.top=c.top-f,w.bottom="auto",this.container.addClass("select2-drop-above"),b.addClass("select2-drop-above")):(w.top=m,w.bottom="auto",this.container.removeClass("select2-drop-above"),b.removeClass("select2-drop-above")),w=a.extend(w,L(this.opts.dropdownCss)),b.css(w)},shouldOpen:function(){var b;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(b=a.Event("select2-opening"),this.opts.element.trigger(b),!b.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var f,b=this.containerId,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),f=a("#select2-drop-mask"),0==f.length&&(f=a(document.createElement("div")),f.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),f.hide(),f.appendTo(this.body()),f.on("mousedown touchstart click",function(b){n(f);var d,c=a("#select2-drop");c.length>0&&(d=c.data("select2"),d.opts.selectOnBlur&&d.selectHighlighted({noFocus:!0}),d.close(),b.preventDefault(),b.stopPropagation())})),this.dropdown.prev()[0]!==f[0]&&this.dropdown.before(f),a("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),f.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var g=this;this.container.parents().add(window).each(function(){a(this).on(d+" "+c+" "+e,function(){g.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerId,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)}),this.clearDropdownAlignmentPreference(),a("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open(),this.search.val(a),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return L(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var c,d,e,f,g,h,i,b=this.results;if(d=this.highlight(),!(0>d)){if(0==d)return b.scrollTop(0),void 0;c=this.findHighlightableChoices().find(".select2-result-label"),e=a(c[d]),f=e.offset().top+e.outerHeight(!0),d===c.length-1&&(i=b.find("li.select2-more-results"),i.length>0&&(f=i.offset().top+i.outerHeight(!0))),g=b.offset().top+b.outerHeight(!0),f>g&&b.scrollTop(b.scrollTop()+(f-g)),h=e.offset().top-b.offset().top,0>h&&"none"!=e.css("display")&&b.scrollTop(b.scrollTop()+h)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(b){for(var c=this.findHighlightableChoices(),d=this.highlight();d>-1&&d<c.length;){d+=b;var e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var d,e,c=this.findHighlightableChoices();return 0===arguments.length?p(c.filter(".select2-highlighted")[0],c.get()):(b>=c.length&&(b=c.length-1),0>b&&(b=0),this.removeHighlight(),d=a(c[b]),d.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",d.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(d.text()),e=d.data("select2-data"),e&&this.opts.element.trigger({type:"select2-highlight",val:this.id(e),choice:e}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){var c=a(b.target).closest(".select2-result-selectable");if(c.length>0&&!c.is(".select2-highlighted")){var d=this.findHighlightableChoices();this.highlight(d.index(c))}else 0==c.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var c,a=this.results,b=a.find("li.select2-more-results"),d=this.resultsPage+1,e=this,f=this.search.val(),g=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-a.height(),c<=this.opts.loadMorePadding&&(b.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:g,matcher:this.opts.matcher,callback:this.bind(function(c){e.opened()&&(e.opts.populateResults.call(this,a,c.results,{term:f,page:d,context:g}),e.postprocessResults(c,!1,!1),c.more===!0?(b.detach().appendTo(a).text(L(e.opts.formatLoadMore,d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):b.remove(),e.positionDropdown(),e.resultsPage=d,e.context=c.context,this.opts.element.trigger({type:"select2-loaded",items:c}))})})))},tokenize:function(){},updateResults:function(c){function m(){d.removeClass("select2-active"),h.positionDropdown(),e.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?h.liveRegion.text(e.text()):h.liveRegion.text(h.opts.formatMatches(e.find(".select2-result-selectable").length))}function n(a){e.html(a),m()}var g,i,l,d=this.search,e=this.results,f=this.opts,h=this,j=d.val(),k=a.data(this.container,"select2-last-term");if((c===!0||!k||!r(j,k))&&(a.data(this.container,"select2-last-term",j),c===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var o=this.getMaximumSelectionSize();if(o>=1&&(g=this.data(),a.isArray(g)&&g.length>=o&&K(f.formatSelectionTooBig,"formatSelectionTooBig")))return n("<li class='select2-selection-limit'>"+L(f.formatSelectionTooBig,o)+"</li>"),void 0;if(d.val().length<f.minimumInputLength)return K(f.formatInputTooShort,"formatInputTooShort")?n("<li class='select2-no-results'>"+L(f.formatInputTooShort,d.val(),f.minimumInputLength)+"</li>"):n(""),c&&this.showSearch&&this.showSearch(!0),void 0;if(f.maximumInputLength&&d.val().length>f.maximumInputLength)return K(f.formatInputTooLong,"formatInputTooLong")?n("<li class='select2-no-results'>"+L(f.formatInputTooLong,d.val(),f.maximumInputLength)+"</li>"):n(""),void 0;f.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+L(f.formatSearching)+"</li>"),d.addClass("select2-active"),this.removeHighlight(),i=this.tokenize(),i!=b&&null!=i&&d.val(i),this.resultsPage=1,f.query({element:f.element,term:d.val(),page:this.resultsPage,context:null,matcher:f.matcher,callback:this.bind(function(g){var i;if(l==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),void 0;if(this.context=g.context===b?null:g.context,this.opts.createSearchChoice&&""!==d.val()&&(i=this.opts.createSearchChoice.call(h,d.val(),g.results),i!==b&&null!==i&&h.id(i)!==b&&null!==h.id(i)&&0===a(g.results).filter(function(){return r(h.id(this),h.id(i))}).length&&this.opts.createSearchChoicePosition(g.results,i)),0===g.results.length&&K(f.formatNoMatches,"formatNoMatches"))return n("<li class='select2-no-results'>"+L(f.formatNoMatches,d.val())+"</li>"),void 0;e.empty(),h.opts.populateResults.call(this,e,g.results,{term:d.val(),page:this.resultsPage,context:null}),g.more===!0&&K(f.formatLoadMore,"formatLoadMore")&&(e.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(L(f.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(g,c),m(),this.opts.element.trigger({type:"select2-loaded",items:g})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){z(this.search)},selectHighlighted:function(a){if(this._touchMoved)return this.clearTouchMoved(),void 0;var b=this.highlight(),c=this.results.find(".select2-highlighted"),d=c.closest(".select2-result").data("select2-data");d?(this.highlight(b),this.onSelect(d,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==b)return"first"===this.opts.placeholderOption&&a||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){function c(){var c,d,e,f,g,h;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(c=this.opts.element.attr("style"),c!==b)for(d=c.split(";"),f=0,g=d.length;g>f;f+=1)if(h=d[f].replace(/\s/g,""),e=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==e&&e.length>=1)return e[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}var d=c.call(this);null!==d&&this.container.css("width",d)}}),e=O(d,{createContainer:function(){var b=a(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return b},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var c,d,e;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),c=this.search.get(0),c.createTextRange?(d=c.createTextRange(),d.collapse(!1),d.select()):c.setSelectionRange&&(e=this.search.val().length,c.setSelectionRange(e,e)),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var b,h,d=this.container,e=this.dropdown,f=g();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=b=d.find(".select2-choice"),this.focusser=d.find(".select2-focusser"),b.find(".select2-chosen").attr("id","select2-chosen-"+f),this.focusser.attr("aria-labelledby","select2-chosen-"+f),this.results.attr("id","select2-results-"+f),this.search.attr("aria-owns","select2-results-"+f),this.focusser.attr("id","s2id_autogen"+f),h=a("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(h.text()).attr("for",this.focusser.attr("id"));var i=this.opts.element.attr("title");this.opts.element.attr("title",i||h.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(a("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){if(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)return B(a),void 0;switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),B(a),void 0;case c.ENTER:return this.selectHighlighted(),B(a),void 0;case c.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case c.ESC:return this.cancel(a),B(a),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&a.which!==c.TAB&&!c.isControl(a)&&!c.isFunctionKey(a)&&a.which!==c.ESC){if(this.opts.openOnEnter===!1&&a.which===c.ENTER)return B(a),void 0;if(a.which==c.DOWN||a.which==c.UP||a.which==c.ENTER&&this.opts.openOnEnter){if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return;return this.open(),B(a),void 0}return a.which==c.DELETE||a.which==c.BACKSPACE?(this.opts.allowClear&&this.clear(),B(a),void 0):void 0}})),u(this.focusser),this.focusser.on("keyup-change input",this.bind(function(a){if(this.opts.minimumResultsForSearch>=0){if(a.stopPropagation(),this.opened())return;this.open()}})),b.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),C(a),this.close(),this.selection.focus())})),b.on("mousedown touchstart",this.bind(function(c){n(b),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),B(c)})),e.on("mousedown touchstart",this.bind(function(){this.search.focus()})),b.on("focus",this.bind(function(a){B(a)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");if(this.opts.element.trigger(d),d.isDefaultPrevented())return;var e=this.getPlaceholderOption();this.opts.element.val(e?e.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),b!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.setPlaceholder(),c.nextSearchTerm=c.opts.nextSearchTerm(a,c.search.val()))})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()?(a=this.getPlaceholderOption())!==b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val():!1},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected&&!this.disabled});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),f=null;b.query({matcher:function(a,c,d){var g=r(e,b.id(d));return g&&(f=d),g},callback:a.isFunction(d)?function(){d(f)}:a.noop})}),b},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&a!==b){if(this.select&&this.getPlaceholderOption()===b)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(a,b,c){var d=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return r(e.id(b.data("select2-data")),e.opts.element.val())?(d=a,!1):void 0}),c!==!1&&(b===!0&&d>=0?this.highlight(d):this.highlight(0)),b===!0){var g=this.opts.minimumResultsForSearch;g>=0&&this.showSearch(M(a.results)>=g)}},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a)),this.updateSelection(a),this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.close(),b&&b.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var d,e,c=this.selection.find(".select2-chosen");this.selection.data("select2-data",a),c.empty(),null!==a&&(d=this.opts.formatSelection(a,c,this.opts.escapeMarkup)),d!==b&&c.append(d),e=this.opts.formatSelectionCssClass(a,c),e!==b&&c.addClass(e),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],arguments.length>1&&(c=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return d=e.optionToData(b),!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else{if(!a&&0!==a)return this.clear(c),void 0;if(this.opts.initSelection===b)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a),this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):""),e.updateSelection(a),e.setPlaceholder(),c&&e.triggerChange({added:a,removed:f})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(a){var c,d=!1;return 0===arguments.length?(c=this.selection.data("select2-data"),c==b&&(c=null),c):(arguments.length>1&&(d=arguments[1]),a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d),void 0)}}),f=O(d,{createContainer:function(){var b=a(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return b},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;return"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(a,b){d.push(c.optionToData(b))}),b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=s(c.val(),b.separator),f=[];b.query({matcher:function(c,d,g){var h=a.grep(e,function(a){return r(a,b.id(g))}).length;return h&&f.push(g),h},callback:a.isFunction(d)?function(){for(var a=[],c=0;c<e.length;c++)for(var g=e[c],h=0;h<f.length;h++){var i=f[h];if(r(g,b.id(i))){a.push(i),f.splice(h,1);break}}d(a)}:a.noop})}),b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var d,b=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=d=this.container.find(b);var e=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){e.search[0].focus(),e.selectChoice(a(this))}),this.search.attr("id","s2id_autogen"+g()),this.search.prev().text(a("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()){++this.keydowns;var b=d.find(".select2-search-choice-focus"),e=b.prev(".select2-search-choice:not(.select2-locked)"),f=b.next(".select2-search-choice:not(.select2-locked)"),g=A(this.search);if(b.length&&(a.which==c.LEFT||a.which==c.RIGHT||a.which==c.BACKSPACE||a.which==c.DELETE||a.which==c.ENTER)){var h=b;return a.which==c.LEFT&&e.length?h=e:a.which==c.RIGHT?h=f.length?f:null:a.which===c.BACKSPACE?this.unselect(b.first())&&(this.search.width(10),h=e.length?e:f):a.which==c.DELETE?this.unselect(b.first())&&(this.search.width(10),h=f.length?f:null):a.which==c.ENTER&&(h=null),this.selectChoice(h),B(a),h&&h.length||this.open(),void 0}if((a.which===c.BACKSPACE&&1==this.keydowns||a.which==c.LEFT)&&0==g.offset&&!g.length)return this.selectChoice(d.find(".select2-search-choice:not(.select2-locked)").last()),B(a),void 0;if(this.selectChoice(null),this.opened())switch(a.which){case c.UP:case c.DOWN:return this.moveHighlight(a.which===c.UP?-1:1),B(a),void 0;case c.ENTER:return this.selectHighlighted(),B(a),void 0;case c.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case c.ESC:return this.cancel(a),B(a),void 0}if(a.which!==c.TAB&&!c.isControl(a)&&!c.isFunctionKey(a)&&a.which!==c.BACKSPACE&&a.which!==c.ESC){if(a.which===c.ENTER){if(this.opts.openOnEnter===!1)return;if(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)return}this.open(),(a.which===c.PAGE_UP||a.which===c.PAGE_DOWN)&&B(a),a.which===c.ENTER&&B(a)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),b.stopImmediatePropagation(),this.opts.element.trigger(a.Event("select2-blur"))})),this.container.on("click",b,this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),this.focusSearch(),b.preventDefault()))})),this.container.on("focus",b,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var c=this;this.opts.initSelection.call(null,this.opts.element,function(a){a!==b&&null!==a&&(c.updateSelection(a),c.close(),c.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(a).addClass("select2-default"),this.search.width(c>0?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(a.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],e=this;a(b).each(function(){p(e.id(this),c)<0&&(c.push(e.id(this)),d.push(this))}),b=d,this.selection.find(".select2-search-choice").remove(),a(b).each(function(){e.addSelectedChoice(this)}),e.postprocessResults()},tokenize:function(){var a=this.search.val();a=this.opts.tokenizer.call(this,a,this.data(),this.bind(this.onSelect),this.opts),null!=a&&a!=b&&(this.search.val(a),a.length>0&&this.open())},onSelect:function(a,c){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),c&&c.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(c){var j,k,d=!c.locked,e=a("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),f=a("<li class='select2-search-choice select2-locked'><div></div></li>"),g=d?e:f,h=this.id(c),i=this.getVal();j=this.opts.formatSelection(c,g.find("div"),this.opts.escapeMarkup),j!=b&&g.find("div").replaceWith("<div>"+j+"</div>"),k=this.opts.formatSelectionCssClass(c,g.find("div")),k!=b&&g.addClass(k),d&&g.find(".select2-search-choice-close").on("mousedown",B).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(this.unselect(a(b.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),B(b),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),g.data("select2-data",c),g.insertBefore(this.searchContainer),i.push(h),this.setVal(i)},unselect:function(b){var d,e,c=this.getVal();if(b=b.closest(".select2-search-choice"),0===b.length)throw"Invalid argument: "+b+". Must be .select2-search-choice";if(d=b.data("select2-data")){var f=a.Event("select2-removing");if(f.val=this.id(d),f.choice=d,this.opts.element.trigger(f),f.isDefaultPrevented())return!1;for(;(e=p(this.id(d),c))>=0;)c.splice(e,1),this.setVal(c),this.select&&this.postprocessResults();return b.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(d),choice:d}),this.triggerChange({removed:d}),!0}},postprocessResults:function(a,b,c){var d=this.getVal(),e=this.results.find(".select2-result"),f=this.results.find(".select2-result-with-children"),g=this;e.each2(function(a,b){var c=g.id(b.data("select2-data"));p(c,d)>=0&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))}),f.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")}),-1==this.highlight()&&c!==!1&&g.highlight(0),!this.opts.createSearchChoice&&!e.filter(".select2-result:not(.select2-selected)").length>0&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&K(g.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+L(g.opts.formatNoMatches,g.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-t(this.search)},resizeSearch:function(){var a,b,c,d,e,f=t(this.search);a=D(this.search)+10,b=this.search.offset().left,c=this.selection.width(),d=this.selection.offset().left,e=c-(b-d)-f,a>e&&(e=c-f),40>e&&(e=c-f),0>=e&&(e=a),this.search.width(Math.floor(e))},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),s(a,this.opts.separator))},setVal:function(b){var c;this.select?this.select.val(b):(c=[],a(b).each(function(){p(this,c)<0&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){for(var b=b.slice(0),a=a.slice(0),c=0;c<b.length;c++)for(var d=0;d<a.length;d++)r(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),c>0&&c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();if(e=this.data(),e.length||(e=[]),!c&&0!==c)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),d&&this.triggerChange({added:this.data(),removed:e}),void 0;if(this.setVal(c),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c),f.updateSelection(b),f.clearSearch(),d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))}),this.setVal(b),this.triggerChange()},data:function(b,c){var e,f,d=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get():(f=this.data(),b||(b=[]),e=a.map(b,function(a){return d.opts.id(a)}),this.setVal(e),this.updateSelection(b),this.clearSearch(),c&&this.triggerChange(this.buildChangeDetails(f,this.data())),void 0)}}),a.fn.select2=function(){var d,e,f,g,h,c=Array.prototype.slice.call(arguments,0),i=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],j=["opened","isFocused","container","dropdown"],k=["val","data"],l={search:"externalSearch"};return this.each(function(){if(0===c.length||"object"==typeof c[0])d=0===c.length?{}:a.extend({},c[0]),d.element=a(this),"select"===d.element.get(0).tagName.toLowerCase()?h=d.element.prop("multiple"):(h=d.multiple||!1,"tags"in d&&(d.multiple=h=!0)),e=h?new window.Select2["class"].multi:new window.Select2["class"].single,e.init(d);else{if("string"!=typeof c[0])throw"Invalid arguments to select2 plugin: "+c;if(p(c[0],i)<0)throw"Unknown method: "+c[0];if(g=b,e=a(this).data("select2"),e===b)return;if(f=c[0],"container"===f?g=e.container:"dropdown"===f?g=e.dropdown:(l[f]&&(f=l[f]),g=e[f].apply(e,c.slice(1))),p(c[0],j)>=0||p(c[0],k)&&1==c.length)return!1}}),g===b?this:g},a.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){var e=[];return F(a.text,c.term,e,d),e.join("")},formatSelection:function(a,c,d){return a?d(a.text):b},sortResults:function(a){return a},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(){return b},formatMatches:function(a){return a+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" or more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results…"},formatSearching:function(){return"Searching…"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==b?null:a.id},matcher:function(a,b){return o(""+b).toUpperCase().indexOf(o(""+a).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:N,escapeMarkup:G,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return b},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(a){return a.opts.minimumResultsForSearch<0?!1:!0}},a.fn.select2.ajaxDefaults={transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:H,local:I,tags:J},util:{debounce:w,markMatch:F,escapeMarkup:G,stripDiacritics:o},class:{abstract:d,single:e,multi:f}}}}(jQuery);(function($,window,document,undefined){var lazyLoadXT="lazyLoadXT",dataLazied="lazied",load_error="load error",classLazyHidden="lazy-hidden",docElement=document.documentElement||document.body,forceLoad=window.onscroll===undefined||!!window.operamini||!docElement.getBoundingClientRect,options={autoInit:true,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:forceLoad,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"",oninit:{removeClass:"lazy"},onshow:{addClass:classLazyHidden},onload:{removeClass:classLazyHidden,addClass:"lazy-loaded"},onerror:{removeClass:classLazyHidden},checkDuplicates:true},elementOptions={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:true},$window=$(window),$isFunction=$.isFunction,$extend=$.extend,$data=$.data||function(el,name){return $(el).data(name)},$contains=$.contains||function(parent,el){while(el=el.parentNode){if(el===parent){return true}}return false},elements=[],topLazy=0,waitingMode=0;$[lazyLoadXT]=$extend(options,elementOptions,$[lazyLoadXT]);function getOrDef(obj,prop){return obj[prop]===undefined?options[prop]:obj[prop]}function scrollTop(){var scroll=window.pageYOffset;return scroll===undefined?docElement.scrollTop:scroll}$.fn[lazyLoadXT]=function(overrides){overrides=overrides||{};var blankImage=getOrDef(overrides,"blankImage"),checkDuplicates=getOrDef(overrides,"checkDuplicates"),scrollContainer=getOrDef(overrides,"scrollContainer"),elementOptionsOverrides={},prop;$(scrollContainer).on("scroll",queueCheckLazyElements);for(prop in elementOptions){elementOptionsOverrides[prop]=getOrDef(overrides,prop)}return this.each(function(index,el){if(el===window){$(options.selector).lazyLoadXT(overrides)}else{if(checkDuplicates&&$data(el,dataLazied)){return}var $el=$(el).data(dataLazied,1);if(blankImage&&el.tagName==="IMG"&&!el.src){el.src=blankImage}$el[lazyLoadXT]=$extend({},elementOptionsOverrides);triggerEvent("init",$el);elements.push($el)}})};function triggerEvent(event,$el){var handler=options["on"+event];if(handler){if($isFunction(handler)){handler.call($el[0])}else{if(handler.addClass){$el.addClass(handler.addClass)}if(handler.removeClass){$el.removeClass(handler.removeClass)}}}$el.trigger("lazy"+event,[$el]);queueCheckLazyElements()}function triggerLoadOrError(e){triggerEvent(e.type,$(this).off(load_error,triggerLoadOrError))}function checkLazyElements(force){if(!elements.length){return}force=force||options.forceLoad;topLazy=Infinity;var viewportTop=scrollTop(),viewportHeight=window.innerHeight||docElement.clientHeight,viewportWidth=window.innerWidth||docElement.clientWidth,i,length;for(i=0,length=elements.length;i<length;i++){var $el=elements[i],el=$el[0],objData=$el[lazyLoadXT],removeNode=false,visible=force,topEdge;if(!$contains(docElement,el)){removeNode=true}else if(force||!objData.visibleOnly||el.offsetWidth||el.offsetHeight){if(!visible){var elPos=el.getBoundingClientRect(),edgeX=objData.edgeX,edgeY=objData.edgeY;topEdge=elPos.top+viewportTop-edgeY-viewportHeight;visible=topEdge<=viewportTop&&elPos.bottom>-edgeY&&elPos.left<=viewportWidth+edgeX&&elPos.right>-edgeX}if(visible){triggerEvent("show",$el);var srcAttr=objData.srcAttr,src=$isFunction(srcAttr)?srcAttr($el):el.getAttribute(srcAttr);if(src){$el.on(load_error,triggerLoadOrError);el.src=src}removeNode=true}else{if(topEdge<topLazy){topLazy=topEdge}}}if(removeNode){elements.splice(i--,1);length--}}if(!length){triggerEvent("complete",$(docElement))}}function timeoutLazyElements(){if(waitingMode>1){waitingMode=1;checkLazyElements();setTimeout(timeoutLazyElements,options.throttle)}else{waitingMode=0}}function queueCheckLazyElements(e){if(!elements.length){return}if(e&&e.type==="scroll"&&e.currentTarget===window){if(topLazy>=scrollTop()){return}}if(!waitingMode){setTimeout(timeoutLazyElements,0)}waitingMode=2}function initLazyElements(){$window.lazyLoadXT()}function forceLoadAll(){checkLazyElements(true)}$(document).ready(function(){triggerEvent("start",$window);$window.on(options.loadEvent,initLazyElements).on(options.updateEvent,queueCheckLazyElements).on(options.forceEvent,forceLoadAll);$(document).on(options.updateEvent,queueCheckLazyElements);if(options.autoInit){initLazyElements()}})})(window.jQuery||window.Zepto||window.$,window,document);(function($){var options=$.lazyLoadXT;options.selector+=",video,iframe[data-src]";options.videoPoster="data-poster";$(document).on("lazyshow","video",function(e,$el){var srcAttr=$el.lazyLoadXT.srcAttr,isFuncSrcAttr=$.isFunction(srcAttr);$el.attr("poster",$el.attr(options.videoPoster)).children("source,track").each(function(index,el){var $child=$(el);$child.attr("src",isFuncSrcAttr?srcAttr($child):$child.attr(srcAttr))});this.load()})})(window.jQuery||window.Zepto||window.$);(function($){"use strict";var options=$.lazyLoadXT,bgAttr=options.bgAttr||"data-bg";options.selector+=",["+bgAttr+"]";$(document).on("lazyshow",function(e){var $this=$(e.target),url=$this.attr(bgAttr);if(!!url){$this.css("background-image","url('"+url+"')").removeAttr(bgAttr).triggerHandler("load")}})})(window.jQuery||window.Zepto||window.$);window.matchMedia||(window.matchMedia=function(win){"use strict";var _doc=win.document,_viewport=_doc.documentElement,_queries=[],_queryID=0,_type="",_features={},_typeExpr=/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,_mediaExpr=/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,_timer=0,_matches=function(media){var mql=media.indexOf(",")!==-1&&media.split(",")||[media],mqIndex=mql.length-1,mqLength=mqIndex,mq=null,negateType=null,negateTypeFound="",negateTypeIndex=0,negate=false,type="",exprListStr="",exprList=null,exprIndex=0,exprLength=0,expr=null,prefix="",length="",unit="",value="",feature="",match=false;if(media===""){return true}do{mq=mql[mqLength-mqIndex];negate=false;negateType=mq.match(_typeExpr);if(negateType){negateTypeFound=negateType[0];negateTypeIndex=negateType.index}if(!negateType||mq.substring(0,negateTypeIndex).indexOf("(")===-1&&(negateTypeIndex||!negateType[3]&&negateTypeFound!==negateType.input)){match=false;continue}exprListStr=mq;negate=negateType[1]==="not";if(!negateTypeIndex){type=negateType[2];exprListStr=mq.substring(negateTypeFound.length)}match=type===_type||type==="all"||type==="";exprList=exprListStr.indexOf(" and ")!==-1&&exprListStr.split(" and ")||[exprListStr];exprIndex=exprList.length-1;exprLength=exprIndex;if(match&&exprIndex>=0&&exprListStr!==""){do{expr=exprList[exprIndex].match(_mediaExpr);if(!expr||!_features[expr[3]]){match=false;break}prefix=expr[2];length=expr[5];value=length;unit=expr[7];feature=_features[expr[3]];if(unit){if(unit==="px"){value=Number(length)}else if(unit==="em"||unit==="rem"){value=16*length}else if(expr[8]){value=(length/expr[8]).toFixed(2)}else if(unit==="dppx"){value=length*96}else if(unit==="dpcm"){value=length*.3937}else{value=Number(length)}}if(prefix==="min-"&&value){match=feature>=value}else if(prefix==="max-"&&value){match=feature<=value}else if(value){match=feature===value}else{match=!!feature}if(!match){break}}while(exprIndex--)}if(match){break}}while(mqIndex--);return negate?!match:match},_setFeature=function(){var w=win.innerWidth||_viewport.clientWidth,h=win.innerHeight||_viewport.clientHeight,dw=win.screen.width,dh=win.screen.height,c=win.screen.colorDepth,x=win.devicePixelRatio;_features.width=w;_features.height=h;_features["aspect-ratio"]=(w/h).toFixed(2);_features["device-width"]=dw;_features["device-height"]=dh;_features["device-aspect-ratio"]=(dw/dh).toFixed(2);_features.color=c;_features["color-index"]=Math.pow(2,c);_features.orientation=h>=w?"portrait":"landscape";_features.resolution=x&&x*96||win.screen.deviceXDPI||96;_features["device-pixel-ratio"]=x||1},_watch=function(){clearTimeout(_timer);_timer=setTimeout(function(){var query=null,qIndex=_queryID-1,qLength=qIndex,match=false;if(qIndex>=0){_setFeature();do{query=_queries[qLength-qIndex];if(query){match=_matches(query.mql.media);if(match&&!query.mql.matches||!match&&query.mql.matches){query.mql.matches=match;if(query.listeners){for(var i=0,il=query.listeners.length;i<il;i++){if(query.listeners[i]){query.listeners[i].call(win,query.mql)}}}}}}while(qIndex--)}},10)},_init=function(){var head=_doc.getElementsByTagName("head")[0],style=_doc.createElement("style"),info=null,typeList=["screen","print","speech","projection","handheld","tv","braille","embossed","tty"],typeIndex=0,typeLength=typeList.length,cssText="#mediamatchjs { position: relative; z-index: 0; }",eventPrefix="",addEvent=win.addEventListener||(eventPrefix="on")&&win.attachEvent;style.type="text/css";style.id="mediamatchjs";head.appendChild(style);info=win.getComputedStyle&&win.getComputedStyle(style)||style.currentStyle;for(;typeIndex<typeLength;typeIndex++){cssText+="@media "+typeList[typeIndex]+" { #mediamatchjs { position: relative; z-index: "+typeIndex+" } }"}if(style.styleSheet){style.styleSheet.cssText=cssText}else{style.textContent=cssText}_type=typeList[info.zIndex*1||0];head.removeChild(style);_setFeature();addEvent(eventPrefix+"resize",_watch);addEvent(eventPrefix+"orientationchange",_watch)};_init();return function(media){var id=_queryID,mql={matches:false,media:media,addListener:function addListener(listener){_queries[id].listeners||(_queries[id].listeners=[]);listener&&_queries[id].listeners.push(listener)},removeListener:function removeListener(listener){var query=_queries[id],i=0,il=0;if(!query){return}il=query.listeners.length;for(;i<il;i++){if(query.listeners[i]===listener){query.listeners.splice(i,1)}}}};if(media===""){mql.matches=true;return mql}mql.matches=_matches(media);_queryID=_queries.push({mql:mql,listeners:null});return mql}}(window));!function(a,b,c){var d=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=c(d):"function"==typeof define&&define.amd?define(function(){return b[a]=c(d)}):b[a]=c(d)}("enquire",this,function(a){"use strict";function b(a,b){var c,d=0,e=a.length;for(d;e>d&&(c=b(a[d],d),c!==!1);d++);}function c(a){return"[object Array]"===Object.prototype.toString.apply(a)}function d(a){return"function"==typeof a}function e(a){this.options=a,!a.deferSetup&&this.setup()}function f(b,c){this.query=b,this.isUnconditional=c,this.handlers=[],this.mql=a(b);var d=this;this.listener=function(a){d.mql=a,d.assess()},this.mql.addListener(this.listener)}function g(){if(!a)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!a("only all").matches}return e.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(a){return this.options===a||this.options.match===a}},f.prototype={addHandler:function(a){var b=new e(a);this.handlers.push(b),this.matches()&&b.on()},removeHandler:function(a){var c=this.handlers;b(c,function(b,d){return b.equals(a)?(b.destroy(),!c.splice(d,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){b(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";b(this.handlers,function(b){b[a]()})}},g.prototype={register:function(a,e,g){var h=this.queries,i=g&&this.browserIsIncapable;return h[a]||(h[a]=new f(a,i)),d(e)&&(e={match:e}),c(e)||(e=[e]),b(e,function(b){h[a].addHandler(b)}),this},unregister:function(a,b){var c=this.queries[a];return c&&(b?c.removeHandler(b):(c.clear(),delete this.queries[a])),this}},new g});(function(o){var K=o.$LAB,y="UseLocalXHR",z="AlwaysPreserveOrder",u="AllowDuplicates",A="CacheBust",B="BasePath",C=/^[^?#]*\//.exec(location.href)[0],D=/^\w+\:\/\/\/?[^\/]+/.exec(C)[0],i=document.head||document.getElementsByTagName("head"),L=o.opera&&Object.prototype.toString.call(o.opera)=="[object Opera]"||"MozAppearance"in document.documentElement.style,q=document.createElement("script"),E=typeof q.preload=="boolean",r=E||q.readyState&&q.readyState=="uninitialized",F=!r&&q.async===true,M=!r&&!F&&!L;function G(a){return Object.prototype.toString.call(a)=="[object Function]"}function H(a){return Object.prototype.toString.call(a)=="[object Array]"}function N(a,c){var b=/^\w+\:\/\//;if(/^\/\/\/?/.test(a)){a=location.protocol+a}else if(!b.test(a)&&a.charAt(0)!="/"){a=(c||"")+a}return b.test(a)?a:(a.charAt(0)=="/"?D:C)+a}function s(a,c){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c}function O(a){var c=false;for(var b=0;b<a.scripts.length;b++){if(a.scripts[b].ready&&a.scripts[b].exec_trigger){c=true;a.scripts[b].exec_trigger();a.scripts[b].exec_trigger=null}}return c}function t(a,c,b,d){a.onload=a.onreadystatechange=function(){if(a.readyState&&a.readyState!="complete"&&a.readyState!="loaded"||c[b])return;a.onload=a.onreadystatechange=null;d()}}function I(a){a.ready=a.finished=true;for(var c=0;c<a.finished_listeners.length;c++){a.finished_listeners[c]()}a.ready_listeners=[];a.finished_listeners=[]}function P(d,f,e,g,h){setTimeout(function(){var a,c=f.real_src,b;if("item"in i){if(!i[0]){setTimeout(arguments.callee,25);return}i=i[0]}a=document.createElement("script");if(f.type)a.type=f.type;if(f.charset)a.charset=f.charset;if(h){if(r){e.elem=a;if(E){a.preload=true;a.onpreload=g}else{a.onreadystatechange=function(){if(a.readyState=="loaded")g()}}a.src=c}else if(h&&c.indexOf(D)==0&&d[y]){b=new XMLHttpRequest;b.onreadystatechange=function(){if(b.readyState==4){b.onreadystatechange=function(){};e.text=b.responseText+"\n//@ sourceURL="+c;g()}};b.open("GET",c);b.send()}else{a.type="text/cache-script";t(a,e,"ready",function(){i.removeChild(a);g()});a.src=c;i.insertBefore(a,i.firstChild)}}else if(F){a.async=false;t(a,e,"finished",g);a.src=c;i.insertBefore(a,i.firstChild)}else{t(a,e,"finished",g);a.src=c;i.insertBefore(a,i.firstChild)}},0)}function J(){var l={},Q=r||M,n=[],p={},m;l[y]=true;l[z]=false;l[u]=false;l[A]=false;l[B]="";function R(a,c,b){var d;function f(){if(d!=null){d=null;I(b)}}if(p[c.src].finished)return;if(!a[u])p[c.src].finished=true;d=b.elem||document.createElement("script");if(c.type)d.type=c.type;if(c.charset)d.charset=c.charset;t(d,b,"finished",f);if(b.elem){b.elem=null}else if(b.text){d.onload=d.onreadystatechange=null;d.text=b.text}else{d.src=c.real_src}i.insertBefore(d,i.firstChild);if(b.text){f()}}function S(c,b,d,f){var e,g,h=function(){b.ready_cb(b,function(){R(c,b,e)})},j=function(){b.finished_cb(b,d)};b.src=N(b.src,c[B]);b.real_src=b.src+(c[A]?(/\?.*$/.test(b.src)?"&_":"?_")+~~(Math.random()*1e9)+"=":"");if(!p[b.src])p[b.src]={items:[],finished:false};g=p[b.src].items;if(c[u]||g.length==0){e=g[g.length]={ready:false,finished:false,ready_listeners:[h],finished_listeners:[j]};P(c,b,e,f?function(){e.ready=true;for(var a=0;a<e.ready_listeners.length;a++){e.ready_listeners[a]()}e.ready_listeners=[]}:function(){I(e)},f)}else{e=g[0];if(e.finished){j()}else{e.finished_listeners.push(j)}}}function v(){var e,g=s(l,{}),h=[],j=0,w=false,k;function T(a,c){a.ready=true;a.exec_trigger=c;x()}function U(a,c){a.ready=a.finished=true;a.exec_trigger=null;for(var b=0;b<c.scripts.length;b++){if(!c.scripts[b].finished)return}c.finished=true;x()}function x(){while(j<h.length){if(G(h[j])){try{h[j++]()}catch(err){}continue}else if(!h[j].finished){if(O(h[j]))continue;break}j++}if(j==h.length){w=false;k=false}}function V(){if(!k||!k.scripts){h.push(k={scripts:[],finished:true})}}e={script:function(){for(var f=0;f<arguments.length;f++){(function(a,c){var b;if(!H(a)){c=[a]}for(var d=0;d<c.length;d++){V();a=c[d];if(G(a))a=a();if(!a)continue;if(H(a)){b=[].slice.call(a);b.unshift(d,1);[].splice.apply(c,b);d--;continue}if(typeof a=="string")a={src:a};a=s(a,{ready:false,ready_cb:T,finished:false,finished_cb:U});k.finished=false;k.scripts.push(a);S(g,a,k,Q&&w);w=true;if(g[z])e.wait()}})(arguments[f],arguments[f])}return e},wait:function(){if(arguments.length>0){for(var a=0;a<arguments.length;a++){h.push(arguments[a])}k=h[h.length-1]}else k=false;x();return e}};return{script:e.script,wait:e.wait,setOptions:function(a){s(a,g);return e}}}m={setGlobalDefaults:function(a){s(a,l);return m},setOptions:function(){return v().setOptions.apply(null,arguments)},script:function(){return v().script.apply(null,arguments)},wait:function(){return v().wait.apply(null,arguments)},queueScript:function(){n[n.length]={type:"script",args:[].slice.call(arguments)};return m},queueWait:function(){n[n.length]={type:"wait",args:[].slice.call(arguments)};return m},runQueue:function(){var a=m,c=n.length,b=c,d;for(;--b>=0;){d=n.shift();a=a[d.type].apply(null,d.args)}return a},noConflict:function(){o.$LAB=K;return m},sandbox:function(){return J()}};return m}o.$LAB=J();(function(a,c,b){if(document.readyState==null&&document[a]){document.readyState="loading";document[a](c,b=function(){document.removeEventListener(c,b,false);document.readyState="complete"},false)}})("addEventListener","DOMContentLoaded")})(this);(function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return Bb.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){vb.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return o(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){sc[a]||(e(b),sc[a]=!0)}function h(a,b){return function(c){return r(a.call(this,c),b)}}function i(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function j(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function k(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function l(){}function m(a,b){b!==!1&&H(a),p(this,a),this._d=new Date(+a._d),uc===!1&&(uc=!0,vb.updateOffset(this),uc=!1)}function n(a){var b=A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=vb.localeData(),this._bubble()}function o(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function p(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Kb.length>0)for(c in Kb)d=Kb[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function s(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function t(a,b){var c;return b=M(b,a),a.isBefore(b)?c=s(a,b):(c=s(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function u(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=vb.duration(c,d),v(this,e,a),this}}function v(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&pb(a,"Date",ob(a,"Date")+f*c),g&&nb(a,ob(a,"Month")+g*c),d&&vb.updateOffset(a,f||g)}function w(a){return"[object Array]"===Object.prototype.toString.call(a)}function x(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function y(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&C(a[d])!==C(b[d]))&&g++;return g+f}function z(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=lc[a]||mc[b]||b}return a}function A(a){var b,d,e={};for(d in a)c(a,d)&&(b=z(d),b&&(e[b]=a[d]));return e}function B(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}vb[b]=function(e,f){var g,h,i=vb._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=vb().utc().set(d,a);return i.call(vb._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function C(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function D(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function E(a,b,c){return jb(vb([a,11,31+b-c]),b,c).week}function F(a){return G(a)?366:365}function G(a){return a%4===0&&a%100!==0||a%400===0}function H(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Db]<0||a._a[Db]>11?Db:a._a[Eb]<1||a._a[Eb]>D(a._a[Cb],a._a[Db])?Eb:a._a[Fb]<0||a._a[Fb]>24||24===a._a[Fb]&&(0!==a._a[Gb]||0!==a._a[Hb]||0!==a._a[Ib])?Fb:a._a[Gb]<0||a._a[Gb]>59?Gb:a._a[Hb]<0||a._a[Hb]>59?Hb:a._a[Ib]<0||a._a[Ib]>999?Ib:-1,a._pf._overflowDayOfYear&&(Cb>b||b>Eb)&&(b=Eb),a._pf.overflow=b)}function I(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid}function J(a){return a?a.toLowerCase().replace("_","-"):a}function K(a){for(var b,c,d,e,f=0;f<a.length;){for(e=J(a[f]).split("-"),b=e.length,c=J(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=L(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&y(e,c,!0)>=b-1)break;b--}f++}return null}function L(a){var b=null;if(!Jb[a]&&Lb)try{b=vb.locale(),require("./locale/"+a),vb.locale(b)}catch(c){}return Jb[a]}function M(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(vb.isMoment(a)||x(a)?+a:+vb(a))-+c,c._d.setTime(+c._d+d),vb.updateOffset(c,!1),c):vb(a).local()}function N(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function O(a){var b,c,d=a.match(Pb);for(b=0,c=d.length;c>b;b++)d[b]=rc[d[b]]?rc[d[b]]:N(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function P(a,b){return a.isValid()?(b=Q(b,a.localeData()),nc[b]||(nc[b]=O(b)),nc[b](a)):a.localeData().invalidDate()}function Q(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Qb.lastIndex=0;d>=0&&Qb.test(a);)a=a.replace(Qb,c),Qb.lastIndex=0,d-=1;return a}function R(a,b){var c,d=b._strict;switch(a){case"Q":return _b;case"DDDD":return bc;case"YYYY":case"GGGG":case"gggg":return d?cc:Tb;case"Y":case"G":case"g":return ec;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?dc:Ub;case"S":if(d)return _b;case"SS":if(d)return ac;case"SSS":if(d)return bc;case"DDD":return Sb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Wb;case"a":case"A":return b._locale._meridiemParse;case"x":return Zb;case"X":return $b;case"Z":case"ZZ":return Xb;case"T":return Yb;case"SSSS":return Vb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?ac:Rb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rb;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp($(Z(a.replace("\\","")),"i"))}}function S(a){a=a||"";var b=a.match(Xb)||[],c=b[b.length-1]||[],d=(c+"").match(jc)||["-",0,0],e=+(60*d[1])+C(d[2]);return"+"===d[0]?e:-e}function T(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Db]=3*(C(b)-1));break;case"M":case"MM":null!=b&&(e[Db]=C(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Db]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Eb]=C(b));break;case"Do":null!=b&&(e[Eb]=C(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=C(b));break;case"YY":e[Cb]=vb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Cb]=C(b);break;case"a":case"A":c._meridiem=b;break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Fb]=C(b);break;case"m":case"mm":e[Gb]=C(b);break;case"s":case"ss":e[Hb]=C(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Ib]=C(1e3*("0."+b));break;case"x":c._d=new Date(C(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=S(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=C(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=vb.parseTwoDigitYear(b)}}function U(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Cb],jb(vb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Cb],jb(vb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=kb(d,e,f,h,g),a._a[Cb]=i.year,a._dayOfYear=i.dayOfYear}function V(a){var c,d,e,f,g=[];if(!a._d){for(e=X(a),a._w&&null==a._a[Eb]&&null==a._a[Db]&&U(a),a._dayOfYear&&(f=b(a._a[Cb],e[Cb]),a._dayOfYear>F(f)&&(a._pf._overflowDayOfYear=!0),d=fb(f,0,a._dayOfYear),a._a[Db]=d.getUTCMonth(),a._a[Eb]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Fb]&&0===a._a[Gb]&&0===a._a[Hb]&&0===a._a[Ib]&&(a._nextDay=!0,a._a[Fb]=0),a._d=(a._useUTC?fb:eb).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Fb]=24)}}function W(a){var b;a._d||(b=A(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],V(a))}function X(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function Y(b){if(b._f===vb.ISO_8601)return void ab(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Q(b._f,b._locale).match(Pb)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(R(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),rc[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),T(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[Fb]<=12&&(b._pf.bigHour=a),b._a[Fb]=k(b._locale,b._a[Fb],b._meridiem),V(b),H(b)}function Z(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function $(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],Y(b),I(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));o(a,c||b)}function ab(a){var b,c,d=a._i,e=fc.exec(d);if(e){for(a._pf.iso=!0,b=0,c=hc.length;c>b;b++)if(hc[b][1].exec(d)){a._f=hc[b][0]+(e[6]||" ");break}for(b=0,c=ic.length;c>b;b++)if(ic[b][1].exec(d)){a._f+=ic[b][0];break}d.match(Xb)&&(a._f+="Z"),Y(a)}else a._isValid=!1}function bb(a){ab(a),a._isValid===!1&&(delete a._isValid,vb.createFromInputFallback(a))}function cb(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function db(b){var c,d=b._i;d===a?b._d=new Date:x(d)?b._d=new Date(+d):null!==(c=Mb.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?bb(b):w(d)?(b._a=cb(d.slice(0),function(a){return parseInt(a,10)}),V(b)):"object"==typeof d?W(b):"number"==typeof d?b._d=new Date(d):vb.createFromInputFallback(b)}function eb(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fb(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function gb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function hb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ib(a,b,c){var d=vb.duration(a).abs(),e=Ab(d.as("s")),f=Ab(d.as("m")),g=Ab(d.as("h")),h=Ab(d.as("d")),i=Ab(d.as("M")),j=Ab(d.as("y")),k=e<oc.s&&["s",e]||1===f&&["m"]||f<oc.m&&["mm",f]||1===g&&["h"]||g<oc.h&&["hh",g]||1===h&&["d"]||h<oc.d&&["dd",h]||1===i&&["M"]||i<oc.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,hb.apply({},k)}function jb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=vb(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function kb(a,b,c,d,e){var f,g,h=fb(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:F(a-1)+g}}function lb(b){var c,d=b._i,e=b._f;return b._locale=b._locale||vb.localeData(b._l),null===d||e===a&&""===d?vb.invalid({nullInput:!0}):("string"==typeof d&&(b._i=d=b._locale.preparse(d)),vb.isMoment(d)?new m(d,!0):(e?w(e)?_(b):Y(b):db(b),c=new m(b),c._nextDay&&(c.add(1,"d"),c._nextDay=a),c))}function mb(a,b){var c,d;if(1===b.length&&w(b[0])&&(b=b[0]),!b.length)return vb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function nb(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),D(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function ob(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function pb(a,b,c){return"Month"===b?nb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function qb(a,b){return function(c){return null!=c?(pb(this,a,c),vb.updateOffset(this,b),this):ob(this,a)}}function rb(a){return 400*a/146097}function sb(a){return 146097*a/400}function tb(a){vb.duration.fn[a]=function(){return this._data[a]}}function ub(a){"undefined"==typeof ender&&(wb=zb.moment,zb.moment=a?f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",vb):vb)}for(var vb,wb,xb,yb="2.9.0",zb="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Ab=Math.round,Bb=Object.prototype.hasOwnProperty,Cb=0,Db=1,Eb=2,Fb=3,Gb=4,Hb=5,Ib=6,Jb={},Kb=[],Lb="undefined"!=typeof module&&module&&module.exports,Mb=/^\/?Date\((\-?\d+)/i,Nb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ob=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Pb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Qb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rb=/\d\d?/,Sb=/\d{1,3}/,Tb=/\d{1,4}/,Ub=/[+\-]?\d{1,6}/,Vb=/\d+/,Wb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xb=/Z|[\+\-]\d\d:?\d\d/gi,Yb=/T/i,Zb=/[\+\-]?\d+/,$b=/[\+\-]?\d+(\.\d{1,3})?/,_b=/\d/,ac=/\d\d/,bc=/\d{3}/,cc=/\d{4}/,dc=/[+-]?\d{6}/,ec=/[+-]?\d+/,fc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gc="YYYY-MM-DDTHH:mm:ssZ",hc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ic=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],jc=/([\+\-]|\d\d)/gi,kc=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),lc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},mc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},nc={},oc={s:45,m:45,h:22,d:26,M:11},pc="DDD w W M D d".split(" "),qc="M D H h m s w W".split(" "),rc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+r(Math.abs(a),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return r(C(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+":"+r(C(a)%60,2)},ZZ:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+r(C(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},sc={},tc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],uc=!1;pc.length;)xb=pc.pop(),rc[xb+"o"]=i(rc[xb],xb);for(;qc.length;)xb=qc.pop(),rc[xb+xb]=h(rc[xb],2);rc.DDDD=h(rc.DDD,3),o(l.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=vb.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=vb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return jb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),vb=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),lb(g)},vb.suppressDeprecationWarnings=!1,vb.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),vb.min=function(){var a=[].slice.call(arguments,0);return mb("isBefore",a)},vb.max=function(){var a=[].slice.call(arguments,0);return mb("isAfter",a)},vb.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),lb(g).utc()},vb.unix=function(a){return vb(1e3*a)},vb.duration=function(a,b){var d,e,f,g,h=a,i=null;return vb.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Nb.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:C(i[Eb])*d,h:C(i[Fb])*d,m:C(i[Gb])*d,s:C(i[Hb])*d,ms:C(i[Ib])*d}):(i=Ob.exec(a))?(d="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(g=t(vb(h.from),vb(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new n(h),vb.isDuration(a)&&c(a,"_locale")&&(e._locale=a._locale),e},vb.version=yb,vb.defaultFormat=gc,vb.ISO_8601=function(){},vb.momentProperties=Kb,vb.updateOffset=function(){},vb.relativeTimeThreshold=function(b,c){return oc[b]===a?!1:c===a?oc[b]:(oc[b]=c,!0)},vb.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return vb.locale(a,b)}),vb.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?vb.defineLocale(a,b):vb.localeData(a),c&&(vb.duration._locale=vb._locale=c)),vb._locale._abbr},vb.defineLocale=function(a,b){return null!==b?(b.abbr=a,Jb[a]||(Jb[a]=new l),Jb[a].set(b),vb.locale(a),Jb[a]):(delete Jb[a],null)},vb.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return vb.localeData(a)}),vb.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return vb._locale;if(!w(a)){if(b=L(a))return b;a=[a]}return K(a)},vb.isMoment=function(a){return a instanceof m||null!=a&&c(a,"_isAMomentObject")},vb.isDuration=function(a){return a instanceof n};for(xb=tc.length-1;xb>=0;--xb)B(tc[xb]);vb.normalizeUnits=function(a){return z(a)},vb.invalid=function(a){var b=vb.utc(0/0);return null!=a?o(b._pf,a):b._pf.userInvalidated=!0,b},vb.parseZone=function(){return vb.apply(null,arguments).parseZone()},vb.parseTwoDigitYear=function(a){return C(a)+(C(a)>68?1900:2e3)},vb.isDate=x,o(vb.fn=m.prototype,{clone:function(){return vb(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=vb(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&y(this._a,(this._isUTC?vb.utc(this._a):vb(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(a){var b=P(this,a||vb.defaultFormat);return this.localeData().postformat(b)},add:u(1,"add"),subtract:u(-1,"subtract"),diff:function(a,b,c){var d,e,f=M(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=j(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:q(e)},from:function(a,b){return vb.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(vb(),a)},calendar:function(a){var b=a||vb(),c=M(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,vb(b)))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=gb(a,this.localeData()),this.add(a-b,"d")):b},month:qb("Month",!0),startOf:function(a){switch(a=z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return b=z(b),b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")},isAfter:function(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+this>+a):(c=vb.isMoment(a)?+a:+vb(a),c<+this.clone().startOf(b))},isBefore:function(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+a>+this):(c=vb.isMoment(a)?+a:+vb(a),+this.clone().endOf(b)<c)},isBetween:function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},isSame:function(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+this===+a):(c=+vb(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=vb.apply(null,arguments),this>a?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=vb.apply(null,arguments),a>this?this:a}),zone:f("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}),utcOffset:function(a,b){var c,d=this._offset||0;return null!=a?("string"==typeof a&&(a=S(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.add(c,"m"),d!==a&&(!b||this._changeInProgress?v(this,vb.duration(a-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,vb.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?d:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(S(this._i)),this},hasAlignedHourOffset:function(a){return a=a?vb(a).utcOffset():0,(this.utcOffset()-a)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(a){var b=Ab((vb(this).startOf("day")-vb(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=jb(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=jb(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=jb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return E(this.year(),a.dow,a.doy)},get:function(a){return a=z(a),this[a]()},set:function(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else a=z(a),"function"==typeof this[a]&&this[a](b);return this},locale:function(b){var c;return b===a?this._locale._abbr:(c=vb.localeData(b),null!=c&&(this._locale=c),this)},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),vb.fn.millisecond=vb.fn.milliseconds=qb("Milliseconds",!1),vb.fn.second=vb.fn.seconds=qb("Seconds",!1),vb.fn.minute=vb.fn.minutes=qb("Minutes",!1),vb.fn.hour=vb.fn.hours=qb("Hours",!0),vb.fn.date=qb("Date",!0),vb.fn.dates=f("dates accessor is deprecated. Use date instead.",qb("Date",!0)),vb.fn.year=qb("FullYear",!0),vb.fn.years=f("years accessor is deprecated. Use year instead.",qb("FullYear",!0)),vb.fn.days=vb.fn.day,vb.fn.months=vb.fn.month,vb.fn.weeks=vb.fn.week,vb.fn.isoWeeks=vb.fn.isoWeek,vb.fn.quarters=vb.fn.quarter,vb.fn.toJSON=vb.fn.toISOString,vb.fn.isUTC=vb.fn.isUtc,o(vb.duration.fn=n.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=q(d/1e3),g.seconds=a%60,b=q(a/60),g.minutes=b%60,c=q(b/60),g.hours=c%24,e+=q(c/24),h=q(rb(e)),e-=q(sb(h)),f+=q(e/30),e%=30,h+=q(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return q(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(a){var b=ib(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=vb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=vb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=z(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=z(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*rb(b),"month"===a?c:c/12;switch(b=this._days+Math.round(sb(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:vb.fn.lang,locale:vb.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),vb.duration.fn.toString=vb.duration.fn.toISOString;for(xb in kc)c(kc,xb)&&tb(xb.toLowerCase());vb.duration.fn.asMilliseconds=function(){return this.as("ms")},vb.duration.fn.asSeconds=function(){return this.as("s")},vb.duration.fn.asMinutes=function(){return this.as("m")},vb.duration.fn.asHours=function(){return this.as("h")},vb.duration.fn.asDays=function(){return this.as("d")},vb.duration.fn.asWeeks=function(){return this.as("weeks")},vb.duration.fn.asMonths=function(){return this.as("M")},vb.duration.fn.asYears=function(){return this.as("y")},vb.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===C(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Lb?module.exports=vb:"function"==typeof define&&define.amd?(define(function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(zb.moment=wb),vb}),ub(!0)):ub()}).call(this);"format global";"deps angular";"deps moment";!function(){"use strict";function a(a,b){return a.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",b).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(b,c,d,e,f){return function(g,h,i){function j(){var a;if(e.serverTime){var b=(new Date).getTime(),d=b-t+e.serverTime;a=c(d)}else a=c();return a}function k(){p&&(b.clearTimeout(p),p=null)}function l(a){h.text(a.from(j(),r)),s&&!h.attr("title")&&h.attr("title",a.local().format(s));var c=Math.abs(j().diff(a,"minute")),d=3600;1>c?d=1:60>c?d=30:180>c&&(d=300),p=b.setTimeout(function(){l(a)},1e3*d)}function m(a){w&&h.attr("datetime",a)}function n(){if(k(),o){var a=d.preprocessDate(o,u,q);l(a),m(a.toISOString())}}var o,p=null,q=f.format,r=e.withoutSuffix,s=e.titleFormat,t=(new Date).getTime(),u=f.preprocess,v=i.amTimeAgo,w="TIME"===h[0].nodeName.toUpperCase();g.$watch(v,function(a){return"undefined"==typeof a||null===a||""===a?(k(),void(o&&(h.text(""),m(""),o=null))):(o=a,void n())}),a.isDefined(i.amWithoutSuffix)&&g.$watch(i.amWithoutSuffix,function(a){"boolean"==typeof a?(r=a,n()):r=e.withoutSuffix}),i.$observe("amFormat",function(a){"undefined"!=typeof a&&(q=a,n())}),i.$observe("amPreprocess",function(a){u=a,n()}),g.$on("$destroy",function(){k()}),g.$on("amMoment:localeChanged",function(){n()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(b,c,d,e){this.preprocessors={utc:b.utc,unix:b.unix},this.changeLocale=function(d,e){var f=b.locale(d,e);return a.isDefined(d)&&c.$broadcast("amMoment:localeChanged"),f},this.changeTimezone=function(a){e.timezone=a,c.$broadcast("amMoment:timezoneChanged")},this.preprocessDate=function(c,f,g){return a.isUndefined(f)&&(f=e.preprocess),this.preprocessors[f]?this.preprocessors[f](c,g):(f&&d.warn("angular-moment: Ignoring unsupported value for preprocess: "+f),!isNaN(parseFloat(c))&&isFinite(c)?b(parseInt(c,10)):b(c,g))},this.applyTimezone=function(a){var b=e.timezone;return a&&b&&(a.tz?a=a.tz(b):d.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),a}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,d);var e=a(c);return e.isValid()?b.applyTimezone(e).calendar():""}return d.$stateful=c.statefulFilters,d}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e,f,g,h){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,g);var i=a(c);if(!i.isValid())return"";var j;if("undefined"==typeof d||null===d)j=a();else if(d=b.preprocessDate(d,h),j=a(d),!j.isValid())return"";return b.applyTimezone(i).diff(b.applyTimezone(j),e,f)}return d.$stateful=c.statefulFilters,d}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,e);var f=a(c);return f.isValid()?b.applyTimezone(f).format(d):""}return d.$stateful=c.statefulFilters,d}]).filter("amDurationFormat",["moment","angularMomentConfig",function(a,b){function c(b,c,d){return"undefined"==typeof b||null===b?"":a.duration(b,c).humanize(d)}return c.$stateful=b.statefulFilters,c}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,d);var f=a(c);return f.isValid()?b.applyTimezone(f).fromNow(e):""}return d.$stateful=c.statefulFilters,d}])}"function"==typeof define&&define.amd?define(["angular","moment"],a):"undefined"!=typeof module&&module&&module.exports?(a(angular,require("moment")),module.exports="angularMoment"):a(angular,window.moment)}();var mod;mod=angular.module("infinite-scroll",[]),mod.directive("infiniteScroll",["$rootScope","$window","$timeout",function(i,n,e){return{link:function(t,l,o){var r,c,f,a;return n=angular.element(n),f=0,null!=o.infiniteScrollDistance&&t.$watch(o.infiniteScrollDistance,function(i){return f=parseInt(i,10)}),a=!0,r=!1,null!=o.infiniteScrollDisabled&&t.$watch(o.infiniteScrollDisabled,function(i){return a=!i,a&&r?(r=!1,c()):void 0}),c=function(){var e,c,u,d;return d=n.height()+n.scrollTop(),e=l.offset().top+l.height(),c=e-d,u=n.height()*f>=c,u&&a?i.$$phase?t.$eval(o.infiniteScroll):t.$apply(o.infiniteScroll):u?r=!0:void 0},n.on("scroll",c),t.$on("$destroy",function(){return n.off("scroll",c)}),e(function(){return o.infiniteScrollImmediateCheck?t.$eval(o.infiniteScrollImmediateCheck)?c():void 0:c()},0)}}}]);(function(){function initNgModules(element){var elements=[element],moduleElements=[],modules=[],names=["ng:module","ng-module","x-ng-module","data-ng-module","ng:modules","ng-modules","x-ng-modules","data-ng-modules"],NG_MODULE_CLASS_REGEXP=/\sng[:\-]module[s](:\s*([\w\d_]+);?)?\s/;function append(element){element&&elements.push(element)}for(var i=0;i<names.length;i++){var name=names[i];append(document.getElementById(name));name=name.replace(":","\\:");if(element.querySelectorAll){var elements2;elements2=element.querySelectorAll("."+name);for(var j=0;j<elements2.length;j++)append(elements2[j]);elements2=element.querySelectorAll("."+name+"\\:");for(var j=0;j<elements2.length;j++)append(elements2[j]);elements2=element.querySelectorAll("["+name+"]");for(var j=0;j<elements2.length;j++)append(elements2[j])}}for(var i=0;i<elements.length;i++){var element=elements[i];var className=" "+element.className+" ";var match=NG_MODULE_CLASS_REGEXP.exec(className);if(match){moduleElements.push(element);modules.push((match[2]||"").replace(/\s+/g,","))}else{if(element.attributes){for(var j=0;j<element.attributes.length;j++){var attr=element.attributes[j];if(names.indexOf(attr.name)!=-1){moduleElements.push(element);modules.push(attr.value)}}}}}for(var i=0;i<moduleElements.length;i++){var moduleElement=moduleElements[i];var module=modules[i].replace(/ /g,"").split(",");angular.bootstrap(moduleElement,module)}}angular.element(document).ready(function(){initNgModules(document)})})();(function(p,c,C){"use strict";function v(r,h,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,f,b,d,y){function z(){k&&(g.cancel(k),k=null);l&&(l.$destroy(),l=null);m&&(k=g.leave(m),k.then(function(){k=null}),m=null)}function x(){var b=r.current&&r.current.locals;if(c.isDefined(b&&b.$template)){var b=a.$new(),d=r.current;m=y(b,function(b){g.enter(b,null,m||f).then(function(){!c.isDefined(t)||t&&!a.$eval(t)||h()});z()});l=d.scope=b;l.$emit("$viewContentLoaded");l.$eval(w)}else z()}var l,m,k,t=b.autoscroll,w=b.onload||"";a.$on("$routeChangeSuccess",x);x()}}}function A(c,h,g){return{restrict:"ECA",priority:-400,link:function(a,f){var b=g.current,d=b.locals;f.html(d.$template);var y=c(f.contents());b.controller&&(d.$scope=a,d=h(b.controller,d),b.controllerAs&&(a[b.controllerAs]=d),f.data("$ngControllerController",d),f.children().data("$ngControllerController",d));y(a)}}}p=c.module("ngRoute",["ng"]).provider("$route",function(){function r(a,f){return c.extend(Object.create(a),f)}function h(a,c){var b=c.caseInsensitiveMatch,d={originalPath:a,regexp:a},g=d.keys=[];a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,c,b,d){a="?"===d?d:null;d="*"===d?d:null;g.push({name:b,optional:!!a});c=c||"";return""+(a?"":c)+"(?:"+(a?c:"")+(d&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1");d.regexp=new RegExp("^"+a+"$",b?"i":"");return d}var g={};this.when=function(a,f){var b=c.copy(f);c.isUndefined(b.reloadOnSearch)&&(b.reloadOnSearch=!0);c.isUndefined(b.caseInsensitiveMatch)&&(b.caseInsensitiveMatch=this.caseInsensitiveMatch);g[a]=c.extend(b,a&&h(a,b));if(a){var d="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";g[d]=c.extend({redirectTo:a},h(d,b))}return this};this.caseInsensitiveMatch=!1;this.otherwise=function(a){"string"===typeof a&&(a={redirectTo:a});this.when(null,a);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(a,f,b,d,h,p,x){function l(b){var e=s.current;(v=(n=k())&&e&&n.$$route===e.$$route&&c.equals(n.pathParams,e.pathParams)&&!n.reloadOnSearch&&!w)||!e&&!n||a.$broadcast("$routeChangeStart",n,e).defaultPrevented&&b&&b.preventDefault()}function m(){var u=s.current,e=n;if(v)u.params=e.params,c.copy(u.params,b),a.$broadcast("$routeUpdate",u);else if(e||u)w=!1,(s.current=e)&&e.redirectTo&&(c.isString(e.redirectTo)?f.path(t(e.redirectTo,e.params)).search(e.params).replace():f.url(e.redirectTo(e.pathParams,f.path(),f.search())).replace()),d.when(e).then(function(){if(e){var a=c.extend({},e.resolve),b,f;c.forEach(a,function(b,e){a[e]=c.isString(b)?h.get(b):h.invoke(b,null,null,e)});c.isDefined(b=e.template)?c.isFunction(b)&&(b=b(e.params)):c.isDefined(f=e.templateUrl)&&(c.isFunction(f)&&(f=f(e.params)),c.isDefined(f)&&(e.loadedTemplateUrl=x.valueOf(f),b=p(f)));c.isDefined(b)&&(a.$template=b);return d.all(a)}}).then(function(f){e==s.current&&(e&&(e.locals=f,c.copy(e.params,b)),a.$broadcast("$routeChangeSuccess",e,u))},function(b){e==s.current&&a.$broadcast("$routeChangeError",e,u,b)})}function k(){var a,b;c.forEach(g,function(d,g){var q;if(q=!b){var h=f.path();q=d.keys;var l={};if(d.regexp)if(h=d.regexp.exec(h)){for(var k=1,m=h.length;k<m;++k){var n=q[k-1],p=h[k];n&&p&&(l[n.name]=p)}q=l}else q=null;else q=null;q=a=q}q&&(b=r(d,{params:c.extend({},f.search(),a),pathParams:a}),b.$$route=d)});return b||g[null]&&r(g[null],{params:{},pathParams:{}})}function t(a,b){var d=[];c.forEach((a||"").split(":"),function(a,c){if(0===c)d.push(a);else{var f=a.match(/(\w+)(?:[?*])?(.*)/),g=f[1];d.push(b[g]);d.push(f[2]||"");delete b[g]}});return d.join("")}var w=!1,n,v,s={routes:g,reload:function(){w=!0;a.$evalAsync(function(){l();m()})},updateParams:function(a){if(this.current&&this.current.$$route)a=c.extend({},this.current.params,a),f.path(t(this.current.$$route.originalPath,a)),f.search(a);else throw B("norout")}};a.$on("$locationChangeStart",l);a.$on("$locationChangeSuccess",m);return s}]});var B=c.$$minErr("ngRoute");p.provider("$routeParams",function(){this.$get=function(){return{}}});p.directive("ngView",v);p.directive("ngView",A);v.$inject=["$route","$anchorScroll","$animate"];A.$inject=["$compile","$controller","$route"]})(window,window.angular);(function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var k=e.which;switch(k){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return true}if(e.metaKey)return true;return false},isFunctionKey:function(k){k=k.which?k.which:k;return k>=112&&k<=123},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k)}};if(angular.element.prototype.querySelectorAll===undefined){angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))}}if(angular.element.prototype.closest===undefined){angular.element.prototype.closest=function(selector){var elem=this[0];var matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;while(elem){if(matchesSelector.bind(elem)(selector)){return elem}else{elem=elem.parentElement}}return false}}var latestId=0;var uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:true,sortable:false,placeholder:"",refreshDelay:1e3,closeOnSelect:true,dropdownPosition:"auto",generateId:function(){return latestId++},appendToBody:false}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var error=minErr.apply(this,arguments);var message=error.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query&&matchItem?matchItem.replace(new RegExp(escapeRegexp(query),"gi"),'<span class="ui-select-highlight">$&</span>'):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/choices.tpl.html"},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");return function link(scope,element,attrs,$select,transcludeFn){var groupByExp=attrs.groupBy;var groupFilterExp=attrs.groupFilter;$select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp);$select.disableChoiceExpression=attrs.uiDisableChoice;$select.onHighlightCallback=attrs.onHighlight;$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition;if(groupByExp){var groups=element.querySelectorAll(".ui-select-choices-group");if(groups.length!==1)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}var choices=element.querySelectorAll(".ui-select-choices-row");if(choices.length!==1){throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length)}choices.attr("ng-repeat",$select.parserResult.repeatExpression(groupByExp)).attr("ng-if","$select.open").attr("ng-click","$select.select("+$select.parserResult.itemName+",false,$event)");var rowsInner=element.querySelectorAll(".ui-select-choices-row-inner");if(rowsInner.length!==1)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);rowsInner.attr("uis-transclude-append","");$compile(element,transcludeFn)(scope);scope.$watch("$select.search",function(newValue){if(newValue&&!$select.open&&$select.multiple)$select.activate(false,true);$select.activeIndex=$select.tagging.isActivated?-1:0;$select.refresh(attrs.refresh)});attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=refreshDelay!==undefined?refreshDelay:uiSelectConfig.refreshDelay});attrs.$observe("enableGroupBy",function(){var enableGroupBy=scope.$eval(attrs.enableGroupBy);if(enableGroupBy!==undefined){$select.isGrouped=!!enableGroupBy}})}}}}]);uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse",function($scope,$element,$timeout,$filter,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse){var ctrl=this;var EMPTY_SEARCH="";ctrl.placeholder=uiSelectConfig.placeholder;ctrl.searchEnabled=uiSelectConfig.searchEnabled;ctrl.sortable=uiSelectConfig.sortable;ctrl.refreshDelay=uiSelectConfig.refreshDelay;ctrl.removeSelected=false;ctrl.closeOnSelect=true;ctrl.search=EMPTY_SEARCH;ctrl.activeIndex=0;ctrl.items=[];ctrl.open=false;ctrl.focus=false;ctrl.disabled=false;ctrl.selected=undefined;ctrl.dropdownPosition="auto";ctrl.focusser=undefined;ctrl.resetSearchInput=true;ctrl.multiple=undefined;ctrl.disableChoiceExpression=undefined;ctrl.tagging={isActivated:false,fct:undefined};ctrl.taggingTokens={isActivated:false,tokens:undefined};ctrl.lockChoiceExpression=undefined;ctrl.clickTriggeredSelect=false;ctrl.$filter=$filter;ctrl.searchInput=$element.querySelectorAll("input.ui-select-search");if(ctrl.searchInput.length!==1){throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length)}ctrl.isEmpty=function(){return angular.isUndefined(ctrl.selected)||ctrl.selected===null||ctrl.selected===""};function _resetSearchInput(){if(ctrl.resetSearchInput||ctrl.resetSearchInput===undefined&&uiSelectConfig.resetSearchInput){ctrl.search=EMPTY_SEARCH;if(ctrl.selected&&ctrl.items.length&&!ctrl.multiple){ctrl.activeIndex=ctrl.items.indexOf(ctrl.selected)}}}function _groupsFilter(groups,groupNames){var i,j,result=[];for(i=0;i<groupNames.length;i++){for(j=0;j<groups.length;j++){if(groups[j].name==[groupNames[i]]){result.push(groups[j])}}}return result}ctrl.activate=function(initSearchValue,avoidReset){if(!ctrl.disabled&&!ctrl.open){if(!avoidReset)_resetSearchInput();$scope.$broadcast("uis:activate");ctrl.open=true;ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex;if(ctrl.activeIndex===-1&&ctrl.taggingLabel!==false){ctrl.activeIndex=0}$timeout(function(){ctrl.search=initSearchValue||ctrl.search;ctrl.searchInput[0].focus();if(!ctrl.tagging.isActivated&&ctrl.items.length>1){_ensureHighlightVisible()}})}};ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]};ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){function updateGroups(items){var groupFn=$scope.$eval(groupByExp);ctrl.groups=[];angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn];var group=ctrl.findGroupByName(groupName);if(group){group.items.push(item)}else{ctrl.groups.push({name:groupName,items:[item]})}});if(groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);if(angular.isFunction(groupFilterFn)){ctrl.groups=groupFilterFn(ctrl.groups)}else if(angular.isArray(groupFilterFn)){ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn)}}ctrl.items=[];ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}function setPlainItems(items){ctrl.items=items}ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems;ctrl.parserResult=RepeatParser.parse(repeatAttr);ctrl.isGrouped=!!groupByExp;ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source;var createArrayFromObject=function(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};result[ctrl.parserResult.keyName]=v;result.value=origSrc[v];return result})};if(ctrl.parserResult.keyName){createArrayFromObject();ctrl.parserResult.source=$parse("$uisSource"+ctrl.parserResult.filters);$scope.$watch(originalSource,function(newVal,oldVal){if(newVal!==oldVal)createArrayFromObject()},true)}ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.removeSelected){ctrl.setItemsFn(data)}else{if(data!==undefined){var filteredItems=data.filter(function(i){return selectedItems&&selectedItems.indexOf(i)<0});ctrl.setItemsFn(filteredItems)}}if(ctrl.dropdownPosition==="auto"||ctrl.dropdownPosition==="up"){$scope.calculateDropdownPos()}};$scope.$watchCollection(ctrl.parserResult.source,function(items){if(items===undefined||items===null){ctrl.items=[]}else{if(!angular.isArray(items)){throw uiSelectMinErr("items","Expected an array but got '{0}'.",items)}else{ctrl.refreshItems(items);ctrl.ngModel.$modelValue=null}}})};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){if(refreshAttr!==undefined){if(_refreshDelayPromise){$timeout.cancel(_refreshDelayPromise)}_refreshDelayPromise=$timeout(function(){$scope.$eval(refreshAttr)},ctrl.refreshDelay)}};ctrl.isActive=function(itemScope){if(!ctrl.open){return false}var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isActive=itemIndex===ctrl.activeIndex;if(!isActive||itemIndex<0&&ctrl.taggingLabel!==false||itemIndex<0&&ctrl.taggingLabel===false){return false}if(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)){itemScope.$eval(ctrl.onHighlightCallback)}return isActive};ctrl.isDisabled=function(itemScope){if(!ctrl.open)return;var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isDisabled=false;var item;if(itemIndex>=0&&!angular.isUndefined(ctrl.disableChoiceExpression)){item=ctrl.items[itemIndex];isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression);item._uiSelectChoiceDisabled=isDisabled}return isDisabled};ctrl.select=function(item,skipFocusser,$event){if(item===undefined||!item._uiSelectChoiceDisabled){if(!ctrl.items&&!ctrl.search)return;if(!item||!item._uiSelectChoiceDisabled){if(ctrl.tagging.isActivated){if(ctrl.taggingLabel===false){if(ctrl.activeIndex<0){item=ctrl.tagging.fct!==undefined?ctrl.tagging.fct(ctrl.search):ctrl.search;if(!item||angular.equals(ctrl.items[0],item)){return}}else{item=ctrl.items[ctrl.activeIndex]}}else{if(ctrl.activeIndex===0){if(item===undefined)return;if(ctrl.tagging.fct!==undefined&&typeof item==="string"){item=ctrl.tagging.fct(ctrl.search);if(!item)return}else if(typeof item==="string"){item=item.replace(ctrl.taggingLabel,"").trim()}}}if(ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length>0){ctrl.close(skipFocusser);return}}$scope.$broadcast("uis:select",item);var locals={};locals[ctrl.parserResult.itemName]=item;$timeout(function(){ctrl.onSelectCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals)})});if(ctrl.closeOnSelect){ctrl.close(skipFocusser)}if($event&&$event.type==="click"){ctrl.clickTriggeredSelect=true}}}};ctrl.close=function(skipFocusser){if(!ctrl.open)return;if(ctrl.ngModel&&ctrl.ngModel.$setTouched)ctrl.ngModel.$setTouched();_resetSearchInput();ctrl.open=false;$scope.$broadcast("uis:close",skipFocusser)};ctrl.setFocus=function(){if(!ctrl.focus)ctrl.focusInput[0].focus()};ctrl.clear=function($event){ctrl.select(undefined);$event.stopPropagation();$timeout(function(){ctrl.focusser[0].focus()},0,false)};ctrl.toggle=function(e){if(ctrl.open){ctrl.close();e.preventDefault();e.stopPropagation()}else{ctrl.activate()}};ctrl.isLocked=function(itemScope,itemIndex){var isLocked,item=ctrl.selected[itemIndex];if(item&&!angular.isUndefined(ctrl.lockChoiceExpression)){isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression);item._uiSelectChoiceLocked=isLocked}return isLocked};var sizeWatch=null;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.searchInput.parent().parent()[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent},updateIfVisible=function(containerWidth){if(containerWidth===0){return false}var inputWidth=containerWidth-input.offsetLeft-10;if(inputWidth<50)inputWidth=containerWidth;ctrl.searchInput.css("width",inputWidth+"px");return true};ctrl.searchInput.css("width","10px");$timeout(function(){if(sizeWatch===null&&!updateIfVisible(calculateContainerWidth())){sizeWatch=$scope.$watch(calculateContainerWidth,function(containerWidth){if(updateIfVisible(containerWidth)){sizeWatch();sizeWatch=null}})}})};function _handleDropDownSelection(key){var processed=true;switch(key){case KEY.DOWN:if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex<ctrl.items.length-1){ctrl.activeIndex++}break;case KEY.UP:if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex>0||ctrl.search.length===0&&ctrl.tagging.isActivated&&ctrl.activeIndex>-1){ctrl.activeIndex--}break;case KEY.TAB:if(!ctrl.multiple||ctrl.open)ctrl.select(ctrl.items[ctrl.activeIndex],true);break;case KEY.ENTER:if(ctrl.open&&(ctrl.tagging.isActivated||ctrl.activeIndex>=0)){ctrl.select(ctrl.items[ctrl.activeIndex])}else{ctrl.activate(false,true)}break;case KEY.ESC:ctrl.close();break;default:processed=false}return processed}ctrl.searchInput.on("keydown",function(e){var key=e.which;$scope.$apply(function(){var tagged=false;if(ctrl.items.length>0||ctrl.tagging.isActivated){_handleDropDownSelection(key);if(ctrl.taggingTokens.isActivated){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){if(ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]){if(ctrl.search.length>0){tagged=true}}}if(tagged){$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();if(ctrl.tagging.fct){newItem=ctrl.tagging.fct(newItem)}if(newItem)ctrl.select(newItem,true)})}}}});if(KEY.isVerticalMovement(key)&&ctrl.items.length>0){_ensureHighlightVisible()}if(key===KEY.ENTER||key===KEY.ESC){e.preventDefault();e.stopPropagation()}});ctrl.searchInput.on("paste",function(e){var data=e.originalEvent.clipboardData.getData("text/plain");if(data&&data.length>0&&ctrl.taggingTokens.isActivated&&ctrl.tagging.fct){var items=data.split(ctrl.taggingTokens.tokens[0]);if(items&&items.length>0){angular.forEach(items,function(item){var newItem=ctrl.tagging.fct(item);if(newItem){ctrl.select(newItem,true)}});e.preventDefault();e.stopPropagation()}}});ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})});function _ensureHighlightVisible(){var container=$element.querySelectorAll(".ui-select-choices-content");var choices=container.querySelectorAll(".ui-select-choices-row");if(choices.length<1){throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length)}if(ctrl.activeIndex<0){return}var highlighted=choices[ctrl.activeIndex];var posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop;var height=container[0].offsetHeight;if(posY>height){container[0].scrollTop+=posY-height}else if(posY<highlighted.clientHeight){if(ctrl.isGrouped&&ctrl.activeIndex===0)container[0].scrollTop=0;else container[0].scrollTop-=highlighted.clientHeight-posY}}$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste")})}]);uis.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return theme+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:true,transclude:true,require:["uiSelect","^ngModel"],scope:true,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(tElement,tAttrs){if(angular.isDefined(tAttrs.multiple))tElement.append("<ui-select-multiple/>").removeAttr("multiple");else tElement.append("<ui-select-single/>");if(tAttrs.inputId)tElement.querySelectorAll("input.ui-select-search")[0].id=tAttrs.inputId;return function(scope,element,attrs,ctrls,transcludeFn){var $select=ctrls[0];var ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId();$select.baseTitle=attrs.title||"Select box";$select.focusserTitle=$select.baseTitle+" focus";$select.focusserId="focusser-"+$select.generatedId;$select.closeOnSelect=function(){if(angular.isDefined(attrs.closeOnSelect)){return $parse(attrs.closeOnSelect)()}else{return uiSelectConfig.closeOnSelect}}();$select.onSelectCallback=$parse(attrs.onSelect);$select.onRemoveCallback=$parse(attrs.onRemove);$select.limit=angular.isDefined(attrs.limit)?parseInt(attrs.limit,10):undefined;$select.ngModel=ngModel;$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name};if(attrs.tabindex){attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value);element.removeAttr("tabindex")})}scope.$watch("searchEnabled",function(){var searchEnabled=scope.$eval(attrs.searchEnabled);$select.searchEnabled=searchEnabled!==undefined?searchEnabled:uiSelectConfig.searchEnabled});scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=sortable!==undefined?sortable:uiSelectConfig.sortable});attrs.$observe("disabled",function(){$select.disabled=attrs.disabled!==undefined?attrs.disabled:false});attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=resetSearchInput!==undefined?resetSearchInput:true});attrs.$observe("tagging",function(){if(attrs.tagging!==undefined){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:true,fct:taggingEval!==true?taggingEval:undefined}}else{$select.tagging={isActivated:false,fct:undefined}}});attrs.$observe("taggingLabel",function(){if(attrs.tagging!==undefined){if(attrs.taggingLabel==="false"){$select.taggingLabel=false}else{$select.taggingLabel=attrs.taggingLabel!==undefined?attrs.taggingLabel:"(new)"}}});attrs.$observe("taggingTokens",function(){if(attrs.tagging!==undefined){var tokens=attrs.taggingTokens!==undefined?attrs.taggingTokens.split("|"):[",","ENTER"];$select.taggingTokens={isActivated:true,tokens:tokens}}});if(angular.isDefined(attrs.autofocus)){$timeout(function(){$select.setFocus()})}if(angular.isDefined(attrs.focusOn)){scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus()})})}function onDocumentClick(e){if(!$select.open)return;var contains=false;if(window.jQuery){contains=window.jQuery.contains(element[0],e.target)}else{contains=element[0].contains(e.target)}if(!contains&&!$select.clickTriggeredSelect){var focusableControls=["input","button","textarea"];var targetController=angular.element(e.target).controller("uiSelect");var skipFocusser=targetController&&targetController!==$select;if(!skipFocusser)skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase());$select.close(skipFocusser);scope.$digest()}$select.clickTriggeredSelect=false}$document.on("click",onDocumentClick);scope.$on("$destroy",function(){$document.off("click",onDocumentClick)});transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone);var transcludedMatch=transcluded.querySelectorAll(".ui-select-match");transcludedMatch.removeAttr("ui-select-match");transcludedMatch.removeAttr("data-ui-select-match");if(transcludedMatch.length!==1){throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length)}element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");transcludedChoices.removeAttr("ui-select-choices");transcludedChoices.removeAttr("data-ui-select-choices");if(transcludedChoices.length!==1){throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length)}element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices)});var appendToBody=scope.$eval(attrs.appendToBody);if(appendToBody!==undefined?appendToBody:uiSelectConfig.appendToBody){scope.$watch("$select.open",function(isOpen){if(isOpen){positionDropdown()}else{resetDropdown()}});scope.$on("$destroy",function(){resetDropdown()})}var placeholder=null,originalWidth="";function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>');placeholder[0].style.width=offset.width+"px";placeholder[0].style.height=offset.height+"px";element.after(placeholder);originalWidth=element[0].style.width;$document.find("body").append(element);element[0].style.position="absolute";element[0].style.left=offset.left+"px";element[0].style.top=offset.top+"px";element[0].style.width=offset.width+"px"}function resetDropdown(){if(placeholder===null){return}placeholder.replaceWith(element);placeholder=null;element[0].style.position="";element[0].style.left="";element[0].style.top="";element[0].style.width=originalWidth}var dropdown=null,directionUpClassName="direction-up";scope.$watch("$select.open",function(){if($select.dropdownPosition==="auto"||$select.dropdownPosition==="up"){scope.calculateDropdownPos()}});var setDropdownPosUp=function(offset,offsetDropdown){offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="absolute";dropdown[0].style.top=offsetDropdown.height*-1+"px";element.addClass(directionUpClassName)};var setDropdownPosDown=function(offset,offsetDropdown){element.removeClass(directionUpClassName);offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="";dropdown[0].style.top=""};scope.calculateDropdownPos=function(){if($select.open){dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown");if(dropdown.length===0){return}dropdown[0].style.opacity=0;$timeout(function(){if($select.dropdownPosition==="up"){setDropdownPosUp(offset,offsetDropdown)}else{element.removeClass(directionUpClassName);var offset=uisOffset(element);var offsetDropdown=uisOffset(dropdown);var scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;if(offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight){setDropdownPosUp(offset,offsetDropdown)}else{setDropdownPosDown(offset,offsetDropdown)}}dropdown[0].style.opacity=1})}else{if(dropdown===null||dropdown.length===0){return}dropdown[0].style.position="";dropdown[0].style.top="";element.removeClass(directionUpClassName)}}}}}}]);uis.directive("uiSelectMatch",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;var multi=tElement.parent().attr("multiple");return theme+(multi?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(scope,element,attrs,$select){$select.lockChoiceExpression=attrs.uiLockChoice;attrs.$observe("placeholder",function(placeholder){$select.placeholder=placeholder!==undefined?placeholder:uiSelectConfig.placeholder});function setAllowClear(allow){$select.allowClear=angular.isDefined(allow)?allow===""?true:allow.toLowerCase()==="true":false}attrs.$observe("allowClear",setAllowClear);setAllowClear(attrs.allowClear);if($select.multiple){$select.sizeSearchInput()}}}}]);uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ctrl=this,$select=$scope.$select,ngModel;$scope.$evalAsync(function(){ngModel=$scope.ngModel});ctrl.activeMatchIndex=-1;ctrl.updateModel=function(){ngModel.$setViewValue(Date.now());ctrl.refreshComponent()};ctrl.refreshComponent=function(){$select.refreshItems();$select.sizeSearchInput()};ctrl.removeChoice=function(index){var removedChoice=$select.selected[index];if(removedChoice._uiSelectChoiceLocked)return;var locals={};locals[$select.parserResult.itemName]=removedChoice;$select.selected.splice(index,1);ctrl.activeMatchIndex=-1;$select.sizeSearchInput();$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)})});ctrl.updateModel()};ctrl.getPlaceholder=function(){if($select.selected&&$select.selected.length)return;return $select.placeholder}}],controllerAs:"$selectMultiple",link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=scope.ngModel=ctrls[1];var $selectMultiple=scope.$selectMultiple;$select.multiple=true;$select.removeSelected=true;$select.focusInput=$select.searchInput;ngModel.$parsers.unshift(function(){var locals={},result,resultMultiple=[];for(var j=$select.selected.length-1;j>=0;j--){locals={};locals[$select.parserResult.itemName]=$select.selected[j];result=$select.parserResult.modelMapper(scope,locals);resultMultiple.unshift(result)}return resultMultiple});ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult.source(scope,{$select:{search:""}}),locals={},result;if(!data)return inputValue;var resultMultiple=[];var checkFnMultiple=function(list,value){if(!list||!list.length)return;for(var p=list.length-1;p>=0;p--){locals[$select.parserResult.itemName]=list[p];result=$select.parserResult.modelMapper(scope,locals);if($select.parserResult.trackByExp){var matches=/\.(.+)/.exec($select.parserResult.trackByExp);if(matches.length>0&&result[matches[1]]==value[matches[1]]){resultMultiple.unshift(list[p]);return true}}if(angular.equals(result,value)){resultMultiple.unshift(list[p]);return true}}return false};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--){if(!checkFnMultiple($select.selected,inputValue[k])){if(!checkFnMultiple(data,inputValue[k])){resultMultiple.unshift(inputValue[k])}}}return resultMultiple});scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){if(oldValue!=newValue){ngModel.$modelValue=null;$selectMultiple.refreshComponent()}});ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(angular.isUndefined(ngModel.$viewValue)||ngModel.$viewValue===null){$select.selected=[]}else{throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue)}}$select.selected=ngModel.$viewValue;scope.$evalAsync()};scope.$on("uis:select",function(event,item){if($select.selected.length>=$select.limit){return}$select.selected.push(item);$selectMultiple.updateModel()});scope.$on("uis:activate",function(){$selectMultiple.activeMatchIndex=-1});scope.$watch("$select.disabled",function(newValue,oldValue){if(oldValue&&!newValue)$select.sizeSearchInput()});$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=false;if(KEY.isHorizontalMovement(key)){processed=_handleMatchSelection(key)}if(processed&&key!=KEY.TAB){e.preventDefault();e.stopPropagation()}})});function _getCaretPosition(el){if(angular.isNumber(el.selectionStart))return el.selectionStart;else return el.value.length}function _handleMatchSelection(key){var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,first=0,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;if(caretPosition>0||$select.search.length&&key==KEY.RIGHT)return false;$select.close();function getNewActiveMatchIndex(){switch(key){case KEY.LEFT:if(~$selectMultiple.activeMatchIndex)return prev;else return last;break;case KEY.RIGHT:if(!~$selectMultiple.activeMatchIndex||curr===last){$select.activate();return false}else return next;break;case KEY.BACKSPACE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice(curr);return prev}else return last;break;case KEY.DELETE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice($selectMultiple.activeMatchIndex);return curr}else return false}}newIndex=getNewActiveMatchIndex();if(!$select.selected.length||newIndex===false)$selectMultiple.activeMatchIndex=-1;else $selectMultiple.activeMatchIndex=Math.min(last,Math.max(first,newIndex));return true}$select.searchInput.on("keyup",function(e){if(!KEY.isVerticalMovement(e.which)){scope.$evalAsync(function(){$select.activeIndex=$select.taggingLabel===false?-1:0})}if($select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which)){return}$select.activeIndex=$select.taggingLabel===false?-1:0;if($select.taggingLabel===false)return;var items=angular.copy($select.items);var stashArr=angular.copy($select.items);var newItem;var item;var hasTag=false;var dupeIndex=-1;var tagItems;var tagItem;if($select.tagging.fct!==undefined){tagItems=$select.$filter("filter")(items,{isTag:true});if(tagItems.length>0){tagItem=tagItems[0]}if(items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.tagging.fct($select.search);newItem.isTag=true;if(stashArr.filter(function(origItem){return angular.equals(origItem,$select.tagging.fct($select.search))}).length>0){return}newItem.isTag=true}else{tagItems=$select.$filter("filter")(items,function(item){return item.match($select.taggingLabel)});if(tagItems.length>0){tagItem=tagItems[0]}item=items[0];if(item!==undefined&&items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.search+" "+$select.taggingLabel;if(_findApproxDupe($select.selected,$select.search)>-1){return}if(_findCaseInsensitiveDupe(stashArr.concat($select.selected))){if(hasTag){items=stashArr;scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items})}return}if(_findCaseInsensitiveDupe(stashArr)){if(hasTag){$select.items=stashArr.slice(1,stashArr.length)}return}}if(hasTag)dupeIndex=_findApproxDupe($select.selected,newItem);if(dupeIndex>-1){items=items.slice(dupeIndex+1,items.length-1)}else{items=[];items.push(newItem);items=items.concat(stashArr)}scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items})}});function _findCaseInsensitiveDupe(arr){if(arr===undefined||$select.search===undefined){return false}var hasDupe=arr.filter(function(origItem){if($select.search.toUpperCase()===undefined||origItem===undefined){return false}return origItem.toUpperCase()===$select.search.toUpperCase()}).length>0;return hasDupe}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack)){var tempArr=angular.copy(haystack);for(var i=0;i<tempArr.length;i++){if($select.tagging.fct===undefined){if(tempArr[i]+" "+$select.taggingLabel===needle){dupeIndex=i}}else{var mockObj=tempArr[i];mockObj.isTag=true;if(angular.equals(mockObj,needle)){dupeIndex=i}}}}return dupeIndex}$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1})})}}}]);uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){var locals={},result;locals[$select.parserResult.itemName]=inputValue;result=$select.parserResult.modelMapper(scope,locals);return result});ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult.source(scope,{$select:{search:""}}),locals={},result;if(data){var checkFnSingle=function(d){locals[$select.parserResult.itemName]=d;result=$select.parserResult.modelMapper(scope,locals);return result==inputValue};if($select.selected&&checkFnSingle($select.selected)){return $select.selected}for(var i=data.length-1;i>=0;i--){if(checkFnSingle(data[i]))return data[i]}}return inputValue});scope.$watch("$select.selected",function(newValue){if(ngModel.$viewValue!==newValue){ngModel.$setViewValue(newValue)}});ngModel.$render=function(){$select.selected=ngModel.$viewValue};scope.$on("uis:select",function(event,item){$select.selected=item});scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",false);if(!skipFocusser)$select.focusser[0].focus()},0,false)});scope.$on("uis:activate",function(){focusser.prop("disabled",true)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope);$select.focusser=focusser;$select.focusInput=focusser;element.parent().append(focusser);focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=true})});focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=false})});focusser.bind("keydown",function(e){if(e.which===KEY.BACKSPACE){e.preventDefault();e.stopPropagation();$select.select(undefined);scope.$apply();return}if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC){return}if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER||e.which==KEY.SPACE){e.preventDefault();e.stopPropagation();$select.activate()}scope.$digest()});focusser.bind("keyup input",function(e){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE){return}$select.activate(focusser.val());focusser.val("");scope.$digest()})}}}]);uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:"^uiSelect",link:function(scope,element,attrs,$select){if(scope[attrs.uiSelectSort]===null){throw uiSelectMinErr("sort","Expected a list to sort")}var options=angular.extend({axis:"horizontal"},scope.$eval(attrs.uiSelectSortOptions));var axis=options.axis,draggingClassName="dragging",droppingClassName="dropping",droppingBeforeClassName="dropping-before",droppingAfterClassName="dropping-after";scope.$watch(function(){return $select.sortable},function(n){if(n){element.attr("draggable",true)}else{element.removeAttr("draggable")}});element.on("dragstart",function(e){element.addClass(draggingClassName);(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",scope.$index)});element.on("dragend",function(){element.removeClass(draggingClassName)});var move=function(from,to){this.splice(to,0,this.splice(from,1)[0])};var dragOverHandler=function(e){e.preventDefault();var offset=axis==="vertical"?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);if(offset<this[axis==="vertical"?"offsetHeight":"offsetWidth"]/2){element.removeClass(droppingAfterClassName);element.addClass(droppingBeforeClassName)}else{element.removeClass(droppingBeforeClassName);element.addClass(droppingAfterClassName)}};var dropTimeout;var dropHandler=function(e){e.preventDefault();var droppedItemIndex=parseInt((e.dataTransfer||e.originalEvent.dataTransfer).getData("text/plain"),10);$timeout.cancel(dropTimeout);dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex)},20)};var _dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort),itemToMove=theList[droppedItemIndex],newIndex=null;if(element.hasClass(droppingBeforeClassName)){if(droppedItemIndex<scope.$index){newIndex=scope.$index-1}else{newIndex=scope.$index}}else{if(droppedItemIndex<scope.$index){newIndex=scope.$index}else{newIndex=scope.$index+1}}move.apply(theList,[droppedItemIndex,newIndex]);scope.$apply(function(){scope.$emit("uiSelectSort:change",{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})});element.removeClass(droppingClassName);element.removeClass(droppingBeforeClassName);element.removeClass(droppingAfterClassName);element.off("drop",dropHandler)};element.on("dragenter",function(){if(element.hasClass(draggingClassName)){return}element.addClass(droppingClassName);element.on("dragover",dragOverHandler);element.on("drop",dropHandler)});element.on("dragleave",function(e){if(e.target!=element){return}element.removeClass(droppingClassName);element.removeClass(droppingBeforeClassName);element.removeClass(droppingAfterClassName);element.off("dragover",dragOverHandler);element.off("drop",dropHandler)})}}}]);uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;var isObjectCollection=/\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)/.test(expression);match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(([\w\.]+)?\s*(|\s*[\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression)}if(!match[6]&&isObjectCollection){throw uiSelectMinErr("iexp","Expected expression in form of '_item_ as (_key_, _item_) in _ObjCollection_ [ track by _id_]' but got '{0}'.",expression)}return{itemName:match[4]||match[2],keyName:match[3],source:$parse(!match[3]?match[5]:match[6]),sourceName:match[6],filters:match[7],trackByExp:match[8],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function(grouped){var expression=this.itemName+" in "+(grouped?"$group.items":"$select.items");if(this.trackByExp){expression+=" track by "+this.trackByExp}return expression}}};self.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])})();angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>');$templateCache.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>');$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>');$templateCache.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>');$templateCache.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>');$templateCache.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>');$templateCache.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>');$templateCache.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="$select.selected && !$select.open" ng-readonly="!$select.searchEnabled" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>');$templateCache.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>');$templateCache.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>');$templateCache.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>');$templateCache.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>');$templateCache.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="false" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>')}]);(function(window,angular,undefined){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))}));return buf.join("")}}]}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,angular.noop);writer.chars(chars);return buf.join("")}var START_TAG_REGEXP=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,END_TAG_REGEXP=/^<\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g;var voidElements=makeMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul"));var inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=makeMap("animate,animateColor,animateMotion,animateTransform,circle,defs,"+"desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,"+"line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,"+"stop,svg,switch,text,title,tspan,use");var specialElements=makeMap("script,style");var validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements,svgElements);var uriAttrs=makeMap("background,cite,href,longdesc,src,usemap,xlink:href");var htmlAttrs=makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,target,title,type,"+"valign,value,vspace,width");var svgAttrs=makeMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,"+"color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,"+"font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,"+"gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,"+"keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,"+"markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,"+"overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,"+"repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,"+"stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,"+"stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,"+"stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,"+"underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,"+"viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,"+"xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,"+"zoomAndPan");var validAttrs=angular.extend({},uriAttrs,svgAttrs,htmlAttrs);function makeMap(str){var obj={},items=str.split(","),i;for(i=0;i<items.length;i++)obj[items[i]]=true;return obj}function htmlParser(html,handler){if(typeof html!=="string"){if(html===null||typeof html==="undefined"){html=""}else{html=""+html}}var index,chars,match,stack=[],last=html,text;stack.last=function(){return stack[stack.length-1]};while(html){text="";chars=true;if(!stack.last()||!specialElements[stack.last()]){if(html.indexOf("\x3c!--")===0){index=html.indexOf("--",4);if(index>=0&&html.lastIndexOf("--\x3e",index)===index){if(handler.comment)handler.comment(html.substring(4,index));html=html.substring(index+3);chars=false}}else if(DOCTYPE_REGEXP.test(html)){match=html.match(DOCTYPE_REGEXP);if(match){html=html.replace(match[0],"");chars=false}}else if(BEGING_END_TAGE_REGEXP.test(html)){match=html.match(END_TAG_REGEXP);if(match){html=html.substring(match[0].length);match[0].replace(END_TAG_REGEXP,parseEndTag);chars=false}}else if(BEGIN_TAG_REGEXP.test(html)){match=html.match(START_TAG_REGEXP);if(match){if(match[4]){html=html.substring(match[0].length);match[0].replace(START_TAG_REGEXP,parseStartTag)}chars=false}else{text+="<";html=html.substring(1)}}if(chars){index=html.indexOf("<");text+=index<0?html:html.substring(0,index);html=index<0?"":html.substring(index);if(handler.chars)handler.chars(decodeEntities(text))}}else{html=html.replace(new RegExp("(.*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1");if(handler.chars)handler.chars(decodeEntities(text));return""});parseEndTag("",stack.last())}if(html==last){throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block "+"of html: {0}",html)}last=html}parseEndTag();function parseStartTag(tag,tagName,rest,unary){tagName=angular.lowercase(tagName);if(blockElements[tagName]){while(stack.last()&&inlineElements[stack.last()]){parseEndTag("",stack.last())}}if(optionalEndTagElements[tagName]&&stack.last()==tagName){parseEndTag("",tagName)}unary=voidElements[tagName]||!!unary;if(!unary)stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)});if(handler.start)handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var pos=0,i;tagName=angular.lowercase(tagName);if(tagName)for(pos=stack.length-1;pos>=0;pos--)if(stack[pos]==tagName)break;if(pos>=0){for(i=stack.length-1;i>=pos;i--)if(handler.end)handler.end(stack[i]);stack.length=pos}}}var hiddenPre=document.createElement("pre");var spaceRe=/^(\s*)([\s\S]*?)(\s*)$/;function decodeEntities(value){if(!value){return""}var parts=spaceRe.exec(value);var spaceBefore=parts[1];var spaceAfter=parts[3];var content=parts[2];if(content){hiddenPre.innerHTML=content.replace(/</g,"&lt;");content="textContent"in hiddenPre?hiddenPre.textContent:hiddenPre.innerText}return spaceBefore+content+spaceAfter}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=false;var out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag);if(!ignore&&specialElements[tag]){ignore=tag}if(!ignore&&validElements[tag]===true){out("<");out(tag);angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}});out(unary?"/>":">")}},end:function(tag){tag=angular.lowercase(tag);if(!ignore&&validElements[tag]===true){out("</");out(tag);out(">")}if(tag==ignore){ignore=false}},chars:function(chars){if(!ignore){out(encodeEntities(chars))}}}}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider);angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,MAILTO_REGEXP=/^mailto:/;return function(text,target){if(!text)return text;var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){html.push("<a ");if(angular.isDefined(target)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular);!function(){"use strict";var e=angular.module("smoothScroll",[]),t=function(e,t){t=t||{};var n=t.duration||800,o=t.offset||0,a=t.easing||"easeInOutQuart",c=t.callbackBefore||function(){},r=t.callbackAfter||function(){},f=function(){return window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop};setTimeout(function(){var t,l,u=f(),i=0,s=function(e,t){return"easeInQuad"==e?t*t:"easeOutQuad"==e?t*(2-t):"easeInOutQuad"==e?.5>t?2*t*t:-1+(4-2*t)*t:"easeInCubic"==e?t*t*t:"easeOutCubic"==e?--t*t*t+1:"easeInOutCubic"==e?.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1:"easeInQuart"==e?t*t*t*t:"easeOutQuart"==e?1- --t*t*t*t:"easeInOutQuart"==e?.5>t?8*t*t*t*t:1-8*--t*t*t*t:"easeInQuint"==e?t*t*t*t*t:"easeOutQuint"==e?1+--t*t*t*t*t:"easeInOutQuint"==e?.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t:t},d=function(e){var t=0;if(e.offsetParent)do{t+=e.offsetTop,e=e.offsetParent}while(e);return t=Math.max(t-o,0)},b=d(e),k=b-u,m=function(){var t=f();l!=b&&t!=b&&window.innerHeight+t<document.body.scrollHeight||(clearInterval(I),r(e))},v=function(){i+=16,t=i/n,t=t>1?1:t,l=u+k*s(a,t),window.scrollTo(0,l),m()};c(e);var I=setInterval(v,16)},0)};e.factory("smoothScroll",function(){return t}),e.directive("smoothScroll",["smoothScroll",function(e){return{restrict:"A",scope:{callbackBefore:"&",callbackAfter:"&"},link:function(t,n,o){(void 0===o.scrollIf||"true"===o.scrollIf)&&setTimeout(function(){var a=function(e){if(o.callbackBefore){var n=t.callbackBefore({element:e});"function"==typeof n&&n(e)}},c=function(e){if(o.callbackAfter){var n=t.callbackAfter({element:e});"function"==typeof n&&n(e)}};e(n[0],{duration:o.duration,offset:o.offset,easing:o.easing,callbackBefore:a,callbackAfter:c})},0)}}}]),e.directive("scrollTo",["smoothScroll",function(e){return{restrict:"A",scope:{callbackBefore:"&",callbackAfter:"&"},link:function(t,n,o){var a;n.on("click",function(n){if(n.preventDefault(),a=document.getElementById(o.scrollTo)){var c=function(e){if(o.callbackBefore){var n=t.callbackBefore({element:e});"function"==typeof n&&n(e)}},r=function(e){if(o.callbackAfter){var n=t.callbackAfter({element:e});"function"==typeof n&&n(e)}};return e(a,{duration:o.duration,offset:o.offset,easing:o.easing,callbackBefore:c,callbackAfter:r}),!1}})}}}])}();(function($,undefined){"use strict";$.ajaxPrefilter(function(options,origOptions,jqXHR){if(options.iframe){options.originalURL=options.url;return"iframe"}});$.ajaxTransport("iframe",function(options,origOptions,jqXHR){var form=null,iframe=null,name="iframe-"+$.now(),files=$(options.files).filter(":file:enabled"),markers=null,accepts=null;function cleanUp(){files.each(function(i,file){var $file=$(file);$file.data("clone").replaceWith($file)});form.remove();iframe.one("load",function(){iframe.remove()});iframe.attr("src","javascript:false;")}options.dataTypes.shift();options.data=origOptions.data;if(files.length){form=$("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:options.originalURL,target:name});if(typeof options.data==="string"&&options.data.length>0){$.error("data must not be serialized")}$.each(options.data||{},function(name,value){if($.isPlainObject(value)){name=value.name;value=value.value}$("<input type='hidden' />").attr({name:name,value:value}).appendTo(form)});$("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(form);if(options.dataTypes[0]&&options.accepts[options.dataTypes[0]]){accepts=options.accepts[options.dataTypes[0]]+(options.dataTypes[0]!=="*"?", */*; q=0.01":"")}else{accepts=options.accepts["*"]}$("<input type='hidden' name='X-HTTP-Accept'>").attr("value",accepts).appendTo(form);markers=files.after(function(idx){var $this=$(this),$clone=$this.clone().prop("disabled",true);$this.data("clone",$clone);return $clone}).next();files.appendTo(form);return{send:function(headers,completeCallback){iframe=$("<iframe src='javascript:false;' name='"+name+"' id='"+name+"' style='display:none'></iframe>");iframe.one("load",function(){iframe.one("load",function(){var doc=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,root=doc.documentElement?doc.documentElement:doc.body,textarea=root.getElementsByTagName("textarea")[0],type=textarea&&textarea.getAttribute("data-type")||null,status=textarea&&textarea.getAttribute("data-status")||200,statusText=textarea&&textarea.getAttribute("data-statusText")||"OK",content={html:root.innerHTML,text:type?textarea.value:root?root.textContent||root.innerText:null};cleanUp();completeCallback(status,statusText,content,type?"Content-Type: "+type:null)});form[0].submit()});$("body").append(form,iframe)},abort:function(){if(iframe!==null){iframe.unbind("load").attr("src","javascript:false;");cleanUp()}}}}})})(jQuery);(function(){var key,i;function patchXHR(fnName,newFn){window.XMLHttpRequest.prototype[fnName]=newFn(window.XMLHttpRequest.prototype[fnName])}if(window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim){patchXHR("setRequestHeader",function(orig){return function(header,value){if(header==="__setXHR_"){var val=value(this);if(val instanceof Function){val(this)}}else{orig.apply(this,arguments)}}})}var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="4.0.4";ngFileUpload.service("Upload",["$http","$q","$timeout",function($http,$q,$timeout){function sendHttp(config){config.method=config.method||"POST";config.headers=config.headers||{};config.transformRequest=config.transformRequest||function(data,headersGetter){if(window.ArrayBuffer&&data instanceof window.ArrayBuffer){return data}return $http.defaults.transformRequest[0](data,headersGetter)};var deferred=$q.defer();var promise=deferred.promise;config.headers["__setXHR_"]=function(){return function(xhr){if(!xhr)return;config.__XHR=xhr;config.xhrFn&&config.xhrFn(xhr);xhr.upload.addEventListener("progress",function(e){e.config=config;deferred.notify?deferred.notify(e):promise.progress_fn&&$timeout(function(){promise.progress_fn(e)})},false);xhr.upload.addEventListener("load",function(e){if(e.lengthComputable){e.config=config;deferred.notify?deferred.notify(e):promise.progress_fn&&$timeout(function(){promise.progress_fn(e)})}},false)}};console.log(config);$http(config).then(function(r){deferred.resolve(r)},function(e){deferred.reject(e)},function(n){deferred.notify(n)});promise.success=function(fn){promise.then(function(response){fn(response.data,response.status,response.headers,config)});return promise};promise.error=function(fn){promise.then(null,function(response){fn(response.data,response.status,response.headers,config)});return promise};promise.progress=function(fn){promise.progress_fn=fn;promise.then(null,null,function(update){fn(update)});return promise};promise.abort=function(){if(config.__XHR){$timeout(function(){config.__XHR.abort()})}return promise};promise.xhr=function(fn){config.xhrFn=function(origXhrFn){return function(){origXhrFn&&origXhrFn.apply(promise,arguments);fn.apply(promise,arguments)}}(config.xhrFn);return promise};return promise}this.upload=function(config){config.headers=config.headers||{};config.headers["Content-Type"]=undefined;config.transformRequest=config.transformRequest?angular.isArray(config.transformRequest)?config.transformRequest:[config.transformRequest]:[];config.transformRequest.push(function(data){var formData=new FormData;var allFields={};for(key in config.fields){if(config.fields.hasOwnProperty(key)){allFields[key]=config.fields[key]}}if(data)allFields["data"]=data;if(config.formDataAppender){for(key in allFields){if(allFields.hasOwnProperty(key)){config.formDataAppender(formData,key,allFields[key])}}}else{for(key in allFields){if(allFields.hasOwnProperty(key)){var val=allFields[key];if(val!==undefined){if(angular.isDate(val)){val=val.toISOString()}if(angular.isString(val)){formData.append(key,val)}else{if(config.sendObjectsAsJsonBlob&&angular.isObject(val)){formData.append(key,new Blob([val],{type:"application/json"}))}else{formData.append(key,JSON.stringify(val))}}}}}}if(config.file!=null){var fileFormName=config.fileFormDataName||"file";if(angular.isArray(config.file)){var isFileFormNameString=angular.isString(fileFormName);for(var i=0;i<config.file.length;i++){formData.append(isFileFormNameString?fileFormName:fileFormName[i],config.file[i],config.fileName&&config.fileName[i]||config.file[i].name)}}else{formData.append(fileFormName,config.file,config.fileName||config.file.name)}}return formData});console.log("ng-file-upload");console.log(config);return sendHttp(config)};this.http=function(config){return sendHttp(config)}}]);ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile",function($parse,$timeout,$compile){return{restrict:"AEC",require:"?ngModel",link:function(scope,elem,attr,ngModel){linkFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile)}}}]);function linkFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile){function isInputTypeFile(){return elem[0].tagName.toLowerCase()==="input"&&elem.attr("type")&&elem.attr("type").toLowerCase()==="file"}var changeFnAttr=attr.ngfChange||attr.ngfSelect&&attr.ngfSelect.indexOf("(")>0;var isUpdating=false;function changeFn(evt){if(!isUpdating){isUpdating=true;try{var fileList=evt.__files_||evt.target&&evt.target.files;var files=[],rejFiles=[];for(var i=0;i<fileList.length;i++){var file=fileList.item(i);if(validate(scope,$parse,attr,file,evt)){files.push(file)}else{rejFiles.push(file)}}updateModel($parse,$timeout,scope,ngModel,attr,changeFnAttr,files,rejFiles,evt);if(files.length==0)evt.target.value=files}finally{isUpdating=false}}}function bindAttrToFileInput(fileElem){if(attr.ngfMultiple)fileElem.attr("multiple",$parse(attr.ngfMultiple)(scope));if(!$parse(attr.ngfMultiple)(scope))fileElem.attr("multiple",undefined);if(attr["accept"])fileElem.attr("accept",attr["accept"]);if(attr.ngfCapture)fileElem.attr("capture",$parse(attr.ngfCapture)(scope));if(attr.ngfDisabled)fileElem.attr("disabled",$parse(attr.ngfDisabled)(scope));for(var i=0;i<elem[0].attributes.length;i++){var attribute=elem[0].attributes[i];if(attribute.name!=="type"&&attribute.name!=="class"&&attribute.name!=="id"&&attribute.name!=="style"){fileElem.attr(attribute.name,attribute.value)}}}function createFileInput(evt){if(elem.attr("disabled")){return}var fileElem=angular.element('<input type="file">');bindAttrToFileInput(fileElem);if(isInputTypeFile()){elem.replaceWith(fileElem);elem=fileElem}else{fileElem.css("display","none").attr("tabindex","-1").attr("__ngf_gen__",true);if(elem.__ngf_ref_elem__){elem.__ngf_ref_elem__.remove()}elem.__ngf_ref_elem__=fileElem;document.body.appendChild(fileElem[0])}return fileElem}function resetModel(evt){updateModel($parse,$timeout,scope,ngModel,attr,changeFnAttr,[],[],evt,true)}function clickHandler(evt){evt.preventDefault();var fileElem=createFileInput(evt);if(fileElem){fileElem.bind("change",changeFn);resetModel(evt);function clickAndAssign(){fileElem[0].click();if(isInputTypeFile()){elem.bind("click touchend",clickHandler);evt.preventDefault()}}if(navigator.userAgent.toLowerCase().match(/android/)){setTimeout(function(){clickAndAssign()},0)}else{clickAndAssign()}}}if(window.FileAPI&&window.FileAPI.ngfFixIE){window.FileAPI.ngfFixIE(elem,createFileInput,bindAttrToFileInput,changeFn,resetModel)}else{elem.bind("click touchend",clickHandler)}}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location",function($parse,$timeout,$location){return{restrict:"AEC",require:"?ngModel",link:function(scope,elem,attr,ngModel){linkDrop(scope,elem,attr,ngModel,$parse,$timeout,$location)}}}]);ngFileUpload.directive("ngfNoFileDrop",function(){return function(scope,elem){if(dropAvailable())elem.css("display","none")}});ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout",function($parse,$timeout){return function(scope,elem,attr){if(dropAvailable()){var fn=$parse(attr.ngfDropAvailable);$timeout(function(){fn(scope);if(fn.assign){fn.assign(scope,true)}})}}}]);function linkDrop(scope,elem,attr,ngModel,$parse,$timeout,$location){var available=dropAvailable();if(attr.dropAvailable){$timeout(function(){scope[attr.dropAvailable]?scope[attr.dropAvailable].value=available:scope[attr.dropAvailable]=available})}if(!available){if($parse(attr.ngfHideOnDropNotAvailable)(scope)==true){elem.css("display","none")}return}var leaveTimeout=null;var stopPropagation=$parse(attr.ngfStopPropagation);var dragOverDelay=1;var accept=$parse(attr.ngfAccept);var disabled=$parse(attr.ngfDisabled);var actualDragOverClass;elem[0].addEventListener("dragover",function(evt){if(disabled(scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation();if(navigator.userAgent.indexOf("Chrome")>-1){var b=evt.dataTransfer.effectAllowed;evt.dataTransfer.dropEffect="move"===b||"linkMove"===b?"move":"copy"}$timeout.cancel(leaveTimeout);if(!scope.actualDragOverClass){actualDragOverClass=calculateDragOverClass(scope,attr,evt)}elem.addClass(actualDragOverClass)},false);elem[0].addEventListener("dragenter",function(evt){if(disabled(scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation()},false);elem[0].addEventListener("dragleave",function(){if(disabled(scope))return;leaveTimeout=$timeout(function(){elem.removeClass(actualDragOverClass);actualDragOverClass=null},dragOverDelay||1)},false);elem[0].addEventListener("drop",function(evt){if(disabled(scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation();elem.removeClass(actualDragOverClass);actualDragOverClass=null;extractFiles(evt,function(files,rejFiles){updateModel($parse,$timeout,scope,ngModel,attr,attr.ngfChange||attr.ngfDrop&&attr.ngfDrop.indexOf("(")>0,files,rejFiles,evt)},$parse(attr.ngfAllowDir)(scope)!=false,attr.multiple||$parse(attr.ngfMultiple)(scope))},false);function calculateDragOverClass(scope,attr,evt){var accepted=true;var items=evt.dataTransfer.items;if(items!=null){for(var i=0;i<items.length&&accepted;i++){accepted=accepted&&(items[i].kind=="file"||items[i].kind=="")&&validate(scope,$parse,attr,items[i],evt)}}var clazz=$parse(attr.ngfDragOverClass)(scope,{$event:evt});if(clazz){if(clazz.delay)dragOverDelay=clazz.delay;if(clazz.accept)clazz=accepted?clazz.accept:clazz.reject}return clazz||attr.ngfDragOverClass||"dragover"}function extractFiles(evt,callback,allowDir,multiple){var files=[],rejFiles=[],items=evt.dataTransfer.items,processing=0;function addFile(file){if(validate(scope,$parse,attr,file,evt)){files.push(file)}else{rejFiles.push(file)}}if(items&&items.length>0&&$location.protocol()!="file"){for(var i=0;i<items.length;i++){if(items[i].webkitGetAsEntry&&items[i].webkitGetAsEntry()&&items[i].webkitGetAsEntry().isDirectory){var entry=items[i].webkitGetAsEntry();if(entry.isDirectory&&!allowDir){continue}if(entry!=null){traverseFileTree(files,entry)}}else{var f=items[i].getAsFile();if(f!=null)addFile(f)}if(!multiple&&files.length>0)break}}else{var fileList=evt.dataTransfer.files;if(fileList!=null){for(var i=0;i<fileList.length;i++){addFile(fileList.item(i));if(!multiple&&files.length>0)break}}}var delays=0;(function waitForProcess(delay){$timeout(function(){if(!processing){if(!multiple&&files.length>1){i=0;while(files[i].type=="directory")i++;files=[files[i]]}callback(files,rejFiles)}else{if(delays++*10<20*1e3){waitForProcess(10)}}},delay||0)})();function traverseFileTree(files,entry,path){if(entry!=null){if(entry.isDirectory){var filePath=(path||"")+entry.name;addFile({name:entry.name,type:"directory",path:filePath});var dirReader=entry.createReader();var entries=[];processing++;var readEntries=function(){dirReader.readEntries(function(results){try{if(!results.length){for(var i=0;i<entries.length;i++){traverseFileTree(files,entries[i],(path?path:"")+entry.name+"/")}processing--}else{entries=entries.concat(Array.prototype.slice.call(results||[],0));readEntries()}}catch(e){processing--;console.error(e)}},function(){processing--})};readEntries()}else{processing++;entry.file(function(file){try{processing--;file.path=(path?path:"")+file.name;addFile(file)}catch(e){processing--;console.error(e)}},function(){processing--})}}}}}ngFileUpload.directive("ngfThumbnail",["$parse","$timeout",function($parse,$timeout){return{restrict:"AE",link:function(scope,elem,attr,file){if(window.FileReader){scope.$watch(attr.ngfThumbnail,function(file){if(file&&file.type.indexOf("image")>-1){$timeout(function(){var fileReader=new FileReader;fileReader.readAsDataURL(file);fileReader.onload=function(e){$timeout(function(){elem.attr("src",e.target.result)})}})}else{elem.attr("src","")}})}}}}]);function dropAvailable(){var div=document.createElement("div");return"draggable"in div&&"ondrop"in div}function updateModel($parse,$timeout,scope,ngModel,attr,fileChange,files,rejFiles,evt,noDelay){function update(){if(ngModel){$parse(attr.ngModel).assign(scope,files);$timeout(function(){ngModel&&ngModel.$setViewValue(files!=null&&files.length==0?null:files)})}if(attr.ngModelRejected){$parse(attr.ngModelRejected).assign(scope,rejFiles)}if(fileChange){$parse(fileChange)(scope,{$files:files,$rejectedFiles:rejFiles,$event:evt})}}if(noDelay){update()}else{$timeout(function(){update()})}}function validate(scope,$parse,attr,file,evt){var accept=$parse(attr.ngfAccept);var fileSizeMax=$parse(attr.ngfMaxSize)(scope)||9007199254740991;var fileSizeMin=$parse(attr.ngfMinSize)(scope)||-1;var val=accept(scope,{$file:file,$event:evt}),match=false;if(val!=null&&angular.isString(val)){var regexp=new RegExp(globStringToRegex(val),"gi");match=file.type!=null&&file.type.match(regexp)||file.name!=null&&file.name.match(regexp)}return(val==null||match)&&(file.size==null||file.size<fileSizeMax&&file.size>fileSizeMin)}function globStringToRegex(str){if(str.length>2&&str[0]==="/"&&str[str.length-1]==="/"){return str.substring(1,str.length-1)}var split=str.split(","),result="";if(split.length>1){for(var i=0;i<split.length;i++){result+="("+globStringToRegex(split[i])+")";if(i<split.length-1){result+="|"}}}else{if(str.indexOf(".")==0){str="*"+str}result="^"+str.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+"-]","g"),"\\$&")+"$";result=result.replace(/\\\*/g,".*").replace(/\\\?/g,".")}return result}})();(function(window,undefined){"$:nomunge";var $=window.jQuery||window.Cowboy||(window.Cowboy={}),jq_throttle;$.throttle=jq_throttle=function(delay,no_trailing,callback,debounce_mode){var timeout_id,last_exec=0;if(typeof no_trailing!=="boolean"){debounce_mode=callback;callback=no_trailing;no_trailing=undefined}function wrapper(){var that=this,elapsed=+new Date-last_exec,args=arguments;function exec(){last_exec=+new Date;callback.apply(that,args)}function clear(){timeout_id=undefined}if(debounce_mode&&!timeout_id){exec()}timeout_id&&clearTimeout(timeout_id);if(debounce_mode===undefined&&elapsed>delay){exec()}else if(no_trailing!==true){timeout_id=setTimeout(debounce_mode?clear:exec,debounce_mode===undefined?delay-elapsed:delay)}}if($.guid){wrapper.guid=callback.guid=callback.guid||$.guid++}return wrapper};$.debounce=function(delay,at_begin,callback){return callback===undefined?jq_throttle(delay,at_begin,false):jq_throttle(delay,callback,at_begin!==false)}})(this);var searchServices=angular.module("searchServices",["ui","utilServices","ProductThumbnailStatsServices","paymentServices","userServices"]);searchServices.config(["$interpolateProvider",function($interpolateProvider){$interpolateProvider.startSymbol("{[").endSymbol("]}")}]);searchServices.directive("chSmartSearch",function(){$=jQuery.noConflict();return{scope:{userId:"="},controller:function($scope,searchActions,$sce,productThumbnailStatsService,userActions,userStore){$scope.query="";$scope.boldedWord="";$scope.placeholder="";$scope.initialQuery="";$scope.hasSearchBarOverlayLoaded=false;$scope.isStickyHomepageSearchBar=false;$scope.isStickyHeaderActive=false;$scope.isMobile=typeof isMobile!=="undefined"&&isMobile==true||false;$scope.isEducator=false;var generateSortedTotals=function(){for(var key in $scope.productTotals){switch(key){case"documents":$scope.sortedTotals[0]={product:key,total:$scope.productTotals[key]};break;case"questions":$scope.sortedTotals[1]={product:key,total:$scope.productTotals[key]};break}}};var defaultGSAResults=function(){$scope.autocomplete={};$scope.products={};$scope.productTotals={documents:"~",questions:"~"};$scope.sortedTotals=[];generateSortedTotals()};var defaultAutocompleteResults=function(){$scope.autocomplete=[]};var defaultResults=function(){defaultGSAResults();defaultAutocompleteResults()};defaultResults();$scope.show=false;$scope.gsaLoading=false;$scope.autoLoading=false;$scope.doGsaSearch=$.throttle(1e3,function(searchData){searchActions.search(searchData,$scope.parseGSAResults)});$scope.doSearch=$.throttle(100,function(searchTerm){var searchData={stx:searchTerm,filters:{top_results:true},limit:5,topic:{}};$scope.gsaLoading=false;$scope.autoLoading=true;searchActions.autocomplete(searchTerm,$scope.parseAutocomplete)});$scope.parseGSAResults=function(response){if(typeof response==="undefined"||response.length===0){defaultGSAResults()}else{$scope.products=response["products"];$scope.productTotals=response["product_totals"];generateSortedTotals();ProductThumbnailStats.api.getStats($scope.products.documents.slice(0,3).map(function(product){return{id:product.id,type:"documents"}}))}$scope.gsaLoading=false};$scope.parseAutocomplete=function(response){if(typeof response==="undefined"||response.data.length===0){defaultAutocompleteResults()}else{$scope.autocomplete=response.data}$scope.autoLoading=false};$scope.showRecentSearches=false;$scope.recentSearches=[];var attemptToSaveToLocalStorage=function(recentSearches,maxNum){var key="ch-recentSearches-"+($scope.userId||"loggedOut");var error=null;do{try{error=null;var data=JSON.stringify(recentSearches.slice(0,maxNum));localStorage.setItem(key,data)}catch(e){error=e;maxNum--}}while(maxNum>0&&!!error);if(error){throw error}};$scope.saveRecentSearchToLocalStorage=function saveRecentSearchToLocalStorage(query){query=query.trim();var existingIndex=$scope.recentSearches.indexOf(query);if(existingIndex===-1){$scope.recentSearches.unshift(query)}else{var firstArray=$scope.recentSearches.slice(0,existingIndex);var secondArray=$scope.recentSearches.slice(existingIndex+1);$scope.recentSearches=[query].concat(firstArray).concat(secondArray)}$scope.recentSearches=$scope.recentSearches.slice(0,5);attemptToSaveToLocalStorage($scope.recentSearches,5)};(function getRecentSearchesFromLocalStorage(){var storedSearches=JSON.parse(localStorage.getItem("ch-recentSearches-"+($scope.userId||"loggedOut")));$scope.recentSearches=Array.isArray(storedSearches)?storedSearches:[]})();$scope.$watch("query",function(newValue,oldValue){if(typeof newValue==="undefined"||typeof oldValue==="undefined"||newValue.length===0&&oldValue.length===0){return}if(newValue!==oldValue&&newValue!==$scope.initialQuery){$scope.show=true;$scope.showRecentSearches=false}$scope.boldedWord=newValue;if(newValue===""){defaultResults();$scope.showRecentSearches=true}else{$scope.doSearch(newValue)}});jQuery(window).on("ContentStore.events.UPDATE",function(e){if(typeof ContentStore!=="undefined"){$scope.query=ContentStore.getQuery();if($scope.initialQuery===""){$scope.initialQuery=$scope.query}if(!$scope.$$phase){$scope.$digest()}}});var boldWord=function(source,word){var regex=new RegExp("("+word+")","gi");return source.replace(regex,"<strong>$1</strong>")};$scope.boldAutocomplete=function(source){return $sce.trustAsHtml(boldWord(source,$scope.boldedWord))};$scope.spanWrapAndEscapeHtml=function(source){var escapedSource=angular.element("<div/>").text(source).html();return $sce.trustAsHtml("<span>"+escapedSource+"</span>")};$scope.getProductName=function(product){if(product=="questions"){return"Q&A"}if(product=="documents"){return"Documents"}return product};$scope.getProductSearch=function(product){return"/search/results/"+"?stx="+encodeURIComponent($scope.query)+"&filters_product="+product};$scope.getSearchUrl=function(query,isAutocomplete,position){var filter="top_results";var path=document.location.pathname;if(path.indexOf("/homework-help/")!==-1||path.indexOf("/tutor-problems/")!==-1){filter="questions"}if(path.indexOf("/file/")!==-1){filter="documents"}var url;if(isAutocomplete){url="/search/results/"+"?stx="+encodeURIComponent(query.suggestion)+"&filters_product="+filter+"&source="+query.source+"&initial_query="+encodeURIComponent($scope.query)+"&search_suggestion_id="+query.search_suggestion_id+"&position="+position+"&referrer="+window.location.pathname+"&autocomplete=1"}else{url="/search/results/"+"?stx="+encodeURIComponent(query)+"&filter_products="+filter}return url};$scope.getStat=function(stat,type,id){$scope.stats=productThumbnailStatsService.getStats();return productThumbnailStatsService.getStat($scope.stats,stat,type,id)};$scope.hasDocuments=function(){return typeof $scope.productTotals.documents!=="undefined"&&$scope.productTotals.documents>0};$scope.scholarshipBannerClick=function(url){if(typeof tracker==="undefined"){var tracker=new MixpanelEventTracking}tracker.track("Scholarship in Search clicked",{Location:"Search Bar"});window.location=url}},link:function(scope,elem,attrs){elem.removeClass("ch_h-search-form_input");scope.placeholder=attrs["placeholder"];scope.isStickyHomepageSearchBar=attrs["chaLocation"]==="Homepage header"||false;scope.isEducator=attrs["chaIsEducator"]||false;if(typeof search_term==="string"){scope.query=search_term}if(typeof ContentStore!=="undefined"){scope.query=ContentStore.getQuery()}var inputElement=elem.find("input");var searchBarElements=scope.isStickyHomepageSearchBar===true&&scope.isMobile===true?$(".ch_search_header"):inputElement;$(document).on("click touchend",function(e){if(!$(e.target).is(".ch_edu_remove_icon")&&$(e.target).is(".ch_h-search-widget, .ch_h-search-widget *, .ch_search_header")){return}if($(e.target).is(".overlay, .close_cta, .ch_edu_remove_icon")){e.stopImmediatePropagation();e.preventDefault();setTimeout(function(){scope.hasSearchBarOverlayLoaded=false;$("#ch-header").removeClass("searchActive");$("#ch-header").addClass("searchInactive");$("html, body").removeClass("noScroll");$(".overlay").fadeOut(600,function(){$(this).remove()});$(".close_cta").remove();$(".ch_edu_remove_btn").hide();if($(e.target).is(".ch_edu_remove_icon")){$("#ch_search_form_input_content").val("")}$("#ch-header .ch_h-search-form_input").attr("placeholder","Search");scope.$apply()},50)}$(".ch_search_innerWrapper").removeClass("shouldExpand");inputElement.blur();scope.show=false;scope.showRecentSearches=false;if(!scope.$$phase){scope.$digest()}});var searchForm=elem.parent().parent();searchForm.on("submit",function(e){scope.showRecentSearches=false;if(scope.query!==""){scope.saveRecentSearchToLocalStorage(scope.query)}});searchForm.find("input[type=submit]").on("click",function(e){e.preventDefault();return searchForm.submit()});searchBarElements.on("focus click touchend",function(e){var ctaInsertClass=scope.isMobile===true?"#ch-header .hp_search_wrapper .hp_search_container":"#ch-header .hp_search_wrapper .hp_search_container .ch_h-search-form_input_container .ch_h-search-widget";if(inputElement.attr("placeholder").trim()==="Search"){var width=window.innerWidth>0?window.innerWidth:screen.width;if(width>=375){inputElement.attr("placeholder","Search Course Hero")}}if((scope.isStickyHomepageSearchBar||scope.isEducator)&&scope.hasSearchBarOverlayLoaded===false){e.stopImmediatePropagation();$("#ch-header").removeClass("searchInactive");$("#ch-header").addClass("searchActive");$('<div class="overlay"></div>').insertBefore("#ch-body");$("html, body").addClass("noScroll");scope.hasSearchBarOverlayLoaded=true;if(scope.isStickyHomepageSearchBar){$('<div class="close_cta"></div>').insertBefore(ctaInsertClass)}else if(scope.isEducator){$(".ch_edu_remove_btn").show()}}else if($(".ch_search_innerWrapper").has(this).length){$(".ch_search_innerWrapper").addClass("shouldExpand")}if(scope.query===""){scope.showRecentSearches=true}scope.show=true;if(!scope.$$phase){scope.$digest()}});inputElement.keyup(function(e){if(e.keyCode===13){scope.show=false;searchForm.submit();if(!scope.$$phase){scope.$digest()}}});inputElement.on("blur",function(e){e.preventDefault();if(inputElement.attr("placeholder").trim()==="Search Course Hero"){inputElement.attr("placeholder","Search")}})},templateUrl:function(elem,attrs){var location=attrs["chaLocation"];var ampTrackingTitle=attrs["ampTracking"]||"";return"/_template/_widget/smart-search/?location="+location+"&ampTrackingTitle="+ampTrackingTitle},replace:true}});searchServices.service("searchActions",function($q,apiService){var API_AUTOCOMPLETE="/api/v1/search/suggest/";var API_FEDERATED_SEARCH_GSA="/api/v1/federated-search-gsa/";var searchActions=new function(){return{_lastSearch:null,_lastAutocomplete:null,search:function(data,callback){if(this._lastSearch!==null){this._lastSearch.resolve()}this._lastSearch=$q.defer();apiService.post(API_FEDERATED_SEARCH_GSA,data,{timeout:this._lastSearch.promise}).success(function(response){if(typeof callback!=="undefined"){callback(response)}}).error(function(){})},autocomplete:function(data,callback){if(this._lastAutocomplete!==null){this._lastAutocomplete.resolve()}this._lastAutocomplete=$q.defer();apiService.get(API_AUTOCOMPLETE,{query:data},{timeout:this._lastAutocomplete.promise}).then(callback,function(){})}}};return searchActions});(function(){var k,aa=this;function n(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function p(a,b){function c(){}c.prototype=b.prototype;a.ya=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ea=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}}function q(a,b){null!=a&&this.append.apply(this,arguments)}k=q.prototype;k.e="";k.set=function(a){this.e=""+a};k.append=function(a,b,c){this.e+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.e+=arguments[d];return this};k.clear=function(){this.e=""};k.toString=function(){return this.e};function ba(a,b){a.sort(b||ca)}function ca(a,b){return a>b?1:a<b?-1:0}function da(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ea(a,b,c){this.ua=a;this.na=b.name||null;this.m={};for(a=0;a<c.length;a++)b=c[a],this.m[b.i]=b}ea.prototype.getName=function(){return this.na};function fa(a){a=da(a.m);ba(a,function(a,c){return a.i-c.i});return a}function ga(a,b,c){this.i=b;this.na=c.name;this.ea=!!c.fa;this.o=c.a;this.oa=c.type;this.ka=!1;switch(this.o){case ha:case ia:case ja:case ka:case la:case ma:case na:this.ka=!0}this.u=c.defaultValue}var na=1,ma=2,ha=3,ia=4,ja=6,ka=16,la=18;ga.prototype.getName=function(){return this.na};function r(){this.c={};this.m=this.q().m;this.f=this.ma=null}k=r.prototype;k.q=function(){var a=this.constructor,b;if(!(b=a.ra)){var c;b=a.xa;var d=[],e=b[0];for(c in b)0!=c&&d.push(new ga(0,c,b[c]));c=new ea(a,e,d);b=a.ra=c}return b};k.has=function(a){return null!=this.c[a.i]};k.get=function(a,b){return t(this,a.i,b)};k.set=function(a,b){u(this,a.i,b)};k.add=function(a,b){oa(this,a.i,b)};k.clear=function(a){pa(this,a.i)};function qa(a,b){for(var c=fa(a.q()),d=0;d<c.length;d++){var e=c[d],f=e.i;if(null!=b.c[f]){a.f&&delete a.f[e.i];var g=11==e.o||10==e.o;if(e.ea)for(var e=v(b,f)||[],h=0;h<e.length;h++)oa(a,f,g?e[h].clone():e[h]);else e=v(b,f),g?(g=v(a,f))?qa(g,e):u(a,f,e.clone()):u(a,f,e)}}}k.clone=function(){var a=new this.constructor;a!=this&&(a.c={},a.f&&(a.f={}),qa(a,this));return a};function v(a,b){var c=a.c[b];if(null==c)return null;if(a.ma){if(!(b in a.f)){var d=a.ma,e=a.m[b];if(null!=c)if(e.ea){for(var f=[],g=0;g<c.length;g++)f[g]=d.da(e,c[g]);c=f}else c=d.da(e,c);return a.f[b]=c}return a.f[b]}return c}function t(a,b,c){var d=v(a,b);return a.m[b].ea?d[c||0]:d}function w(a,b){var c;if(null!=a.c[b])c=t(a,b,void 0);else a:{c=a.m[b];if(void 0===c.u){var d=c.oa;if(d===Boolean)c.u=!1;else if(d===Number)c.u=0;else if(d===String)c.u=c.ka?"0":"";else{c=new d;break a}}c=c.u}return c}function x(a,b){return a.m[b].ea?null!=a.c[b]?a.c[b].length:0:null!=a.c[b]?1:0}function u(a,b,c){a.c[b]=c;a.f&&(a.f[b]=c)}function oa(a,b,c){a.c[b]||(a.c[b]=[]);a.c[b].push(c);a.f&&delete a.f[b]}function pa(a,b){delete a.c[b];a.f&&delete a.f[b]}function y(a,b){a.xa=b;a.q=function(){return a.ra||(new a).q()}}function A(){r.apply(this)}p(A,r);function B(){r.apply(this)}p(B,r);function C(){r.apply(this)}p(C,r);C.prototype.sa=function(){return t(this,10)};C.prototype.k=function(){return w(this,10)};C.prototype.aa=function(a){u(this,10,a)};function D(){r.apply(this)}p(D,r);D.prototype.getMetadata=function(a){return t(this,1,a)};y(A,{0:{name:"NumberFormat",ca:"i18n.phonenumbers.NumberFormat"},1:{name:"pattern",required:!0,a:9,type:String},2:{name:"format",required:!0,a:9,type:String},3:{name:"leading_digits_pattern",fa:!0,a:9,type:String},4:{name:"national_prefix_formatting_rule",a:9,type:String},6:{name:"national_prefix_optional_when_formatting",a:8,type:Boolean},5:{name:"domestic_carrier_code_formatting_rule",a:9,type:String}});y(B,{0:{name:"PhoneNumberDesc",ca:"i18n.phonenumbers.PhoneNumberDesc"},2:{name:"national_number_pattern",a:9,type:String},3:{name:"possible_number_pattern",a:9,type:String},6:{name:"example_number",a:9,type:String}});y(C,{0:{name:"PhoneMetadata",ca:"i18n.phonenumbers.PhoneMetadata"},1:{name:"general_desc",required:!0,a:11,type:B},2:{name:"fixed_line",required:!0,a:11,type:B},3:{name:"mobile",required:!0,a:11,type:B},4:{name:"toll_free",required:!0,a:11,type:B},5:{name:"premium_rate",required:!0,a:11,type:B},6:{name:"shared_cost",required:!0,a:11,type:B},7:{name:"personal_number",required:!0,a:11,type:B},8:{name:"voip",required:!0,a:11,type:B},21:{name:"pager",required:!0,a:11,type:B},25:{name:"uan",required:!0,a:11,type:B},27:{name:"emergency",required:!0,a:11,type:B},28:{name:"voicemail",required:!0,a:11,type:B},24:{name:"no_international_dialling",required:!0,a:11,type:B},9:{name:"id",required:!0,a:9,type:String},10:{name:"country_code",required:!0,a:5,type:Number},11:{name:"international_prefix",required:!0,a:9,type:String},17:{name:"preferred_international_prefix",a:9,type:String},12:{name:"national_prefix",a:9,type:String},13:{name:"preferred_extn_prefix",a:9,type:String},15:{name:"national_prefix_for_parsing",a:9,type:String},16:{name:"national_prefix_transform_rule",a:9,type:String},18:{name:"same_mobile_and_fixed_line_pattern",a:8,defaultValue:!1,type:Boolean},19:{name:"number_format",fa:!0,a:11,type:A},20:{name:"intl_number_format",fa:!0,a:11,type:A},22:{name:"main_country_for_code",a:8,defaultValue:!1,type:Boolean},23:{name:"leading_digits",a:9,type:String},26:{name:"leading_zero_possible",a:8,defaultValue:!1,type:Boolean}});y(D,{0:{name:"PhoneMetadataCollection",ca:"i18n.phonenumbers.PhoneMetadataCollection"},1:{name:"metadata",fa:!0,a:11,type:C}});function E(){r.apply(this)}p(E,r);E.prototype.sa=function(){return t(this,1)};E.prototype.k=function(){return w(this,1)};E.prototype.aa=function(a){u(this,1,a)};E.prototype.getExtension=function(){return t(this,3)};y(E,{0:{name:"PhoneNumber",ca:"i18n.phonenumbers.PhoneNumber"},1:{name:"country_code",required:!0,a:5,type:Number},2:{name:"national_number",required:!0,a:4,type:Number},3:{name:"extension",a:9,type:String},4:{name:"italian_leading_zero",a:8,type:Boolean},8:{name:"number_of_leading_zeros",a:5,defaultValue:1,type:Number},5:{name:"raw_input",a:9,type:String},6:{name:"country_code_source",a:14,defaultValue:1,type:{Da:1,Ca:5,Ba:10,Aa:20}},7:{name:"preferred_domestic_carrier_code",a:9,type:String}});function F(){}F.prototype.v=function(a){new a.ua;throw Error("Unimplemented")};F.prototype.da=function(a,b){if(11==a.o||10==a.o)return b instanceof r?b:this.v(a.oa.q(),b);if(14==a.o||!a.ka)return b;var c=a.oa;if(c===String){if("number"==typeof b)return String(b)}else if(c===Number&&"string"==typeof b&&("Infinity"===b||"-Infinity"===b||"NaN"===b||/^-?[0-9]+$/.test(b)))return Number(b);return b};function G(){}p(G,F);G.prototype.v=function(a,b){var c=new a.ua;c.ma=this;c.c=b;c.f={};return c};function H(){}p(H,G);H.prototype.za=!1;H.prototype.da=function(a,b){return 8==a.o?!!b:F.prototype.da.apply(this,arguments)};H.prototype.v=function(a,b){var c=b;if(this.za){var c=[],d;for(d in b)c[parseInt(d,10)+1]=b[d]}return H.ya.v.call(this,a,c)};var I={1:["US"]},ra={US:[,[,,"[2-9]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[4589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[036]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[4589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[036]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"US",1,"011","1",,,"1",,,1,[[,"(\\d{3})(\\d{4})","$1-$2",,"","",1],[,"(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",,"","",1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3"]],[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]]};function J(){this.va={}}J.r=function(){return J.ta?J.ta:J.ta=new J};var K={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"},sa={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"},ta=RegExp("[+＋]+"),L=RegExp("^[+＋]+"),ua=RegExp("([0-9０-９٠-٩۰-۹])"),va=RegExp("[+＋0-9０-９٠-٩۰-۹]"),wa=/[\\\/] *x/,xa=RegExp("[^0-9０-９٠-٩۰-۹A-Za-z#]+$"),ya=/(?:.*?[A-Za-z]){3}.*/,za=RegExp("(?:;ext=([0-9０-９٠-٩۰-۹]{1,7})|[  \\t,]*(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|[,xｘ#＃~～]|int|anexo|ｉｎｔ)[:\\.．]?[  \\t,-]*([0-9０-９٠-٩۰-۹]{1,7})#?|[- ]+([0-9０-９٠-٩۰-۹]{1,5})#)$","i"),Aa=RegExp("^[0-9０-９٠-٩۰-۹]{2}$|^[+＋]*(?:[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～*]*[0-9０-９٠-٩۰-۹]){3,}[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～*A-Za-z0-9０-９٠-٩۰-۹]*(?:;ext=([0-9０-９٠-٩۰-۹]{1,7})|[  \\t,]*(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|[,xｘ#＃~～]|int|anexo|ｉｎｔ)[:\\.．]?[  \\t,-]*([0-9０-９٠-٩۰-۹]{1,7})#?|[- ]+([0-9０-９٠-٩۰-۹]{1,5})#)?$","i"),Ba=/(\$\d)/,Ca=/^\(?\$1\)?$/;function Da(a){var b=a.search(va);0<=b?(a=a.substring(b),a=a.replace(xa,""),b=a.search(wa),0<=b&&(a=a.substring(0,b))):a="";return a}function Ea(a){return 2>a.length?!1:M(Aa,a)}function Fa(a){return M(ya,a)?N(a,sa):N(a,K)}function Ga(a){var b=Fa(a.toString());a.clear();a.append(b)}function N(a,b){for(var c=new q,d,e=a.length,f=0;f<e;++f)d=a.charAt(f),d=b[d.toUpperCase()],null!=d&&c.append(d);return c.toString()}function O(a){return null!=a&&isNaN(a)&&a.toUpperCase()in ra}J.prototype.format=function(a,b){if(0==t(a,2)&&null!=a.c[5]){var c=w(a,5);if(0<c.length)return c}var c=a.k(),d=P(a);if(0==b)return Ha(c,0,d,"");if(!(c in I))return d;var e=Q(this,c,R(c)),f;f=null!=a.c[3]&&0!=a.getExtension().length?3==b?";ext="+a.getExtension():null!=e.c[13]?t(e,13)+w(a,3):" ext. "+w(a,3):"";a:{for(var e=0==(v(e,20)||[]).length||2==b?v(e,19)||[]:v(e,20)||[],g,h=e.length,l=0;l<h;++l){g=e[l];var m=x(g,3);if(0==m||0==d.search(t(g,3,m-1)))if(m=new RegExp(t(g,1)),M(m,d)){e=g;break a}}e=null}null!=e&&(h=e,e=w(h,2),g=new RegExp(t(h,1)),w(h,5),l="",h=w(h,4),l=2==b&&null!=h&&0<h.length?d.replace(g,e.replace(Ba,h)):d.replace(g,e),3==b&&(l=l.replace(RegExp("^[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～]+"),""),l=l.replace(RegExp("[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～]+","g"),"-")),d=l);return Ha(c,b,d,f)};function Q(a,b,c){return"001"==c?S(a,""+b):S(a,c)}function P(a){var b=""+t(a,2);return null!=a.c[4]&&t(a,4)?Array(w(a,8)+1).join("0")+b:b}function Ha(a,b,c,d){switch(b){case 0:return"+"+a+c+d;case 1:return"+"+a+" "+c+d;case 3:return"tel:+"+a+"-"+c+d;default:return c+d}}function Ia(a,b){switch(b){case 4:return t(a,5);case 3:return t(a,4);case 1:return t(a,3);case 0:case 2:return t(a,2);case 5:return t(a,6);case 6:return t(a,8);case 7:return t(a,7);case 8:return t(a,21);case 9:return t(a,25);case 10:return t(a,28);default:return t(a,1)}}function T(a,b){return U(a,t(b,1))?U(a,t(b,5))?4:U(a,t(b,4))?3:U(a,t(b,6))?5:U(a,t(b,8))?6:U(a,t(b,7))?7:U(a,t(b,21))?8:U(a,t(b,25))?9:U(a,t(b,28))?10:U(a,t(b,2))?t(b,18)||U(a,t(b,3))?2:0:!t(b,18)&&U(a,t(b,3))?1:-1:-1}function S(a,b){if(null==b)return null;b=b.toUpperCase();var c=a.va[b];if(null==c){c=ra[b];if(null==c)return null;c=(new H).v(C.q(),c);a.va[b]=c}return c}function U(a,b){return M(w(b,3),a)&&M(w(b,2),a)}function Ja(a,b){if(null==b)return null;var c=b.k(),c=I[c];if(null==c)c=null;else if(1==c.length)c=c[0];else a:{for(var d=P(b),e,f=c.length,g=0;g<f;g++){e=c[g];var h=S(a,e);if(null!=h.c[23]){if(0==d.search(t(h,23))){c=e;break a}}else if(-1!=T(d,h)){c=e;break a}}c=null}return c}function R(a){a=I[a];return null==a?"ZZ":a[0]}function Ka(a,b){var c=S(a,b);if(null==c)throw"Invalid region code: "+b;return c.k()}function V(a,b){return M(a,b)?0:0==b.search(a)?3:2}function La(a,b){var c=a.toString();if(0==c.length||"0"==c.charAt(0))return 0;for(var d,e=c.length,f=1;3>=f&&f<=e;++f)if(d=parseInt(c.substring(0,f),10),d in I)return b.append(c.substring(f)),d;return 0}function Ma(a,b,c,d,e){if(0==a.length)return 0;a=new q(a);var f;null!=b&&(f=t(b,11));null==f&&(f="NonMatch");var g=a.toString();if(0==g.length)f=20;else if(L.test(g))g=g.replace(L,""),a.clear(),a.append(Fa(g)),f=1;else{g=new RegExp(f);Ga(a);f=a.toString();if(0==f.search(g)){var g=f.match(g)[0].length,h=f.substring(g).match(ua);h&&null!=h[1]&&0<h[1].length&&"0"==N(h[1],K)?f=!1:(a.clear(),a.append(f.substring(g)),f=!0)}else f=!1;f=f?5:20}d&&u(e,6,f);if(20!=f){if(2>=a.e.length)throw"Phone number too short after IDD";c=La(a,c);if(0!=c)return e.aa(c),c;throw"Invalid country calling code"}if(null!=b&&(f=b.k(),g=""+f,h=a.toString(),0==h.lastIndexOf(g,0))){var l=new q(h.substring(g.length)),h=t(b,1),g=new RegExp(w(h,2));Na(l,b,null);b=l.toString();h=w(h,3);if(!M(g,a.toString())&&M(g,b)||3==V(h,a.toString()))return c.append(b),d&&u(e,6,10),e.aa(f),f}e.aa(0);return 0}function Na(a,b,c){var d=a.toString(),e=d.length,f=t(b,15);if(0!=e&&null!=f&&0!=f.length&&(f=new RegExp("^(?:"+f+")"),e=f.exec(d))){var g=RegExp,h;h=t(b,1);h=w(h,2);g=new g(h);h=M(g,d);var l=e.length-1;b=t(b,16);if(null==b||0==b.length||null==e[l]||0==e[l].length){if(!h||M(g,d.substring(e[0].length)))null!=c&&0<l&&null!=e[l]&&c.append(e[1]),a.set(d.substring(e[0].length))}else if(d=d.replace(f,b),!h||M(g,d))null!=c&&0<l&&c.append(e[1]),a.set(d)}}J.prototype.parse=function(a,b){return Oa(this,a,b,!1)};function W(a,b,c){if(!O(c)&&0<b.length&&"+"!=b.charAt(0))throw"Invalid country calling code";return Oa(a,b,c,!0)}function Oa(a,b,c,d){if(null==b)throw"The string supplied did not seem to be a phone number";if(250<b.length)throw"The string supplied is too long to be a phone number";var e=new q,f=b.indexOf(";phone-context=");if(0<f){var g=f+15;if("+"==b.charAt(g)){var h=b.indexOf(";",g);0<h?e.append(b.substring(g,h)):e.append(b.substring(g))}g=b.indexOf("tel:");e.append(b.substring(0<=g?g+4:0,f))}else e.append(Da(b));f=e.toString();g=f.indexOf(";isub=");0<g&&(e.clear(),e.append(f.substring(0,g)));if(!Ea(e.toString()))throw"The string supplied did not seem to be a phone number";f=e.toString();if(!(O(c)||null!=f&&0<f.length&&L.test(f)))throw"Invalid country calling code";f=new E;d&&u(f,5,b);a:{b=e.toString();g=b.search(za);if(0<=g&&Ea(b.substring(0,g)))for(var h=b.match(za),l=h.length,m=1;m<l;++m)if(null!=h[m]&&0<h[m].length){e.clear();e.append(b.substring(0,g));b=h[m];break a}b=""}0<b.length&&u(f,3,b);g=S(a,c);b=new q;h=0;l=e.toString();try{h=Ma(l,g,b,d,f)}catch(z){if("Invalid country calling code"==z&&L.test(l)){if(l=l.replace(L,""),h=Ma(l,g,b,d,f),0==h)throw z}else throw z}0!=h?(e=R(h),e!=c&&(g=Q(a,h,e))):(Ga(e),b.append(e.toString()),null!=c?(h=g.k(),f.aa(h)):d&&pa(f,6));if(2>b.e.length)throw"The string supplied is too short to be a phone number";null!=g&&(a=new q,c=new q(b.toString()),Na(c,g,a),e=c.toString(),g=t(g,1),g=w(g,3),2!=V(g,e)&&(b=c,d&&u(f,7,a.toString())));d=b.toString();a=d.length;if(2>a)throw"The string supplied is too short to be a phone number";if(17<a)throw"The string supplied is too long to be a phone number";if(1<d.length&&"0"==d.charAt(0)){u(f,4,!0);for(a=1;a<d.length-1&&"0"==d.charAt(a);)a++;1!=a&&u(f,8,a)}u(f,2,parseInt(d,10));return f}function M(a,b){var c="string"==typeof a?b.match("^(?:"+a+")$"):b.match(a);return c&&c[0].length==b.length?!0:!1}function Pa(a){this.qa=" ";this.ha=new RegExp(this.qa);this.ia="";this.p=new q;this.ba="";this.j=new q;this.t=new q;this.l=!0;this.w=this.s=this.la=!1;this.pa=J.r();this.$=0;this.d=new q;this.ga=!1;this.n="";this.b=new q;this.g=[];this.ja=a;this.wa=this.h=X(this,this.ja)}var Qa=new C;u(Qa,11,"NA");var Ra=/\[([^\[\]])*\]/g,Sa=/\d(?=[^,}][^,}])/g,Ta=RegExp("^[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～]*(\\$\\d[-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～]*)+$"),Ua=/[- ]/;function X(a,b){var c=O(b)?Ka(a.pa,b):0,c=S(a.pa,R(c));return null!=c?c:Qa}function Va(a){for(var b=a.g.length,c=0;c<b;++c){var d=a.g[c],e=w(d,1);if(a.ba==e)return!1;var f;f=a;var g=d,h=w(g,1);if(-1!=h.indexOf("|"))f=!1;else{h=h.replace(Ra,"\\d");h=h.replace(Sa,"\\d");f.p.clear();var l;l=f;var g=w(g,2),m="999999999999999".match(h)[0];m.length<l.b.e.length?l="":(h=m.replace(new RegExp(h,"g"),g),l=h=h.replace(RegExp("9","g"),l.qa));0<l.length?(f.p.append(l),f=!0):f=!1}if(f)return a.ba=e,a.ga=Ua.test(t(d,4)),a.$=0,!0}return a.l=!1}function Wa(a,b){for(var c=[],d=b.length-3,e=a.g.length,f=0;f<e;++f){var g=a.g[f];if(0==x(g,3))c.push(a.g[f]);else{var h=Math.min(d,x(g,3)-1),g=t(g,3,h);0==b.search(g)&&c.push(a.g[f])}}a.g=c}Pa.prototype.clear=function(){this.ia="";this.j.clear();this.t.clear();this.p.clear();this.$=0;this.ba="";this.d.clear();this.n="";this.b.clear();this.l=!0;this.w=this.s=this.la=!1;this.g=[];this.ga=!1;this.h!=this.wa&&(this.h=X(this,this.ja))};function Xa(a,b){a.ia=Ya(a,b);return a.ia}function Ya(a,b){a.j.append(b);var c=b;if(ua.test(c)||1==a.j.e.length&&ta.test(c)){var c=b,d;"+"==c?(d=c,a.t.append(c)):(d=K[c],a.t.append(d),a.b.append(d));b=d}else a.l=!1,a.la=!0;if(!a.l){if(!a.la)if(Za(a)){if($a(a))return ab(a)}else if(0<a.n.length&&(c=a.b.toString(),a.b.clear(),a.b.append(a.n),a.b.append(c),c=a.d.toString(),d=c.lastIndexOf(a.n),a.d.clear(),a.d.append(c.substring(0,d))),a.n!=bb(a))return a.d.append(" "),ab(a);return a.j.toString()}switch(a.t.e.length){case 0:case 1:case 2:return a.j.toString();case 3:if(Za(a))a.w=!0;else return a.n=bb(a),Y(a);default:if(a.w)return $a(a)&&(a.w=!1),a.d.toString()+a.b.toString();if(0<a.g.length){c=cb(a,b);d=db(a);if(0<d.length)return d;Wa(a,a.b.toString());return Va(a)?eb(a):a.l?Z(a,c):a.j.toString()}return Y(a)}}function ab(a){a.l=!0;a.w=!1;a.g=[];return Y(a)}function db(a){for(var b=a.b.toString(),c=a.g.length,d=0;d<c;++d){var e=a.g[d],f=w(e,1);if(new RegExp("^(?:"+f+")$").test(b))return a.ga=Ua.test(t(e,4)),b=b.replace(new RegExp(f,"g"),t(e,2)),Z(a,b)}return""}function Z(a,b){var c=a.d.e.length;return a.ga&&0<c&&" "!=a.d.toString().charAt(c-1)?a.d+" "+b:a.d+b}function Y(a){var b=a.b.toString();if(3<=b.length){for(var c=a.s&&0<x(a.h,20)?v(a.h,20)||[]:v(a.h,19)||[],d=c.length,e=0;e<d;++e){var f=c[e],g;(g=null==a.h.c[12]||a.s||t(f,6))||(g=w(f,4),g=0==g.length||Ca.test(g));g&&(g=w(f,2),Ta.test(g)&&a.g.push(f))}Wa(a,b);b=db(a);return 0<b.length?b:Va(a)?eb(a):a.j.toString()}return Z(a,b)}function eb(a){var b=a.b.toString(),c=b.length;if(0<c){for(var d="",e=0;e<c;e++)d=cb(a,b.charAt(e));return a.l?Z(a,d):a.j.toString()}return a.d.toString()}function bb(a){var b=a.b.toString(),c=0,d;1!=a.h.sa()?d=!1:(d=a.b.toString(),d="1"==d.charAt(0)&&"0"!=d.charAt(1)&&"1"!=d.charAt(1));d?(c=1,a.d.append("1").append(" "),a.s=!0):null!=a.h.c[15]&&(d=new RegExp("^(?:"+t(a.h,15)+")"),d=b.match(d),null!=d&&null!=d[0]&&0<d[0].length&&(a.s=!0,c=d[0].length,a.d.append(b.substring(0,c))));a.b.clear();a.b.append(b.substring(c));return b.substring(0,c)}function Za(a){var b=a.t.toString(),c=new RegExp("^(?:\\+|"+t(a.h,11)+")"),c=b.match(c);return null!=c&&null!=c[0]&&0<c[0].length?(a.s=!0,c=c[0].length,a.b.clear(),a.b.append(b.substring(c)),a.d.clear(),a.d.append(b.substring(0,c)),"+"!=b.charAt(0)&&a.d.append(" "),!0):!1}function $a(a){if(0==a.b.e.length)return!1;var b=new q,c=La(a.b,b);if(0==c)return!1;a.b.clear();a.b.append(b.toString());b=R(c);"001"==b?a.h=S(a.pa,""+c):b!=a.ja&&(a.h=X(a,b));a.d.append(""+c).append(" ");a.n="";return!0}function cb(a,b){var c=a.p.toString();if(0<=c.substring(a.$).search(a.ha)){var d=c.search(a.ha),c=c.replace(a.ha,b);a.p.clear();a.p.append(c);a.$=d;return c.substring(0,a.$+1)}1==a.g.length&&(a.l=!1);a.ba="";return a.j.toString()}n("intlTelInputUtils",{});n("intlTelInputUtils.formatNumber",function(a,b,c,d,e){try{var f=a.replace(/\D/g,""),g=new Pa(b);b="";var h;"+"==a.substr(0,1)&&(f="+"+f);for(var l=0;l<f.length;l++){h=Xa(g,f.charAt(l));if(d&&b&&h.length<=b.length&&-1==h.indexOf(" ")){h=-1;break}b=h}" "==b.charAt(b.length-1)&&(b=b.substr(0,b.length-1));if(c){var m=Xa(g,"5");" "==m.charAt(m.length-1)&&(m=m.substr(0,m.length-1));if(isNaN(parseFloat(m.substr(m.length-2,1))))return m.substr(0,m.length-1);if(d&&b&&m.length<=b.length&&-1==m.indexOf(" ")&&!e)return b+" ext. "}-1==h&&(b+=" ext. "+f.substring(l,f.length));return b}catch(z){return a}});n("intlTelInputUtils.formatNumberByType",function(a,b,c){try{var d=J.r(),e=W(d,a,b);return d.format(e,"undefined"==typeof c?0:c)}catch(f){return""}});n("intlTelInputUtils.getExampleNumber",function(a,b,c){try{var d=J.r(),e;a:{if(O(a)){var f=Ia(S(d,a),c);try{if(null!=f.c[6]){e=d.parse(w(f,6),a);break a}}catch(g){}}e=null}return d.format(e,b?2:1)}catch(h){return""}});n("intlTelInputUtils.getNumberType",function(a,b){try{var c=J.r(),d;var e=W(c,a,b),f=Ja(c,e),g=Q(c,e.k(),f);if(null==g)d=-1;else{var h=P(e);d=T(h,g)}return d}catch(l){return-99}});n("intlTelInputUtils.getValidationError",function(a,b){try{var c=J.r(),d;var e=W(c,a,b),f=P(e),g=e.k();if(g in I){var h,l=Q(c,g,R(g));h=t(l,1);var m=w(h,3);d=V(m,f)}else d=1;return d}catch(z){return"Invalid country calling code"==z?1:"The string supplied did not seem to be a phone number"==z?4:"Phone number too short after IDD"==z||"The string supplied is too short to be a phone number"==z?2:"The string supplied is too long to be a phone number"==z?3:-99}});n("intlTelInputUtils.isValidNumber",function(a,b){try{var c=J.r(),d=W(c,a,b),e;var f=Ja(c,d),g=d.k(),h=Q(c,g,f);if(null==h||"001"!=f&&g!=Ka(c,f))e=!1;else{var l=P(d);e=-1!=T(l,h)}return e}catch(m){return!1}});n("intlTelInputUtils.numberType",{FIXED_LINE:0,MOBILE:1,FIXED_LINE_OR_MOBILE:2,TOLL_FREE:3,PREMIUM_RATE:4,SHARED_COST:5,VOIP:6,PERSONAL_NUMBER:7,PAGER:8,UAN:9,VOICEMAIL:10,UNKNOWN:-1});n("intlTelInputUtils.validationError",{IS_POSSIBLE:0,INVALID_COUNTRY_CODE:1,TOO_SHORT:2,TOO_LONG:3,NOT_A_NUMBER:4});n("intlTelInputUtils.numberFormat",{E164:0,INTERNATIONAL:1,NATIONAL:2,RFC3966:3})})();if(typeof angular==="undefined"){throw new Error("Angular is required to use any of the util services")}var utilServices=angular.module("utilServices",[]);utilServices.filter("truncate",function(){return function(text,length,end){if(typeof text=="undefined"){return""}if(isNaN(length))length=10;if(end===undefined)end="...";if(text.length<=length||text.length-end.length<=length){return text}else{return String(text).substring(0,length-end.length)+end}}});utilServices.directive("errSrc",function(){return{scope:{errSrc:"&"},link:function(scope,element,attrs){element.bind("error",function(){element.attr("src","/img/reviewer_nothumb.gif");element.attr("alt","")})}}});String.prototype.upperFirst=function(){var str=this;return str.substr(0,1).toUpperCase()+str.substr(1,str.length)};if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the dispatcher")}utilServices.service("dispatcher",function(){return{callbacks:[],dispatch:function(action,data){var payload={action:action,data:data};this.callbacks.forEach(function(callback){callback.callback.apply(callback.service,[payload])})},register:function(callback,service){this.callbacks.push({callback:callback,service:service});return this.callbacks.length-1}}});var DataStore=new function(){$=jQuery.noConflict();return{rows:{},collections:{},create:function(config){if(typeof config==="undefined"){throw new Error("Invalid store configuration, please supply a valid Javascript Object")}var tmp={};jQuery.extend(true,tmp,this,config);return tmp},listen:function(event,callback){$(window).on(event,callback)},stopListen:function(event,callback){$(window).off(event,callback)},emit:function(event,data){$(window).trigger(event,[data])},_merge:function(obj1,obj2,depth){if(typeof depth==="undefined"){depth=1}var $me=this;if(depth===4){return obj2}for(var p in obj2){try{if(obj2[p].constructor===Object){obj1[p]=$me._merge(obj1[p],obj2[p],depth+1)}else{obj1[p]=obj2[p]}}catch(e){obj1[p]=obj2[p]}}return obj1},clear:function(model){this.rows[model]=[]},upsertRow:function(model,key_field,key_value,newRow){var bUpdated=false;var toReturn=newRow;if(typeof this.rows[model]==="undefined"){this.rows[model]=[]}var rows=this.rows[model];var $me=this;rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]===key_value){if(typeof rows[index]==="undefined"){rows[index]={}}rows[index]=$me._merge(rows[index],newRow);toReturn=rows[index];bUpdated=true}});if(!bUpdated){newRow[key_field]=key_value;this.rows[model].push(newRow)}return toReturn},upsertCollection:function(model,objectPrimaryKey,rawCollection,objectSchema){if(typeof this.collections[model]==="undefined"){this.collections[model]=this.sanitize(rawCollection,this.schema.Collection(objectSchema))}var $me=this;var storeCollection=this.collections[model];storeCollection.total=rawCollection.total;storeCollection.limit=typeof rawCollection.limit!=="undefined"?rawCollection.limit:storeCollection.limit;var old_page=storeCollection.page;storeCollection.page=typeof rawCollection.offset!=="undefined"?rawCollection.offset/storeCollection.limit:storeCollection.page;var newRecords=[];var rows=this.getRows(model);var matchedRows=[];rawCollection.rows.forEach(function(rawRow){var sanitizedRow=$me.sanitize(rawRow,objectSchema);var exists=false;rows.forEach(function(row,index){if(sanitizedRow[objectPrimaryKey]==row[objectPrimaryKey]){rows[index]=sanitizedRow;exists=true}});if(!exists){newRecords.push(sanitizedRow)}storeCollection.upsertRow(objectPrimaryKey,sanitizedRow[objectPrimaryKey],sanitizedRow,objectSchema);matchedRows.push(sanitizedRow)});rows=rows.concat(newRecords);this.rows[model]=rows;storeCollection.page=old_page;this.collections[model]=storeCollection},getCollection:function(model,config){if(typeof this.collections[model]==="undefined"){this.collections[model]=this.sanitize({},this.schema.Collection(false))}if(typeof config!=="undefined"){this.collections[model]=this.collections[model].create(config)}return this.collections[model]},replaceRow:function(model,key_field,key_value,newRow){var bUpdated=false;if(typeof this.rows[model]==="undefined"){this.rows[model]=[]}var rows=this.rows[model];var $me=this;rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]===key_value){if(typeof rows[index]==="undefined"){rows[index]={}}rows[index]=newRow;bUpdated=true}});if(!bUpdated){this.rows[model].push(newRow)}},removeRow:function(model,key_field,key_value){if(typeof this.rows[model]==="undefined"){return}var rows=this.rows[model];var indexes=[];rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]==key_value){indexes.push(index)}});if(indexes.length===0){return}for(i=0;i<indexes.length;i++){this.rows[model].splice(indexes[i],1)}},getRows:function(model,slice){if(typeof this.rows[model]!=="undefined"){return typeof slice!=="undefined"&&!slice?this.rows[model]:this.rows[model].slice(0)}return[]},sanitizeAndValidate:function(obj,schema){var model=this.sanitize(obj,schema);var validation=this.validate(model,schema);if(validation===true){return model}return validation},validate:function(obj,schema){var errors=[];for(var field in schema){if(typeof schema[field].validation!=="undefined"){var bError=false;for(var validation in schema[field].validation){if(errors.length>0){continue}var value=obj[field];if(typeof schema[field].label!=="undefined"){var label=schema[field].label}else{var label=field.split("_").map(function(p){return p.substr(0,1).toUpperCase()+p.substr(1)}).join(" ")}switch(validation){case"required":if(typeof value==="undefined"||value===null||value===""){errors.push(label+" is required")}break;case"minLength":if(value.length!==0&&value.length<schema[field].validation[validation]){errors.push(label+" must be at least "+schema[field].validation[validation]+" characters")}break;case"maxLength":if(value.length!==0&&value.length>schema[field].validation[validation]){errors.push(label+" must be at under "+schema[field].validation[validation]+" characters")}break;case"email":var pattern=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(value.length!==0&&!pattern.test(value)){errors.push(label+" must be a valid email characters")}break;case"phone":var pattern=/^\+?[\d() -]{8,15}$/;if(value.length!==0&&!pattern.test(value)){errors.push(label+" must be a valid phone number")}default:if(typeof schema[field].validation[validation]==="function"){var results=schema[field].validation[validation](value);if(results!==true){errors=errors.concat(results)}}break}}}}if(errors.length>0){return errors}return true},base64Encode:function(str){return window.btoa(unescape(encodeURIComponent(str)))},base64Decode:function(str){return decodeURIComponent(escape(window.atob(str)))},sanitize:function(obj,schema){var clean={};var tmp=jQuery.extend(true,{},obj);for(var field in schema){clean[field]=this._sanitizeField(field,tmp,schema)}return clean},_sanitizeField:function(field,obj,schema){if(schema[field].type==="function"){return typeof obj[field]!=="undefined"?obj[field]:schema[field].value}if(typeof obj[field]==="undefined"){if(typeof schema[field]["initial"]!=="undefined"){obj[field]=schema[field]["initial"]()}else{obj[field]=null}}var type=schema[field]["type"];if(obj[field]===null&&type!=="obj"&&type!=="object"){return null}schema[field].field=field;switch(type){case"int":case"integer":return this._sanitizeInteger(obj[field],schema[field]);case"float":case"double":return this._sanitizeFloat(obj[field],schema[field]);case"string":case"char":case"varchar":return this._sanitizeString(obj[field],schema[field]);case"date":case"datetime":case"timestamp":return this._sanitizeDateTime(obj[field],schema[field]);case"bool":case"boolean":return this._sanitizeBoolean(obj[field],schema[field],field);case"obj":case"object":return this._sanitizeObject(obj[field],schema[field]);case"array":case"collection":return this._sanitizeArray(obj[field],schema[field]);case"phone":return this._sanitizePhone(obj[field],schema[field]);case"callback":return this._sanitizeCallback(obj[field],schema[field],field)}},_sanitizeInteger:function(value,schemaConfig){if(typeof value==="string"&&value.indexOf(" ")>=0){value=value.replace(/ /g,"")}value=parseInt(value);if(typeof schemaConfig.min!=="undefined"&&value<schemaConfig.min){throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed")}if(typeof schemaConfig.max!=="undefined"&&value>schemaConfig.max){throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed")}return value},_sanitizeFloat:function(value,schemaConfig){value=parseFloat(value);if(typeof schemaConfig.min!=="undefined"&&value<schemaConfig.min){throw new Error("Provided value cannot be sanitized, value is below minimum float allowed")}if(typeof schemaConfig.max!=="undefined"&&value>schemaConfig.max){throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed")}return value},_sanitizeString:function(value,schemaConfig){value=String(value);if(typeof schemaConfig.maxLength!=="undefined"&&value.length>schemaConfig.maxLength){console.warn("Value was truncated during sanitation");value=value.substr(0,schemaConfig.maxLength)}return value},_sanitizeCallback:function(value,schemaConfig,field){if(typeof value!=="function"){console.warn(field+" does not have a valid callback");value=null}return value},_sanitizeDateTime:function(value,schemaConfig){if(moment.isMoment(value)){return value}if(moment(value,schemaConfig.format).isValid()){return moment(value)}console.error("Provided value ("+value+") cannot be sanitized for field ("+schemaConfig.field+"), is not a valid date");return null},_sanitizeBoolean:function(value,schemaConfig,field){if(value===false||value===true){return value}if(typeof value=="string"){if(value.toLowerCase().trim()==="false"){return false}if(value.toLowerCase().trim()==="true"){return true}}if(parseInt(value)===0){return false}if(parseInt(value)===1){return true}throw new Error("Provided value ("+value+") for field ("+field+") cannot be santized, is not a valid boolean")},_sanitizeObject:function(value,schemaConfig){if(typeof schemaConfig.schema==="undefined"){throw new Error("Provided value cannot be santized, no reference schema provided for field type of object")}if(schemaConfig.schema===null){return value}if(value===null){value={}}return this.sanitize(value,schemaConfig.schema())},_sanitizeArray:function(value,schemaConfig){if(typeof schemaConfig.schema==="undefined"||schemaConfig.schema===null||schemaConfig.schema===false){return value}if(typeof value.length==="undefined"){return[]}var $me=this;return value.map(function(v){return $me.sanitize(v,schemaConfig.schema())})},_sanitizePhone:function(value,schemaConfig){if(typeof value==="undefined"||value.length===0){return""}value=value.replace(/\D/g,"");var tel=intlTelInputUtils.formatNumber(value,"US");return tel},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})},schema:{Collection:function(object_schema){return{limit:{type:"int",initial:function(){return 25}},page:{type:"int",initial:function(){return 0}},setPage:{type:"function",value:function(page){this.page=parseInt(page);this.load();this.onUpdate()}},total_pages:{type:"int",initial:function(){return 0}},load:{type:"function",value:function(){console.warn('Non overloaded "load" function in collection')}},onUpdate:{type:"function",value:function(){console.warn('Non overloaded "onUpdate" function in collection')}},getOffset:{type:"function",value:function(){return this.limit*this.page}},hasNext:{type:"function",value:function(e){if(typeof e!=="undefined"&&!(parseInt(this.page)+1<this.getPages())){e.preventDefault()}return parseInt(this.page)+1<this.getPages()}},getNextUrl:{type:"function",value:function(base_url){return"#/"+base_url+"/"+(parseInt(this.page)+1)}},hasPrev:{type:"function",value:function(e){if(typeof e!=="undefined"&&!(this.page>0)){e.preventDefault()}return this.page>0}},getPrevUrl:{type:"function",value:function(base_url){return"#/"+base_url+"/"+(parseInt(this.page)-1)}},getPages:{type:"function",value:function(){return Math.ceil(this.total/this.limit)}},getSliceEnd:{type:"function",value:function(){return this.getOffset()+this.limit}},filter:{type:"function",value:function(a){return true}},find:{type:"function",value:function(filter){var rows=this.rows.filter(filter);if(rows.length===0){return false}if(rows.length===1){return rows[0]}return rows}},_schema:object_schema,rows:{type:"array",schema:function(){return object_schema},initial:function(){return[]}},getRows:{type:"function",value:function(){var rows=this.rows.slice(0);for(var i=0;i<rows.length;i++){if(typeof rows[i]==="undefined"){rows[i]=DataStore.sanitize({},object_schema)}}return rows.filter(this.filter).slice(this.getOffset(),this.getSliceEnd())}},total:{type:"int",initial:function(){return 0}},upsertRow:{type:"function",value:function(primaryKey,primaryValue,object,object_schema){var $me=this;var exists=false;var offset=this.getOffset();var rows=this.rows.slice(0);rows.forEach(function(row,index){if(!exists&&row[primaryKey]==object[primaryKey]){$me.rows[index]=DataStore.sanitize(object,object_schema);exists=true}if(index===offset){offset++}});if(!exists){rows[offset]=DataStore.sanitize(object,object_schema)}this.rows=rows}},removeRow:{type:"function",value:function(key_field,key_value){var rows=this.rows;var indexes=[];rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]==key_value){indexes.push(index)}});if(indexes.length===0){return}for(i=0;i<indexes.length;i++){this.rows.splice(indexes[i],1)}}},replaceRow:{type:"function",value:function(key_field,key_value,newRow){var bUpdated=false;var rows=this.rows;var $me=this;rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]===key_value){if(typeof rows[index]==="undefined"){rows[index]={}}$me.rows[index]=newRow;bUpdated=true}});if(!bUpdated){this.rows.push(newRow)}}},clear:{type:"function",value:function(){this.rows=[]}},create:{type:"function",value:function(config){return $.extend(true,this,config)}}}},string:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"string"},params)},int:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"int"},params)},double:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"double"},params)},bool:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"bool"},params)},float:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"float"},params)},array:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"array",schema:null},params)},object:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"object",schema:null},params)},datetime:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"datetime",schema:null},params)},callback:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"callback",schema:null},params)}},collection:new function(){return{create:function(config){var tmp={};$.extend(true,tmp,this,config);return tmp},schema:null,limit:1,page:0,setPage:function(page){this.page=page;if(this.page>=this.getPages()&&this.getPages()!==0){this.page=this.getPages()-1}if(this.page<0){this.page=0}},getPages:function(){return Math.ceil(this.currentTotal/this.limit)},allRows:[],currentTotal:0,matchedRows:[],rows:[],reset:function(){this.page=0;this._dirty=true;this.matchedRows=this.allRows.filter(this.filter.apply(this));this.pageRow[0]=this.matchedRows.slice(0,this.limit);this.onUpdate()},filters:{},filter:function(){var count=0;for(var i in this.filters){count++}if(count>0){return function(filters,a){for(var field in filters){var filter=filters[field];if(typeof a[field]==="undefined"){return false}for(var operator in filter){var value=filter[operator];var success=true;switch(operator){case"eq":if(a[field]!=value){return false}break;case"gt":if(a[field]<=value){return false}break;case"gte":if(a[field]<value){return false}break;case"lt":if(a[field]>=value){return false}break;case"lte":if(a[field]>value){return false}break;case"isNull":if(a[field]!==null){return false}break;case"notNull":if(a[field]===null){return false}break;case"like":if((""+a[field]).toLowerCase().indexOf(value.toLowerCase())===-1){return false}break;case"notLike":if((""+a[field]).toLowerCase().indexOf(value.toLowerCase())!==-1){return false}break;case"custom":if(!value(a)){return false}break}}}return true}.bind(null,this.filters)}return function(){return true}},sort:false,_cache:{},_dirty:false,getAllRows:function(){return this.allRows},pageRow:{},getRows:function(){if(typeof this.search!=="undefined"&&this.search.length===0&&typeof this.pageRow[this.page]!=="undefined"){return this.pageRow[this.page]}return this.matchedRows.slice(this.getOffset(),this.getSliceEnd())},getOffset:function(){return this.limit*this.page},getSliceEnd:function(){return this.getOffset()+this.limit},getRangeOfTotal:function(){if(this.getRows().length===0){return"Showing 0 out of 0"}var currentPageStart=this.getOffset()+1;var currentPageEnd=this.getOffset()+this.getRows().length;var currentTotal=Math.max(this.currentTotal,currentPageEnd);return"Showing "+currentPageStart+" - "+currentPageEnd+" out of "+currentTotal},upsertRow:function(primaryKey,rawRow,fromCollection){if(this.schema!==null){rawRow=DataStore.sanitize(rawRow,this.schema)}var existing=false;var success=false;this.allRows.forEach(function(row){if(row[primaryKey]==rawRow[primaryKey]){row=rawRow;existing=true}});if(!existing){this.allRows.push(rawRow)}if(typeof this.pageRow[fromCollection.page]==="undefined"){this.pageRow[fromCollection.page]=[]}var existing=false;this.pageRow[fromCollection.page].forEach(function(row){if(row[primaryKey]==rawRow[primaryKey]){row=rawRow;existing=true}});if(!existing&&[rawRow].filter(this.filter()).length>0){this.pageRow[fromCollection.page].push(rawRow)}},update:function(){this.matchedRows=this.allRows.filter(this.filter());this.onUpdate();this.emit(this.events.UPDATE.apply(this))},onUpdate:function(){},emit:function(event,data){$(window).trigger(event,data)},listen:function(event,func){$(window).bind(event,func)},ignore:function(event,func){$(window).unbind(event,func)},stopListen:function(event,func){this.ignore(event,func)},updateCurrentCollection:function(primaryKey,collection){this.currentTotal=collection.total;var $me=this;collection.rows.forEach(function(row){$me.upsertRow(primaryKey,row,collection)});this.update()},events:{UPDATE:function(){return this.name+".events.UPDATE"}},hasPrev:function(e){if(typeof e!=="undefined"&&!(this.page>0)){e.preventDefault()}return this.page>0},hasNext:function(e){if(typeof e!=="undefined"&&!(parseInt(this.page)+1<this.getPages())){e.preventDefault()}return parseInt(this.page)+1<this.getPages()},getNextUrl:function(base_url){return"#/"+base_url+"/"+Math.min(parseInt(this.page)+1,this.getPages()-1)},getPrevUrl:function(base_url){return"#/"+base_url+"/"+Math.max(parseInt(this.page)-1,0)},setFilters:function(filters,dirty){this.filters=filters;if(""+this.filters!=""+filters||typeof dirty!=="undefined"&&dirty===true){this.reset()}},setFilter:function(filter,params){this.filters[filter]=params;this.reset()},getFilter:function(filter){if(typeof this.filters[filter]!=="undefined"){return this.filters[filter]}return false},changed:function(){this.update();this.load()}}}}};if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the api service")}utilServices.service("apiService",function($http){return{_buildUrl:function(url,data,query_string){for(var i in data){if(url.indexOf("{"+i+"}")!==-1){url=url.replace("{"+i+"}",data[i]);continue}if(typeof query_string!=="undefined"&&query_string===false){continue}if(url.indexOf("?")!==-1){url+="&"}else{url+="?"}url+=i+"="+data[i]}return url},get:function(url,data,config){return $http.get(this._buildUrl(url,data),config)},patch:function(url,data,config){"use strict";return $http.patch(this._buildUrl(url,data,false),data,config)},post:function(url,data,config){return $http.post(this._buildUrl(url,data,false),data,config)},put:function(url,data,config){return $http.put(this._buildUrl(url,data,false),data,config)},delete:function(url,data,config){return $http.delete(this._buildUrl(url,data),config)},jsonp:function(url,data,config){return $http.jsonp(this._buildUrl(url,data),config)},throttle:function throttle(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}}}});if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the notification service")}utilServices.service("notificationService",function(){var NOTIFICATION_TYPE_SUCCESS="success";var NOTIFICATION_TYPE_ERROR="error";var NOTIFICATION_TYPE_CONFIRM="warning";return DataStore.create({notifications:{},success:function(messages,group,replace,callback,params){if(typeof params!=="object"){params={}}params.showCancelButton=typeof params.showCancelButton!=="undefined"?params.showCancelButton:false;this._notify(NOTIFICATION_TYPE_SUCCESS,messages,group,replace,callback,params)},error:function(messages,group,replace,callback,params){if(typeof params!=="object"){params={}}params.showCancelButton=typeof params.showCancelButton!=="undefined"?params.showCancelButton:false;this._notify(NOTIFICATION_TYPE_ERROR,messages,group,replace,callback,params)},getNotifications:function(group){if(typeof group==="undefined"){return false}return this.notifications[group]},remove:function(group,type,message){if(typeof this.notifications[group]==="undefined"){return}if(typeof this.notifications[group][type]==="undefined"){return}this.notifications[group][type]=this.notifications[group][type].filter(function(message){if(message!==message){return true}return false});this.emit(this.events.UPDATE)},confirm:function(message,callback,params){this._notify("warning",message,null,null,callback,params)},_notify:function(type,messages,group,replace,confirm,params){if(typeof messages==="string"){var messages=[messages]}if(typeof swal!=="undefined"){if(messages.length>0){var config={type:type,text:messages.join("  "),title:this._getTitle(type),showCancelButton:typeof confirm!=="undefined"};if(typeof params==="object"){$.extend(true,config,params)}swal(config,function(isConfirm){if(isConfirm){if(typeof confirm!=="undefined"){confirm()}}})}return}if(typeof messages==="undefined"||typeof messages.length==="undefined"||!messages.length){if(typeof replace!=="undefined"&&replace===true&&typeof this.notifications[group]!=="undefined"){this.notifications[group][type]=[];this.emit(this.events.UPDATE)}return}if(typeof group==="undefined"){throw new Error("Invalid group given for notification services, messages: ["+messages.join(", ")+"]")}var $me=this;messages.forEach(function(message){$me.remove(group,type,message)});var notificationContainer=$('*[data-ch-notifications="'+group+'"]');if(notificationContainer.length===0){group="general"}var visible=false;notificationContainer.each(function(i,node){if(node.offsetParent!==null){visible=true}});if(!visible){group="general"}if(typeof this.notifications[group]==="undefined"){this.notifications[group]={success:[],error:[]}}if(typeof replace!=="undefined"&&replace===true){this.notifications[group][type]=messages}else{this.notifications[group][type]=this.notifications[group][type].concat(messages)}this.emit(this.events.UPDATE)},_getTitle:function(type){switch(type){case NOTIFICATION_TYPE_SUCCESS:return"Success!";case NOTIFICATION_TYPE_ERROR:return"Oops!";case NOTIFICATION_TYPE_CONFIRM:return"Are you sure?";default:return"Hey!"}},events:{UPDATE:"notificationService.events.UPDATE"}})});utilServices.directive("chNotifications",function(notificationService){return{scope:{chNotifications:"@"},controller:function($scope){$scope._notifications={error:[],success:[]};$scope._notificationShowError=false;$scope._notificationShowSuccess=false;$scope.updateNotifications=function(){$scope._notifications=notificationService.getNotifications($scope.chNotifications);if(!$scope._notifications){return}if($scope._notifications.error.length>0){$scope._notificationShowError=true}else{$scope._notificationShowError=false}if($scope._notifications.success.length>0){$scope._notificationShowSuccess=true}else{$scope._notificationShowSuccess=false}};notificationService.listen(notificationService.events.UPDATE,$scope.updateNotifications);$scope.updateNotifications();$scope.hide=function(e,type,message){e.preventDefault();notificationService.remove($scope.chNotifications,type,message)}},replace:true,template:'<div><div data-ng-show="_notificationShowError" class="error follow-message-wrapper" ng-repeat="error in _notifications.error track by $index"><ul class="follow-messages"><li>{[ error ]} <a href="#" data-ng-click="hide($event, \'error\', error);" class="close">&times;</a></li></ul></div>\n                   <div data-ng-show="_notificationShowSuccess" class="status follow-message-wrapper"><ul class="follow-messages"><li ng-repeat="success in _notifications.success track by $index">{[ success ]} <a href="#" data-ng-click="hide($event, \'success\', success);" class="close">&times;</a></li></ul></div></div>'}});(function(window,document,undefined){var modalClass=".ch-alert",overlayClass=".ch-overlay",alertTypes=["error","warning","info","success","input","prompt"],defaultParams={title:"",text:"",type:null,allowOutsideClick:false,showConfirmButton:true,showCancelButton:false,closeOnConfirm:true,closeOnCancel:true,confirmButtonText:"OK",confirmButtonColor:"confirm",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:false,animation:true,allowEscapeKey:true,inputType:"text",inputPlaceholder:"",inputValue:"",hasBottomPromo:false,bottomPromoHtml:""};var getModal=function(){var $modal=document.querySelector(modalClass);if(!$modal){sweetAlertInitialize();$modal=getModal()}return $modal};var getInput=function(){var modal=getModal();if(modal){return modal.querySelector("input")}},getOverlay=function(){return document.querySelector(overlayClass)},hasClass=function(elem,className){return new RegExp(" "+className+" ").test(" "+elem.className+" ")},addClass=function(elem,className){if(!hasClass(elem,className)){elem.className+=" "+className}},removeClass=function(elem,className){var newClass=" "+elem.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(elem,className)){while(newClass.indexOf(" "+className+" ")>=0){newClass=newClass.replace(" "+className+" "," ")}elem.className=newClass.replace(/^\s+|\s+$/g,"")}},escapeHtml=function(str){var div=document.createElement("div");div.appendChild(document.createTextNode(str));return div.innerHTML},_show=function(elem){elem.style.opacity="";elem.style.display="block"},show=function(elems){if(elems&&!elems.length){return _show(elems)}for(var i=0;i<elems.length;++i){_show(elems[i])}},_hide=function(elem){elem.style.opacity="";elem.style.display="none"},hide=function(elems){if(elems&&!elems.length){return _hide(elems)}for(var i=0;i<elems.length;++i){_hide(elems[i])}},isDescendant=function(parent,child){var node=child.parentNode;while(node!==null){if(node===parent){return true}node=node.parentNode}return false},getTopMargin=function(elem){elem.style.left="-9999px";elem.style.display="block";var height=elem.clientHeight,padding;if(typeof getComputedStyle!=="undefined"){padding=parseInt(getComputedStyle(elem).getPropertyValue("padding-top"),10)}else{padding=parseInt(elem.currentStyle.padding)}elem.style.left="";elem.style.display="none";return"-"+parseInt((height+padding)/2)+"px"},fadeIn=function(elem,interval){if(+elem.style.opacity<1){interval=interval||16;elem.style.opacity=0;elem.style.display="block";var last=+new Date;var tick=function(){elem.style.opacity=+elem.style.opacity+(new Date-last)/100;last=+new Date;if(+elem.style.opacity<1){setTimeout(tick,interval)}};tick()}elem.style.display="block"},fadeOut=function(elem,interval){interval=interval||16;elem.style.opacity=1;var last=+new Date;var tick=function(){elem.style.opacity=+elem.style.opacity-(new Date-last)/100;last=+new Date;if(+elem.style.opacity>0){setTimeout(tick,interval)}else{elem.style.display="none"}};tick()},fireClick=function(node){if(typeof MouseEvent==="function"){var mevt=new MouseEvent("click",{view:window,bubbles:false,cancelable:true});node.dispatchEvent(mevt)}else if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initEvent("click",false,false);node.dispatchEvent(evt)}else if(document.createEventObject){node.fireEvent("onclick")}else if(typeof node.onclick==="function"){node.onclick()}},stopEventPropagation=function(e){if(typeof e.stopPropagation==="function"){e.stopPropagation();e.preventDefault()}else if(window.event&&window.event.hasOwnProperty("cancelBubble")){window.event.cancelBubble=true}};var previousActiveElement,previousWindowKeyDown,lastFocusedButton;var sweetAlertInitialize=function(){var sweetHTML='<div class="ch-overlay" tabIndex="-1"></div><div class="ch-alert"><div class="sa-icon sa-error"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div><div class="sa-icon sa-warning"> <span class="sa-body"></span> <span class="sa-dot"></span> </div> <div class="sa-icon sa-info"></div> <div class="sa-icon sa-success"> <span class="sa-line sa-tip"></span> <span class="sa-line sa-long"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> <div class="sa-icon sa-custom"></div> <h2>Title</h2><p>Text</p><fieldset><input type="text" tabIndex="3" /></fieldset> <div class="sa-error-container error"><span class="sa_error_prompt-icon"><i class="fa fa-exclamation-triangle"></i></span> <p>Not valid!</p></div> <button class="confirm" tabIndex="1">OK</button><button class="cancel" tabIndex="2">Cancel</button><div class="ch-sa-bottom-div"></div></div>',sweetWrap=document.createElement("div");sweetWrap.innerHTML=sweetHTML;while(sweetWrap.firstChild){document.body.appendChild(sweetWrap.firstChild)}};var sweetAlert,swal;sweetAlert=swal=function(){var customizations=arguments[0];addClass(document.body,"stop-scrolling");resetInput();function argumentOrDefault(key){var args=customizations;if(typeof args[key]!=="undefined"){return args[key]}else{return defaultParams[key]}}if(arguments[0]===undefined){logStr("SweetAlert expects at least 1 attribute!");return false}var params=extend({},defaultParams);switch(typeof arguments[0]){case"string":params.title=arguments[0];params.text=arguments[1]||"";params.type=arguments[2]||"";break;case"object":if(arguments[0].title===undefined){logStr('Missing "title" argument!');return false}params.title=arguments[0].title;var availableCustoms=["text","type","customClass","allowOutsideClick","showConfirmButton","showCancelButton","closeOnConfirm","closeOnCancel","timer","confirmButtonColor","cancelButtonText","imageUrl","imageSize","html","animation","allowEscapeKey","inputType","inputPlaceholder","inputValue","hasBottomPromo","bottomPromoHtml"];var numCustoms=availableCustoms.length;for(var customIndex=0;customIndex<numCustoms;customIndex++){var customName=availableCustoms[customIndex];params[customName]=argumentOrDefault(customName)}params.confirmButtonText=params.showCancelButton?"Confirm":defaultParams.confirmButtonText;params.confirmButtonText=argumentOrDefault("confirmButtonText");params.doneFunction=arguments[1]||null;break;default:logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]);return false}setParameters(params);fixVerticalPosition();openModal();var modal=getModal();var onButtonEvent=function(event){var e=event||window.event;var target=e.target||e.srcElement,targetedConfirm=target.className.indexOf("confirm")!==-1,targetedOverlay=target.className.indexOf("ch-overlay")!==-1,modalIsVisible=hasClass(modal,"visible"),doneFunctionExists=params.doneFunction&&modal.getAttribute("data-has-done-function")==="true";switch(e.type){case"focus":var $confirmButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel");break;case"click":if(targetedConfirm&&doneFunctionExists&&modalIsVisible){handleConfirm()}else if(doneFunctionExists&&modalIsVisible||targetedOverlay){handleCancel()}else if(isDescendant(modal,target)&&target.tagName==="BUTTON"){sweetAlert.close()}break}};function handleConfirm(){var callbackValue=true;if(hasClass(modal,"show-input")){callbackValue=modal.querySelector("input").value;if(!callbackValue){callbackValue=""}}params.doneFunction(callbackValue);if(params.closeOnConfirm){sweetAlert.close()}}function handleCancel(){var functionAsStr=String(params.doneFunction).replace(/\s/g,"");var functionHandlesCancel=functionAsStr.substring(0,9)==="function("&&functionAsStr.substring(9,10)!==")";if(functionHandlesCancel){params.doneFunction(false)}if(params.closeOnCancel){sweetAlert.close()}}var $buttons=modal.querySelectorAll("button");for(var i=0;i<$buttons.length;i++){$buttons[i].onclick=onButtonEvent;$buttons[i].onmouseover=onButtonEvent;$buttons[i].onmouseout=onButtonEvent;$buttons[i].onmousedown=onButtonEvent;$buttons[i].onmouseup=onButtonEvent;$buttons[i].onfocus=onButtonEvent}if(params.allowOutsideClick){getOverlay().onclick=onButtonEvent}var $okButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel"),$modalButtons=modal.querySelectorAll("button[tabindex]");function handleKeyDown(event){var e=event||window.event;var keyCode=e.keyCode||e.which;if([9,13,32,27].indexOf(keyCode)===-1){return}var $targetElement=e.target||e.srcElement;var btnIndex=-1;for(var i=0;i<$modalButtons.length;i++){if($targetElement===$modalButtons[i]){btnIndex=i;break}}if(keyCode===9){if(btnIndex===-1){$targetElement=$okButton}else{if(btnIndex===$modalButtons.length-1){$targetElement=$modalButtons[0]}else{$targetElement=$modalButtons[btnIndex+1]}}stopEventPropagation(e);$targetElement.focus()}else{if(keyCode===13){if($targetElement.tagName==="INPUT"){$targetElement=$okButton;$okButton.focus()}if(btnIndex===-1){$targetElement=$okButton}else{$targetElement=undefined}}else if(keyCode===27&&params.allowEscapeKey===true){$targetElement=$cancelButton;fireClick($targetElement,e)}else{$targetElement=undefined}}}previousWindowKeyDown=window.onkeydown;window.onkeydown=handleKeyDown;window.onfocus=function(){window.setTimeout(function(){if(lastFocusedButton!==undefined){lastFocusedButton.focus();lastFocusedButton=undefined}},0)}};sweetAlert.setDefaults=swal.setDefaults=function(userParams){if(!userParams){throw new Error("userParams is required")}if(typeof userParams!=="object"){throw new Error("userParams has to be a object")}extend(defaultParams,userParams)};function setParameters(params){var modal=getModal();var $title=modal.querySelector("h2"),$text=modal.querySelector("p"),$cancelBtn=modal.querySelector("button.cancel"),$confirmBtn=modal.querySelector("button.confirm"),$bottomDiv=modal.querySelector(".ch-sa-bottom-div");$title.innerHTML=params.html?params.title:escapeHtml(params.title).split("\n").join("<br>");$text.innerHTML=params.html?params.text:escapeHtml(params.text||"").split("\n").join("<br>");if(params.text){show($text)}if(params.customClass){addClass(modal,params.customClass);modal.setAttribute("data-custom-class",params.customClass)}else{var customClass=modal.getAttribute("data-custom-class");removeClass(modal,customClass);modal.setAttribute("data-custom-class","")}hide(modal.querySelectorAll(".sa-icon"));if(params.type&&!isIE8()){var validType=false;for(var i=0;i<alertTypes.length;i++){if(params.type===alertTypes[i]){validType=true;break}}if(!validType){logStr("Unknown alert type: "+params.type);return false}var typesWithIcons=["success","error","warning","info"];var $icon;if(typesWithIcons.indexOf(params.type)!==-1){$icon=modal.querySelector(".sa-icon."+"sa-"+params.type);show($icon)}var $input=getInput();switch(params.type){case"success":addClass($icon,"animate");addClass($icon.querySelector(".sa-tip"),"animateSuccessTip");addClass($icon.querySelector(".sa-long"),"animateSuccessLong");if(params.inputPlaceholder.length>0){$input.setAttribute("type",params.inputType);$input.value=params.inputValue;$input.setAttribute("placeholder",params.inputPlaceholder);addClass(modal,"show-input");setTimeout(function(){$input.focus();$input.addEventListener("keyup",swal.resetInputError)},400)}break;case"error":addClass($icon,"animateErrorIcon");addClass($icon.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":addClass($icon,"pulseWarning");addClass($icon.querySelector(".sa-body"),"pulseWarningIns");addClass($icon.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":$input.setAttribute("type",params.inputType);addClass(modal,"show-input");setTimeout(function(){$input.focus();$input.addEventListener("keyup",swal.resetInputError)},400);break}}if(params.imageUrl){var $customIcon=modal.querySelector(".sa-icon.sa-custom");$customIcon.style.backgroundImage="url("+params.imageUrl+")";show($customIcon);var _imgWidth=80,_imgHeight=80;if(params.imageSize){var dimensions=params.imageSize.toString().split("x");var imgWidth=dimensions[0];var imgHeight=dimensions[1];if(!imgWidth||!imgHeight){logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+params.imageSize)}else{_imgWidth=imgWidth;_imgHeight=imgHeight}}$customIcon.setAttribute("style",$customIcon.getAttribute("style")+"width:"+_imgWidth+"px; height:"+_imgHeight+"px")}modal.setAttribute("data-has-cancel-button",params.showCancelButton);if(params.showCancelButton){$cancelBtn.style.display="inline-block"}else{hide($cancelBtn)}modal.setAttribute("data-has-confirm-button",params.showConfirmButton);if(params.showConfirmButton){$confirmBtn.style.display="inline-block"}else{hide($confirmBtn)}if(params.cancelButtonText){$cancelBtn.innerHTML=escapeHtml(params.cancelButtonText)}if(params.confirmButtonText){$confirmBtn.innerHTML=escapeHtml(params.confirmButtonText)}if(params.confirmButtonColor){$confirmBtn.style.backgroundColor=params.confirmButtonColor}modal.setAttribute("data-allow-ouside-click",params.allowOutsideClick);var hasDoneFunction=params.doneFunction?true:false;modal.setAttribute("data-has-done-function",hasDoneFunction);if(!params.animation){modal.setAttribute("data-animation","none")}else if(typeof params.animation==="string"){modal.setAttribute("data-animation",params.animation)}else{modal.setAttribute("data-animation","pop")}if(params.hasBottomPromo&&params.bottomPromoHtml){$bottomDiv.innerHTML=params.bottomPromoHtml;show($bottomDiv)}else{hide($bottomDiv)}modal.setAttribute("data-timer",params.timer)}function colorLuminance(hex,lum){hex=String(hex).replace(/[^0-9a-f]/gi,"");if(hex.length<6){hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]}lum=lum||0;var rgb="#",c,i;for(i=0;i<3;i++){c=parseInt(hex.substr(i*2,2),16);c=Math.round(Math.min(Math.max(0,c+c*lum),255)).toString(16);rgb+=("00"+c).substr(c.length)}return rgb}function extend(a,b){for(var key in b){if(b.hasOwnProperty(key)){a[key]=b[key]}}return a}function hexToRgb(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?parseInt(result[1],16)+", "+parseInt(result[2],16)+", "+parseInt(result[3],16):null}function openModal(){var modal=getModal();fadeIn(getOverlay(),10);show(modal);addClass(modal,"showchAlert");removeClass(modal,"hidechAlert");previousActiveElement=document.activeElement;var $okButton=modal.querySelector("button.confirm");$okButton.focus();setTimeout(function(){addClass(modal,"visible")},500);var timer=modal.getAttribute("data-timer");if(timer!=="null"&&timer!==""){modal.timeout=setTimeout(function(){sweetAlert.close()},timer)}}sweetAlert.close=swal.close=function(){var modal=getModal();fadeOut(getOverlay(),5);fadeOut(modal,5);removeClass(modal,"showchAlert");addClass(modal,"hidechAlert");removeClass(modal,"visible");var $successIcon=modal.querySelector(".sa-icon.sa-success");removeClass($successIcon,"animate");removeClass($successIcon.querySelector(".sa-tip"),"animateSuccessTip");removeClass($successIcon.querySelector(".sa-long"),"animateSuccessLong");var $errorIcon=modal.querySelector(".sa-icon.sa-error");removeClass($errorIcon,"animateErrorIcon");removeClass($errorIcon.querySelector(".sa-x-mark"),"animateXMark");var $warningIcon=modal.querySelector(".sa-icon.sa-warning");removeClass($warningIcon,"pulseWarning");removeClass($warningIcon.querySelector(".sa-body"),"pulseWarningIns");removeClass($warningIcon.querySelector(".sa-dot"),"pulseWarningIns");removeClass(document.body,"stop-scrolling");window.onkeydown=previousWindowKeyDown;if(previousActiveElement){previousActiveElement.focus()}lastFocusedButton=undefined;clearTimeout(modal.timeout)};sweetAlert.showInputError=swal.showInputError=function(errorMessage){var modal=getModal();var $errorInput=modal.querySelector("input");addClass($errorInput,"error");var $errorContainer=modal.querySelector(".sa-error-container");addClass($errorContainer,"show");$errorContainer.querySelector("p").innerHTML=errorMessage;modal.querySelector("input").focus()};function resetInput(){var $modal=getModal();var $input=getInput();removeClass($modal,"show-input");$input.value="";$input.setAttribute("type",defaultParams.inputType);swal.resetInputError()}sweetAlert.resetInputError=swal.resetInputError=function(event){if(event&&event.keyCode===13){return false}var $modal=getModal();var $errorInput=$modal.querySelector("input");removeClass($errorInput,"error");var $errorContainer=$modal.querySelector(".sa-error-container");removeClass($errorContainer,"show")};function fixVerticalPosition(){var modal=getModal();modal.style.marginTop=getTopMargin(getModal())}function isIE8(){if(window.attachEvent&&!window.addEventListener){return true}else{return false}}function logStr(string){if(window.console){window.console.log("SweetAlert: "+string)}}if(typeof define==="function"&&define.amd){define(function(){return sweetAlert})}else if(typeof module!=="undefined"&&module.exports){module.exports=sweetAlert}else if(typeof window!=="undefined"){window.sweetAlert=window.swal=sweetAlert}})(window,document);if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the localeService")}utilServices.service("localeService",function(){var countries=[{value:"AF",label:"Afghanistan"},{value:"AX",label:"ALand Islands"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AS",label:"American Samoa"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AQ",label:"Antarctica"},{value:"AG",label:"Antigua And Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BY",label:"Belarus"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia"},{value:"BA",label:"Bosnia And Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"BN",label:"Brunei Darussalam"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"CV",label:"Cape Verde"},{value:"KY",label:"Cayman Islands"},{value:"CF",label:"Central African Republic"},{value:"TD",label:"Chad"},{value:"CL",label:"Chile"},{value:"CN",label:"China"},{value:"CX",label:"Christmas Island"},{value:"CC",label:"Cocos (Keeling) Islands"},{value:"CO",label:"Colombia"},{value:"KM",label:"Comoros"},{value:"CG",label:"Congo"},{value:"CD",label:"Congo, The Democratic Republic Of The"},{value:"CK",label:"Cook Islands"},{value:"CR",label:"Costa Rica"},{value:"CI",label:"Cote D'Ivoire"},{value:"HR",label:"Croatia"},{value:"CU",label:"Cuba"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czech Republic"},{value:"DK",label:"Denmark"},{value:"DJ",label:"Djibouti"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"SV",label:"El Salvador"},{value:"GQ",label:"Equatorial Guinea"},{value:"ER",label:"Eritrea"},{value:"EE",label:"Estonia"},{value:"ET",label:"Ethiopia"},{value:"FK",label:"Falkland Islands (Malvinas)"},{value:"FO",label:"Faroe Islands"},{value:"FJ",label:"Fiji"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GF",label:"French Guiana"},{value:"PF",label:"French Polynesia"},{value:"TF",label:"French Southern Territories"},{value:"GA",label:"Gabon"},{value:"GM",label:"Gambia"},{value:"GE",label:"Georgia"},{value:"DE",label:"Germany"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GR",label:"Greece"},{value:"GL",label:"Greenland"},{value:"GD",label:"Grenada"},{value:"GP",label:"Guadeloupe"},{value:"GU",label:"Guam"},{value:"GT",label:"Guatemala"},{value:"Gg",label:"Guernsey"},{value:"GN",label:"Guinea"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HT",label:"Haiti"},{value:"HM",label:"Heard Island And Mcdonald Islands"},{value:"VA",label:"Holy See (Vatican City State)"},{value:"HN",label:"Honduras"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"IN",label:"India"},{value:"ID",label:"Indonesia"},{value:"IR",label:"Iran, Islamic Republic Of"},{value:"IQ",label:"Iraq"},{value:"IE",label:"Ireland"},{value:"IM",label:"Isle Of Man"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JP",label:"Japan"},{value:"JE",label:"Jersey"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KI",label:"Kiribati"},{value:"KP",label:"Korea, Democratic People's Republic Of"},{value:"KR",label:"Korea, Republic Of"},{value:"KW",label:"Kuwait"},{value:"KG",label:"Kyrgyzstan"},{value:"LA",label:"Lao People's Democratic Republic"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libyan Arab Jamahiriya"},{value:"LI",label:"Liechtenstein"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MO",label:"Macao"},{value:"MK",label:"Macedonia, The Former Yugoslav Republic Of"},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia"},{value:"MV",label:"Maldives"},{value:"ML",label:"Mali"},{value:"MT",label:"Malta"},{value:"MH",label:"Marshall Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"YT",label:"Mayotte"},{value:"MX",label:"Mexico"},{value:"FM",label:"Micronesia, Federated States Of"},{value:"MD",label:"Moldova, Republic Of"},{value:"MC",label:"Monaco"},{value:"MN",label:"Mongolia"},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco"},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar"},{value:"NA",label:"Namibia"},{value:"NR",label:"Nauru"},{value:"NP",label:"Nepal"},{value:"NL",label:"Netherlands"},{value:"AN",label:"Netherlands Antilles"},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand"},{value:"NI",label:"Nicaragua"},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria"},{value:"NU",label:"Niue"},{value:"NF",label:"Norfolk Island"},{value:"MP",label:"Northern Mariana Islands"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PW",label:"Palau"},{value:"PS",label:"Palestinian Territory, Occupied"},{value:"PA",label:"Panama"},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PN",label:"Pitcairn"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"PR",label:"Puerto Rico"},{value:"QA",label:"Qatar"},{value:"RE",label:"Reunion"},{value:"RO",label:"Romania"},{value:"RU",label:"Russian Federation"},{value:"RW",label:"Rwanda"},{value:"SH",label:"Saint Helena"},{value:"KN",label:"Saint Kitts And Nevis"},{value:"LC",label:"Saint Lucia"},{value:"PM",label:"Saint Pierre And Miquelon"},{value:"VC",label:"Saint Vincent And The Grenadines"},{value:"WS",label:"Samoa"},{value:"SM",label:"San Marino"},{value:"ST",label:"Sao Tome And Principe"},{value:"SA",label:"Saudi Arabia"},{value:"SN",label:"Senegal"},{value:"CS",label:"Serbia And Montenegro"},{value:"SC",label:"Seychelles"},{value:"SL",label:"Sierra Leone"},{value:"SG",label:"Singapore"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"SB",label:"Solomon Islands"},{value:"SO",label:"Somalia"},{value:"ZA",label:"South Africa"},{value:"GS",label:"South Georgia And The South Sandwich Islands"},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SJ",label:"Svalbard And Jan Mayen"},{value:"SZ",label:"Swaziland"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"SY",label:"Syrian Arab Republic"},{value:"TW",label:"Taiwan, Province Of China"},{value:"TJ",label:"Tajikistan"},{value:"TZ",label:"Tanzania, United Republic Of"},{value:"TH",label:"Thailand"},{value:"TL",label:"Timor-Leste"},{value:"TG",label:"Togo"},{value:"TK",label:"Tokelau"},{value:"TO",label:"Tonga"},{value:"TT",label:"Trinidad And Tobago"},{value:"TN",label:"Tunisia"},{value:"TR",label:"Turkey"},{value:"TM",label:"Turkmenistan"},{value:"TC",label:"Turks And Caicos Islands"},{value:"TV",label:"Tuvalu"},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"GB",label:"United Kingdom"},{value:"US",selected:"selected",label:"United States"},{value:"UM",label:"United States Minor Outlying Islands"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VU",label:"Vanuatu"},{value:"VE",label:"Venezuela"},{value:"VN",label:"Viet Nam"},{value:"VG",label:"Virgin Islands, British"},{value:"VI",label:"Virgin Islands, U.S."},{value:"WF",label:"Wallis And Futuna"},{value:"EH",label:"Western Sahara"},{value:"YE",label:"Yemen"},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe"}];var months=[{id:1,label:"January",short:"Jan"},{id:2,label:"February",short:"Feb"},{id:3,label:"March",short:"Mar"},{id:4,label:"April",short:"Apr"},{id:5,label:"May",short:"May"},{id:6,label:"June",short:"Jun"},{id:7,label:"July",short:"Jul"},{id:8,label:"August",short:"Aug"},{id:9,label:"September",short:"Sep"},{id:10,label:"October",short:"Oct"},{id:11,label:"November",short:"Nov"},{id:12,label:"December",short:"Dec"}];var terms={1:"Fall",2:"Winter",3:"Spring",4:"Summer"};return{getCountries:function(){return countries},getCountry:function(value){var country=false;this.getCountries().forEach(function(c){if(c.value===value){country=c}});return country},getMonths:function(){return months},getMonth:function(month_id){var month=false;this.getMonths().forEach(function(m){if(m.id===month_id){month=m}});return month},getTerm:function(term){return terms[term]}}});if(typeof angular==="undefined"){throw new Error("Angular is required to use the newsfeed services")}var ProductThumbnailStatsServices=angular.module("ProductThumbnailStatsServices",[]);if(typeof ProductThumbnailStatsServices==="undefined"){throw new Error("ProductThumbnailStatsServices is required to use this class")}var productThumbnailStatsService=ProductThumbnailStatsServices.service("productThumbnailStatsService",function(){var thumbnailService={getStats:function(){return ProductThumbnailStats.store.getAll()},getStat:function(statsObject,stat,type,id){if(typeof statsObject[type]!=="undefined"&&typeof statsObject[type][id]!=="undefined"){if(statsObject[type][id][stat]==0){return"~"}return statsObject[type][id][stat]}return"~"}};return thumbnailService});var ProductThumbnailStats=new function(){return{dispatchView:function(action,payload){payload.action=action;this.dispatcher.dispatch(ProductThumbnailStats.dispatcher.type.VIEW,payload)},dispatchServer:function(action,payload){payload.action=action;this.dispatcher.dispatch(ProductThumbnailStats.dispatcher.type.SERVER,payload)}}};ProductThumbnailStats.dispatcher=new function(){return{callbacks:[],dispatch:function(type,payload){this.callbacks.forEach(function(callback){if(typeof callback==="function"){callback(payload)}})},register:function(callback){this.callbacks.push(callback);return this.callbacks.length-1},unregister:function(index){if(typeof this.callbacks[index]!=="undefined"){this.callbacks[index]=null}},type:{VIEW:"ProductThumbnailStats.dispatcher.type.VIEW",SERVER:"ProductThumbnailStats.dispatcher.type.SERVER"}}};ProductThumbnailStats.actions={RECEIVE:"ProductThumbnailStats.actions.RECEIVE",FAILURE:"ProductThumbnailStats.actions.FAILURE"};ProductThumbnailStats.events={UPDATE:"ProductThumbnailStats.events.UPDATE",FAILURE:"ProductThumbnailStats.events.FAILURE"};ProductThumbnailStats.store=new function(){var $=jQuery;return{products:[],dispatchIndex:ProductThumbnailStats.dispatcher.register(function(payload){switch(payload.action){case ProductThumbnailStats.actions.RECEIVE:payload.products.forEach(function(product){if(typeof ProductThumbnailStats.store.products[product.type]==="undefined"){ProductThumbnailStats.store.products[product.type]={}}ProductThumbnailStats.store.products[product.type][product.id]=product});$(window).trigger(ProductThumbnailStats.events.UPDATE);break;case ProductThumbnailStats.actions.FAILURE:$(window).trigger(ProductThumbnailStats.events.FAILURE);break}}),getAll:function(){return this.products}}};ProductThumbnailStats.api=new function(){var $=jQuery;function onReceive(response){if(response.error){var message="Received error response from server";if(JSON&&JSON.stringify){message+=": "+JSON.stringify(response)}throw new Error(message)}if(response.products===undefined){throw new Error("No products returned from server")}ProductThumbnailStats.dispatchServer(ProductThumbnailStats.actions.RECEIVE,{products:response.products})}function onError(err){ProductThumbnailStats.dispatchServer(ProductThumbnailStats.actions.FAILURE,{})}var API_PULL_URL="/api/v1/meta-data/";return{getStats:function(products){if(typeof products==="undefined"||products.length===0){return false}var existing=ProductThumbnailStats.store.getAll();var unique=products.filter(function(a){return typeof existing[a.type]==="undefined"||typeof existing[a.type][a.id]==="undefined"});if(unique.length===0){return false}var data={products:unique};$.ajax({url:API_PULL_URL,type:"POST",data:data,dataType:"json",success:onReceive,error:onError})}}};ProductThumbnailStats.app=new function(){var $=jQuery;return{start:function(){$(window).on(ProductThumbnailStats.events.UPDATE,function(){var products=ProductThumbnailStats.store.getAll();for(var type in products){products[type].forEach(function(product){$(".js-enable-product-stats:[data-product-id="+product.id+"][data-product-type="+product.type+"] span:[data-product-stat]").each(function(_,stat){var stat_type=$(stat).data("product-stat");if(typeof product[stat_type]!=="undefined"){var html=$(stat).children();$(stat).html(html);$(stat).append(document.createTextNode(" "+product[stat_type]))}})})}});$(window).on(ProductThumbnailStats.events.FAILURE,function(){$(".js-enable-product-stats span:[data-product-stat]").hide()});this.fromDOM()},fromDOM:function(){var products=[];$(".js-enable-product-stats").each(function(_,stats){products.push({type:$(stats).data("product-type"),id:$(stats).data("product-id")})});ProductThumbnailStats.api.getStats(products)},startAngular:function(){}}};if(typeof utilServices==="undefined"){throw new Error("utilServices is requried to use the loader directive")}utilServices.directive("chUtilsLoader",function(){return{template:'<div style="width:100%; padding:20px 0px; text-align: center;"><img src="/assets/img/ajax-loaders/hexagon-loader.gif" /></div>'}});if(typeof angular==="undefined"){throw new Error("Angular must be included in order to use the paymentServices")}var paymentServices=angular.module("paymentServices",[]);paymentServices.factory("PaymentFormatService",PaymentFormatService);function PaymentFormatService($filter){var PRICE_MULTIPLIER=100;return{dollarFormat:dollarFormat,PRICE_MULTIPLIER:PRICE_MULTIPLIER};function dollarFormat(num,keepDecimalPlaces,currencySymbol){if(typeof currencySymbol==="undefined"){currencySymbol="$"}num=num/PRICE_MULTIPLIER;return $filter("currency")(num,currencySymbol,keepDecimalPlaces||hasSignificantDecimal(num)?2:0)}function hasSignificantDecimal(num){return parseFloat(num,10)!=parseInt(num,10)}}if(typeof paymentServices==="undefined"){throw new Error("paymentServices must be included in order to use paymentActions")}paymentServices.service("paymentActions",["dispatcher","apiService","notificationService",function(dispatcher,apiService,notificationService){var braintreeFieldInstance=null;var braintreeClientInstance=null;var braintreeDeviceData=null;var braintreeAuthorization=null;var braintreeActions={initHostedFields:function(form,submit,clientToken){braintree.client.create({authorization:clientToken},function(clientErr,clientInstance){if(clientErr){console.error(clientErr);return}braintreeClientInstance=clientInstance;braintreeActions.createHostedFields(clientInstance);braintree.dataCollector.create({client:clientInstance,kount:true},function(dataCollectorErr,dataCollectorInstance){if(dataCollectorErr){console.error(dataCollectorErr);return}braintreeDeviceData=dataCollectorInstance.deviceData})})},createHostedFields:function(clientInstance){var fields={};fields={number:{selector:"#card-number",placeholder:"Card number"},expirationDate:{selector:"#expiration-date",placeholder:"MM/YYYY"},postalCode:{selector:"#postal-code",placeholder:"Zip Code"}};braintree.hostedFields.create({client:clientInstance,styles:{input:{"font-size":"14px"},"input.invalid":{color:"red"},"input.valid":{}},fields:fields},function(hostedFieldsErr,hostedFieldsInstance){braintreeFieldInstance=hostedFieldsInstance;if(hostedFieldsErr){console.error(hostedFieldsErr);return}})},setUpBraintree:function(form,submit){if(braintreeAuthorization!==null){braintreeActions.initHostedFields(form,submit,braintreeAuthorization)}else{jQuery.get("/api/v1/payments/client_token/").success(function(data){braintreeAuthorization=data["clientToken"];braintreeActions.initHostedFields(form,submit,braintreeAuthorization)}).error(function(){console.log("Client token generation failed")})}},tearDownAndResetBraintree:function(){if(typeof braintreeFieldInstance==="undefined"||braintreeFieldInstance===null){return false}braintreeFieldInstance.teardown(function(error){if(error){console.error("Could not tear down Hosted Fields!")}else{braintreeActions.createHostedFields(braintreeClientInstance)}})},hasBraintreeSetup:function(){return braintreeAuthorization!==null}};var paymentActions={loadPaymentOptions:function(){paymentApi.getPaymentOptions()},savePaymentOption:function(paymentOption,success,error){paymentApi.savePaymentOption(paymentOption,success,error)},setPaymentOptionPrimary:function(paymentOption){paymentApi.setPaymentOptionPrimary(paymentOption.payment_option_id)},removePaymentOptionPrimary:function(paymentOption){paymentApi.removePaymentOptionPrimary(paymentOption.payment_option_id)},onReceivePaymentOptions:function(paymentOptions){dispatcher.dispatch(paymentActions.types.RECEIVE_PAYMENT_OPTIONS,paymentOptions)},onRemovePaymentOption:function(paymentOptionId){dispatcher.dispatch(paymentActions.types.REMOVE_PAYMENT_OPTION,paymentOptionId)},onPrimaryPaymentOption:function(paymentOptionId){dispatcher.dispatch(paymentActions.types.PRIMARY_PAYMENT_OPTION,paymentOptionId)},setUpBraintree:function(){braintreeActions.setUpBraintree()},tearDownAndResetBraintree:function(){braintreeActions.tearDownAndResetBraintree()},hasBraintreeSetup:function(){return braintreeActions.hasBraintreeSetup()},types:{RECEIVE_PAYMENT_OPTIONS:"paymentActions.types.RECEIVE_PAYMENT_OPTIONS",REMOVE_PAYMENT_OPTION:"paymentActions.types.REMOVE_PAYMENT_OPTION",PRIMARY_PAYMENT_OPTION:"paymentActions.types.PRIMARY_PAYMENT_OPTION"}};var paymentApi=new function(){var API_PAYMENT_OPTIONS="/api/v1/payment/options/";var API_PAYMENT_OPTION_REMOVE="/api/v1/payment/options/{paymentOptionId}/";var API_PAYMENT_OPTION_PRIMARY="/api/v1/payment/options/{paymentOptionId}/primary/";return{getPaymentOptions:function(){apiService.get(API_PAYMENT_OPTIONS,{}).success(function(paymentOptions){paymentActions.onReceivePaymentOptions(paymentOptions)}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"payment_options",true)}})},savePaymentOption:function(paymentOption,success,error){if(typeof braintreeFieldInstance!=="undefined"&&braintreeFieldInstance!==null){braintreeFieldInstance.tokenize({cardholderName:paymentOption.name},function(tokenizeErr,payload){if(tokenizeErr){errors=[tokenizeErr.message];notificationService.error(errors,"payment_options_add_card",true);return}paymentOption.nonce=payload.nonce;paymentOption.deviceData=braintreeDeviceData;apiService.post(API_PAYMENT_OPTIONS,paymentOption).success(function(response){if(typeof response[0].payment_option_id!=="undefined"){notificationService.error([],"payment_options_add_card",true);notificationService.error([],"payment_options",true);paymentActions.onReceivePaymentOptions(response);paymentApi.setPaymentOptionPrimary(response[response.length-1].payment_option_id);var form=$("#add_payment_option");form.trigger("reset");paymentActions.tearDownAndResetBraintree();if(typeof success==="function"){success(response)}}else{if(typeof error==="function"){error(response)}}}).error(function(response){if(response){if(typeof response.errors!=="undefined"){var errors=[];for(var i in response.errors){errors.push(response.errors[i])}notificationService.error(errors,"payment_options_add_card",true);notificationService.error(errors,"payment_options",true)}if(typeof error==="function"){error(response)}}})})}else{apiService.post(API_PAYMENT_OPTIONS,paymentOption).success(function(response){if(typeof response.payment_option_id!=="undefined"){notificationService.error([],"payment_options_add_card",true);notificationService.error([],"payment_options",true);paymentActions.onReceivePaymentOptions([response]);paymentApi.setPaymentOptionPrimary(response.payment_option_id);if(typeof success==="function"){success(response)}}else{if(typeof error==="function"){error(response)}}}).error(function(response){if(typeof response.error!=="undefined"){if(typeof response.error.errors==="undefined"){var errors=[response.error.message]}else{var errors=[];for(var i in response.error.errors){var error=response.error.errors[i];errors.push(error)}}notificationService.error(errors,"payment_options_add_card",true);notificationService.error(errors,"payment_options",true)}if(typeof error==="function"){error(response)}})}},setPaymentOptionPrimary:function(paymentOptionId){apiService.post(API_PAYMENT_OPTION_PRIMARY,{paymentOptionId:paymentOptionId}).success(function(response){paymentActions.onPrimaryPaymentOption(paymentOptionId)}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"payment_options",true)}})},removePaymentOptionPrimary:function(paymentOptionId){apiService.delete(API_PAYMENT_OPTION_REMOVE,{paymentOptionId:paymentOptionId}).success(function(response){if(response.success){paymentActions.onRemovePaymentOption(paymentOptionId);notificationService.success(["Successfully removed payment method"],"payment_options",true)}}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"payment_options",true)}})}}};return paymentActions}]);if(typeof paymentServices==="undefined"){throw new Error("paymentServices must be included in order to use the paymentStore")}paymentServices.service("paymentStore",["dispatcher","paymentActions","localeService",function(dispatcher,paymentActions,localeService){var paymentStore=DataStore.create({dispatcherIndex:dispatcher.register(function(payload){var action=payload.action;var data=payload.data;switch(action){case paymentActions.types.RECEIVE_PAYMENT_OPTIONS:paymentStore.receivePaymentOptions(data);break;case paymentActions.types.PRIMARY_PAYMENT_OPTION:paymentStore.setPrimaryPaymentOption(data);break;case paymentActions.types.REMOVE_PAYMENT_OPTION:paymentStore.removePaymentOption(data);break}}),receivePaymentOptions:function(rawPaymentOptions){var $me=this;rawPaymentOptions.forEach(function(rawPaymentOption){$me.upsertRow("paymentOptions","payment_option_id",rawPaymentOption.payment_option_id,$me.sanitize(rawPaymentOption,paymentStore.SCHEMA.Card))});paymentStore.emit(paymentStore.events.UPDATE)},setPrimaryPaymentOption:function(paymentOptionId){var $me=this;this.getPaymentOptions().forEach(function(paymentOption){if(paymentOption.payment_option_id==paymentOptionId){paymentOption.is_primary_card=true}else{paymentOption.is_primary_card=false}$me.upsertRow("paymentOptions","payment_option_id",paymentOption.payment_option_id,paymentOption)});paymentStore.emit(paymentStore.events.UPDATE)},removePaymentOption:function(paymentOptionId){this.removeRow("paymentOptions","payment_option_id",paymentOptionId);paymentStore.emit(paymentStore.events.UPDATE)},getPaymentOptions:function(){return this.getRows("paymentOptions")},events:{UPDATE:"paymentStore.events.UPDATE",REACTIVATE:"paymentStore.events.REACTIVATE"},SCHEMA:{Card:{payment_option_id:{type:"string"},name:{label:"Name",type:"string",validation:{required:true,minLength:3,maxLength:32}},street1:{type:"string"},street2:{type:"string"},city:{type:"string"},state:{type:"string"},cctype:{type:"string"},credit_card_type_name:{type:"string"},ccnum:{label:"Credit Card Number",type:"int",validation:{required:true}},ccnumlastfour:{type:"string",maxLength:4},last_four_credit_card_number:{type:"string",maxLength:4},primary_card:{type:"bool"},date_added:{type:"date",initial:function(){return new Date}},date_removed:{type:"date"},reason_removed:{type:"string"},cvv:{label:"CVV",type:"string"},exp_month:{type:"object",schema:function(){return paymentStore.SCHEMA.ExpMonth},initial:function(){return localeService.getMonth((new Date).getMonth()+1)},validation:{required:true}},exp_year:{type:"int",initial:function(){return(new Date).getFullYear()},validation:{required:true}},credit_card_expiration:{type:"string"},country:{type:"object",schema:function(){return paymentStore.SCHEMA.Country},initial:function(){return{label:"United States",value:"US"}},validation:{required:true}},zip:{label:"Zip Code",type:"string",validation:{required:true}},is_primary_card:{type:"bool"},nonce:{type:"string"}},Country:{label:{type:"string"},value:{type:"string"}},ExpMonth:{label:{type:"string"},short:{type:"string"},id:{type:"int"}},PaymentType:{duration:{type:"int"},interval:{type:"string"},total_price:{type:"int"}}}});paymentActions.store=paymentStore;return paymentStore}]);if(typeof angular==="undefined"){throw new Error("Angular must be included in order to use the user service")}var userServices=angular.module("userServices",["utilServices"]);if(typeof userServices==="undefined"){throw new Error("userServices must be included in order to use the userStore")}userServices.service("userStore",["dispatcher","userActions","paymentStore",function(dispatcher,userActions,paymentStore){var userStore=DataStore.create({dispatcherIndex:dispatcher.register(function(payload){var data=payload.data;var action=payload.action;switch(action){case userActions.type.RECEIVE:userStore.receive(data);break}}),receive:function(rawUsers){var $me=this;rawUsers.forEach(function(rawRow){$me.upsertRow("user","user_id",rawRow.user_id,userStore.sanitize(rawRow,userStore.schema.User))});this.emit(this.events.UPDATE)},getProfile:function(){if(typeof this.rows["user"]==="undefined"||this.rows["user"].length===0){return this.sanitize({},userStore.schema.User)}var user=this.rows["user"][0];return user},events:{UPDATE:"userStore.events.UPDATE"},schema:{iOSSubscription:{id:{type:"integer"},subscription_id:{type:"int"},user_id:{type:"string"},ios_receipt_id:{type:"integer"},start_date:{type:"datetime"},end_date:{type:"datetime"},active:{type:"bool"}},LitleSubscription:{months:{type:"integer"},payment_type:{type:"object",schema:function(){return paymentStore.SCHEMA.PaymentType}},active:{type:"bool"},next_payment_date:{type:"datetime"}},SchoolLocation:{city:{type:"string"},state:{type:"string"}},User:{user_id:{type:"string",maxLength:255},username:{type:"string",maxLength:60,initial:function(){return"..."},validation:{minLength:5,maxLength:60,spaces:function(value){if(value.indexOf(" ")!==-1){return["Username cannot contain spaces"]}return true}}},display_name:{type:"string",maxLength:255,initial:function(){return""}},profile_url:{type:"string",max_length:255,initial:function(){return""}},default_avatar:{type:"string",max_length:255,initial:function(){return""}},is_moderator:{type:"bool"},can_change_name:{type:"bool"},email:{type:"string",maxLength:75,minLength:5,validation:{minLength:5,maxLength:75,email:true}},expiration_date:{type:"datetime"},last_login:{type:"datetime"},disabled_account:{type:"bool"},ios_subscription:{type:"object",schema:function(){return userStore.schema.iOSSubscription}},subscription:{type:"object",schema:function(){return userStore.schema.LitleSubscription}},premier:{type:"bool",initial:function(){return false}},is_remember_me:{type:"bool"},created_content:{type:"bool"},num_documents_uploaded:{type:"string",initial:function(){return"0"}},num_questions_asked:{type:"string",initial:function(){return"0"}},num_questions_answered:{type:"string",initial:function(){return"0"}},profile_percent_complete:{type:"int",initial:function(){return 0}},tutor_questions_remaining:{type:"string",initial:function(){return"0"}},school:{type:"string",initial:function(){return""}},school_id:{type:"int"},school_location:{type:"object",schema:function(){return userStore.schema.SchoolLocation}},student_type:{type:"string",initial:function(){return""}},full_name:{type:"string",initial:function(){return""},maxLength:60,validation:{maxLength:60}},graduation_year:{type:"string",initial:function(){return""}},graduation_month:{type:"string",initial:function(){return""}},is_paused:{type:"bool"},can_pause:{type:"bool"},last_paused_on:{type:"datetime",format:"MM-DD-YYYY"},next_pause_date:{type:"date"},fc_premier_recurring:{type:"bool",initial:function(){return false}},phone_number:{type:"phone",initial:function(){return""},validation:{phone:true}},sms_notification_enabled:{type:"bool"},is_unlock:{type:"bool"},stop_dashboard_alerts:{type:"bool"},total_download_count:{type:"string",initial:function(){return"0"}},monthly_available_downloads:{type:"string",initial:function(){return"0"}},monthly_unlocks_remaining:{type:"integer",initial:function(){return 0}},todays_download_count:{type:"string",initial:function(){return"0"}},non_marketplace_docs_approved:{type:"string",initial:function(){return"0"}},num_docs_to_retag:{type:"integer",initial:function(){return 0}},can_upgrade:{type:"bool"},days_left:{type:"int"},profile_photo:{type:"string"},profile_errors:{type:"array",initial:function(){return[]}},expert_dashboard_available:{type:"bool"},can_access_intern_email_page:{type:"bool"},resume_date:{type:"datetime"},auto_renew_date:{type:"datetime"},litle_subscription:{type:"object",schema:function(){return userStore.schema.LitleSubscription}},unlocks_remaining:{type:"int",initial:function(){return 0}},is_teacher:{type:"bool"},next_payment_date_display:{type:"string"},is_paypal_user:{type:"bool"},is_google_play_subscriber:{type:"bool"},is_ios_subscriber:{type:"bool"}}}});userActions.store=userStore;return userStore}]);userServices.service("userActions",function(dispatcher,apiService,notificationService){var userActions=new function(){return{receive:function(rows){dispatcher.dispatch(userActions.type.RECEIVE,rows)},loadMe:function(details,success,error){userApi.load();if(details){userActions.loadDetails(success,error)}},loadDetails:function(success,error){userApi.loadDetails(success,error)},saveMe:function(details,success,error,notifications){userApi.save(userActions.store.sanitize(details,userActions.store.schema.User),success,error,notifications)},pauseMe:function(months,success,error){userApi.pause(months,success,error)},resumeMe:function(success,error){userApi.resume(success,error)},changePassword:function(passwords,success,error){userApi.changePassword(passwords,success,error)},removePhoto:function(){userApi.removePhoto()},rememberMeApi:function(callback,url){userApi.rememberMeApi(callback,url)},checkLogin:function(){userApi.checkLogin()},resubscribe:function(callback,clickType){userApi.resubscribe(callback,clickType)},type:{RECEIVE:"userActions.type.RECEIVE"}}};var userApi=new function(){var API_USERS_URL="/api/v1/users/";var API_USERS_DETAILS="/api/v1/users/details/";var API_USERS_CHANGE_PASSWORD="/api/v1/users/password/";var API_USERS_REMOVE_PROFILE_PHOTO="/api/v1/users/removeProfilePhoto/";var API_USERS_PAUSE_MEMBERSHIP="/api/user.php?method=pause";var API_USERS_RESUME_MEMBERSHIP="/api/user.php?method=resume";var API_IS_REMEMBER_ME="/api/v1/users/rememberMe/";var API_USER_CHECK_LOGIN="/api/v1/users/checkLogin/";var API_USER_RESUBSCRIBE="/api/v1/users/resubscribe/";return{loadDetails:function(success,error){apiService.get(API_USERS_DETAILS,{}).success(function(response){userActions.receive([response]);if(typeof success!=="undefined"){success(response)}}).error(function(response){if(typeof error!=="undefined"){error(response)}})},load:function(){apiService.get(API_USERS_URL,{}).success(function(response){userActions.receive([response])}).error(function(){})},save:function(user,success,error,notifications){apiService.post(API_USERS_DETAILS,user).success(function(response){userActions.receive([response]);if(response.errors instanceof Array&&response.errors.length>0||typeof response.errors==="object"&&!(response.errors instanceof Array)){if(typeof notifications==="undefined"||notifications===true){if(response.errors instanceof Array){notificationService.error(response.errors,"profile_errors")}else{for(var field in response.errors){notificationService.error([response.errors[field]],"profile_errors")}}}typeof error!=="undefined"?error(response):null}else{if(typeof notifications==="undefined"||notifications===true){notificationService.success(["Successfully saved profile"],"profile_errors",true);notificationService.error([],"profile_errors",true)}typeof success!=="undefined"?success(response):null}}).error(function(response){typeof error!=="undefined"?error(response):null;if(response.error&&response.error.message==="Access Denied"){document.location="/login/"}if(response.error&&response.error.message&&response.error.message.relogin===true){document.location="/relogin.php"}})},pause:function(months,success,error){apiService.post(API_USERS_PAUSE_MEMBERSHIP,{pause_duration:months}).success(function(response){if(typeof response.message!=="undefined"){notificationService.success([response.message],"general",null,success)}userActions.loadDetails()}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"general",null,error)}})},resume:function(success,error){apiService.post(API_USERS_RESUME_MEMBERSHIP,{}).success(function(response){if(typeof response.message!=="undefined"){notificationService.success([response.message],"general")}userActions.loadDetails()}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"general")}})},resubscribe:function(callback,clickType){apiService.post(API_USER_RESUBSCRIBE,{}).success(function(response){callback(response,clickType)}).error(function(response){callback(response,clickType)})},changePassword:function(passwords,success,error){apiService.post(API_USERS_CHANGE_PASSWORD,passwords).success(function(response){if(response.error&&response.error.trim()!==""){notificationService.error([response.error.trim()],"profile_password_errors");typeof error!=="undefined"?error(response):null}else{notificationService.success(["Successfully changed password"],"profile_password_errors");typeof success!=="undefined"?success(response):null}}).error(function(response){if(response.error&&response.error.trim()!==""){notificationService.error([response.error.trim()],"profile_password_errors");typeof error!=="undefined"?error(response):null}})},removePhoto:function(){apiService.delete(API_USERS_REMOVE_PROFILE_PHOTO,{}).success(function(response){userActions.receive([response])})},rememberMeApi:function(callback,url){url=typeof url==="undefined"?"/home/#/settings":url;apiService.post(API_IS_REMEMBER_ME,{redirect:url}).success(function(response){if(typeof callback!="undefined"){callback()}}).error(function(){document.location="/relogin.php"})},lastChecked:null,checkLogin:function(){var minuteAgo=moment().subtract(1,"minutes");if(this.lastChecked!==null&&this.lastChecked.isAfter(minuteAgo)){return}this.lastChecked=moment();apiService.get(API_USER_CHECK_LOGIN).success(function(response){if(!response.success){document.location="/login/?_force=1"}}).error(function(response){document.location="/login/?_force=1"})}}};return userActions});!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n){e.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n){function t(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}},function(e,n,t){"use strict";t.r(n);var o=t(0),i=t.n(o),a=t(1),r=t.n(a),s=new(function(){function e(){i()(this,e)}return r()(e,[{key:"init",value:function(){if(void 0===e)var e=window.jQuery;this.onDashboardTabUpdate=this.onDashboardTabUpdate.bind(this),this.onLibraryTabUpdate=this.onLibraryTabUpdate.bind(this),e(window).on("DashboardTabStore.events.UPDATE",this.onDashboardTabUpdate),e(window).on("Dashboard.events.libraryFolder",this.onLibraryTabUpdate)}},{key:"onDashboardTabUpdate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(void 0===t)var t=window.jQuery;n&&n.data&&n.data.activeTab?(this.clearActive(),t("#ch-ucm-"+n.data.activeTab.mainTab).addClass("isActive")):this.onNewDashboardTab(e,n)}},{key:"onLibraryTabUpdate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.clearActive(),$("#ch-ucm-library-"+n.folder).addClass("isCourseActive")}},{key:"onNewDashboardTab",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n&&n.data.tabs){var t=n.data.tabs,o=t.filter(function(e){return e.isSub&&0===e.id.indexOf("library-")&&"library-add-course"!==e.id}).sort(function(e,n){return e.sort>n.sort});$(".ch_course_label").remove();var i=$("#ch-ucm-library"),a=$("#ch_library_toggle").hasClass("collapsed")?"none":"list-item",r=o.map(function(e){return $('<li class="ch_course_label" id="ch-ucm-'+e.id+'" style="display: '+a+';"><a href="/home/#'+e.href+'" rel="" title="'+e.label+'">'+e.label+"</a></li>")});i.after(r)}}},{key:"clearActive",value:function(){$("#ch_offCanvas_nav li.isCourseActive").removeClass("isCourseActive"),$("#ch_offCanvas_nav li.isActive").removeClass("isActive")}}]),e}()),l=function(){function e(){i()(this,e)}return r()(e,[{key:"toggleCourses",value:function(){try{if(!window.localStorage)return}catch(e){return}window.localStorage.getItem(e.HIDE_LIBRARY_NAV_PREF)&&"0"!==window.localStorage.getItem(e.HIDE_LIBRARY_NAV_PREF)?window.localStorage.setItem(e.HIDE_LIBRARY_NAV_PREF,"0"):window.localStorage.setItem(e.HIDE_LIBRARY_NAV_PREF,"1"),this.setupLibraryNavState()}},{key:"setupLibraryNavState",value:function(){try{if(!window.localStorage)return}catch(e){return}"1"===window.localStorage.getItem(e.HIDE_LIBRARY_NAV_PREF)?this.hideCourses():this.showCourses()}},{key:"showCourses",value:function(){if(void 0===e)var e=window.jQuery;e("li.ch_course_label").css("display","list-item"),e("#ch_library_toggle").removeClass("collapsed")}},{key:"hideCourses",value:function(){if(void 0===e)var e=window.jQuery;e("li.ch_course_label").css("display","none"),e("#ch_library_toggle").addClass("collapsed")}}]),e}();l.HIDE_LIBRARY_NAV_PREF="CH_HIDE_LIBRARY_NAV_PREF";var c=new l,u=function e(){i()(this,e)};u.scrollToTop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;$("html, body").animate({scrollTop:0},e)};var d,v=u,f=function(){function e(){i()(this,e)}return r()(e,null,[{key:"setupUserContentMenu",value:function(){if(void 0===e)var e=window.jQuery;var n=function(){e("#ch_notifications_action > a").removeClass("isActive"),e("#ch_notifications_panel").removeClass("isEnabled")};e(".ch_hamburger_icon").on("click",function(t){e(t.target).is(".courseListToggle")||(v.scrollToTop(),e("#ch_offCanvas_nav").toggleClass("isOnCanvas"),e(this).toggleClass("isOnCanvas"),e("body").toggleClass("isOverflowHidden"),e("#ch-social-share_container").toggleClass("isHidden"),n())}),e(".ch-external-link").on("click",function(e){e.stopPropagation()}),e(document).on("click",function(t){e(t.target).is("#ch_offCanvas_nav, #ch_offCanvas_nav *, .ch_hamburger_icon, .ch_hamburger_icon *")||(e("#ch_offCanvas_nav, .ch_hamburger_icon").removeClass("isOnCanvas"),e("body").removeClass("isOverflowHidden"),n())})}},{key:"setupMobileUserContentMenu",value:function(){if(void 0===e)var e=window.jQuery;var n=e(".ch_subNav_panel"),t=function(){e(".ch_nav_action.isHamburgerMenu").removeClass("dropdownIsActive"),n.removeClass("dropdownIsActive"),e("html").css("overflow",""),e("body").css({position:"",width:""})};e(".ch_nav_action.isHamburgerMenu").on("click",function(t){e("html").css("overflow","hidden"),e("body").css("position","fixed"),e("body").css("width","100%");var o=!n.hasClass("dropdownIsActive");n.toggleClass("dropdownIsActive",o),e(this).toggleClass("dropdownIsActive",o),e("#ch_askQuestionTray_wrapper").toggleClass("isHidden"),o||n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e("html").removeAttr("style"),e(".hasChildren > ul").addClass("isHidden"),e(".willMoveOut").removeClass("willMoveOut"),e(".isActive").removeClass("isActive"),e("body").removeAttr("style")});var i=e("#ch_mobile-app-banner_container"),a=i.length>0&&"none"!==i.css("display")?i.outerHeight():0;n.css("marginTop","".concat(a,"px")),t.preventDefault()}),e(".hasChildren").children("a").on("click",function(n){n.currentTarget.classList.contains("ch_mobile_tutoring_link")||(n.preventDefault(),e(this).next("ul").removeClass("isHidden").end().parent(".hasChildren").parent("ul").addClass("willMoveOut"))}),e(document).on("click",function(n){e(n.target).is(".ch_nav_group.isBrowseMenu, .ch_nav_group.isBrowseMenu *")&&!e(n.target).is("ul.ch_nav_group.isBrowseMenu ul.ndbNavigationMobile li.clickable")||t()}),e(".ch_nav_group.isBrowseMenu li:not(.hasChildren, .oneLevelUpAction) > a:not(.isHamburgerMenu):not(.courseListToggle)").on("click",function(e){t()})}},{key:"setupMobileBrowseMenu",value:function(){if(void 0===e)var e=window.jQuery;e(".oneLevelUpAction").on("click",function(n){var t=e(this);t.parent("ul").parent(".hasChildren").parent("ul");t.parent("ul").addClass("isHidden").parent(".hasChildren").parent("ul").removeClass("willMoveOut")})}},{key:"setupLibraryMenu",value:function(){if(void 0===e)var e=window.jQuery;e("#ch_library_toggle").on("click",function(e){e.preventDefault(),e.stopPropagation(),c.toggleCourses()}),c.setupLibraryNavState()}},{key:"setupAccountMenu",value:function(){if(void 0===e)var e=window.jQuery}}]),e}();d=function(){!function(){if(void 0===e)var e=window.jQuery;e("document").ready(function(){f.setupUserContentMenu(),f.setupMobileUserContentMenu(),f.setupMobileBrowseMenu(),f.setupLibraryMenu(),s.init()})}()},"complete"===document.readyState?d():window.addEventListener("load",d)}]);var _deps=["utilServices"];var courseHeroMQServices=angular.module("courseHeroMQServices",_deps);courseHeroMQServices.service("courseHeroMQ",function($rootScope,$q,apiService){var API_GET_TOKEN_URL="/api/v1/users/me/messagingToken/";var started=false;function onMessage(e,payload){var messageType=payload.messageType;if(messageType==="error"){console.warn(payload.data.text);return}$rootScope.$emit(messageType,payload.data);$rootScope.$apply()}if(typeof $==="undefined"){var $=jQuery}$(window).on("courseHeroMQ.message.receive",onMessage);return{subscribe:function(topic){var deferred=$q.defer();if(connectionHandler.subscriptions.indexOf(topic)>=0){deferred.resolve();return deferred.promise}connectionHandler.subscriptions.push(topic);if(!connectionHandler.connected){connectionHandler.deferrers[topic]=deferred;return deferred.promise}var realTopic=topic.replace("{me}",connectionHandler.token.user_id);connectionHandler.session.subscribe(realTopic,connectionHandler.onMessage.bind(null,realTopic)).then(deferred.resolve,deferred.reject);return deferred.promise},start:function(websocketUrl){if(!started){apiService.get(API_GET_TOKEN_URL).success(function(response){connectionHandler.token=response;if(connectionHandler.token&&connectionHandler.token.messaging_token){connectionHandler.connect(websocketUrl)}});started=true}},listen:function(event,callback){$(window).on(event,callback)},ignore:function(event,callback){$(window).off(event,callback)}}});var connectionHandler=new function(){var RETRY_TIMEOUT=2e3;var retryTimeout=null;var closeHandler=function(reason,error){};var emit=function(event,data){$(window).trigger(event,[data])};var websocketConnection=null;return{connected:false,session:null,token:null,subscriptions:[],deferrers:{},subscribers:{},subscribe:function(topic,callback){if(connectionHandler.subscriptions.indexOf(topic)>=0){return connectionHandler.addSubscriber(topic,callback)}connectionHandler.subscriptions.push(topic);if(!connectionHandler.connected){return connectionHandler.addSubscriber(topic,callback)}var realTopic=connectionHandler.getRealTopic();connectionHandler.session.subscribe(realTopic,connectionHandler.onMessage.bind(null,realTopic));return connectionHandler.addSubscriber(topic,callback)},getRealTopic:function(topic){return topic.replace("{me}",connectionHandler.token.user_id)},addSubscriber:function(topic,callback){if(typeof connectionHandler.subscribers[topic]==="undefined"){connectionHandler.subscribers[topic]=[]}connectionHandler.subscribers[topic].push(callback);return function(){connectionHandler.subscribers[topic].splice(connectionHandler.subscribers[topic].indexOf(callback),1)}},onConnect:function(session){if(retryTimeout){clearInterval(retryTimeout)}connectionHandler.session=session;connectionHandler.connected=true;connectionHandler.subscriptions.forEach(function(topic){var realTopic=topic.replace("{me}",connectionHandler.token.user_id);var deferred=connectionHandler.deferrers[topic]?connectionHandler.deferrers[topic]:{resolve:null,reject:null};session.subscribe(realTopic,connectionHandler.onMessage.bind(null,topic)).then(deferred.resolve,deferred.reject)})},onMessage:function(topic,messages){var message=messages[0];var messageType=message.type;if(messageType==="error"){connectionHandler.subscriptions.splice(connectionHandler.subscriptions.indexOf(topic),1);console.warn(message.data.text);return}var messageData={messageType:messageType,data:message.data};emit("courseHeroMQ.message.receive",messageData);if(typeof connectionHandler.subscribers[topic]!=="undefined"){connectionHandler.subscribers[topic].forEach(function(cb){cb(messageData)})}},setupWebsocket:function(websocketUrl,token){websocketConnection=new autobahn.Connection({url:websocketUrl,realm:"realm1",onchallenge:connectionHandler.issueToken.bind(null,token),authmethods:["ticket"]});websocketConnection.onopen=connectionHandler.onConnect;websocketConnection.onclose=closeHandler;websocketConnection.open()},issueToken:function(token,session,method,extra){return token},connect:function(websocketUrl){connectionHandler.setupWebsocket(websocketUrl,connectionHandler.token.messaging_token)}}};window.connectionHandler=connectionHandler;var CourseHeroMQTransportController=function($scope,courseHeroMQ){$scope.init=function(websocketUrl){courseHeroMQ.start(websocketUrl)}};courseHeroMQServices.controller("CourseHeroMQTransportController",CourseHeroMQTransportController);(function(){var primaryTextStyle="color:#001a96; font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 400; font-style: normal; font-size: 60px;";var secondaryTextStyle="color: #e00099;font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size: 36px;";var tertiaryTextStyle="color: #3d3d3d;font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size: 24px;";console.group("Work with us!");console.log("%cCourse Hero%c is hiring.",primaryTextStyle,tertiaryTextStyle);console.log("%c Go to%c https://grnh.se/73cfdb9b1 %cto apply!",tertiaryTextStyle,secondaryTextStyle,tertiaryTextStyle);console.groupEnd()})();(function(){"use strict";angular.module("ux.tagRecording",[])})();(function(){"use strict";angular.module("ux.tagRecording").service("TagRecordingService",TagRecordingService);function TagRecordingService($window){var loaded=true;if(typeof $window.__insp=="undefined"){window.devLog("Inspectlet is not loaded on this page.");loaded=false}return{tagRecording:function(tag){if(!loaded){return}window.devLog("Session recording tagged: "+tag);$window.__insp.push(["tagSession",tag])}}}})();(function(){"use strict";angular.module("ux.tagRecording").directive("tagRecording",TagRecordingDirective);function TagRecordingDirective($parse,$timeout,TagRecordingService){return{restrict:"A",controller:function(){},link:function(scope,element,attrs){var tagInstructions=$parse(attrs.tagRecording)(scope);var fieldTagName="tag";var fieldAction="on";if(!(tagInstructions instanceof Array)){tagInstructions=[tagInstructions]}$timeout(function(){for(var i=0;i<tagInstructions.length;i++){attachTagging(i)}function attachTagging(i){var tagInstruction=tagInstructions[i];var tagElement=element;if(!tagInstruction.hasOwnProperty(fieldTagName)){errorMissingField(tagInstruction,fieldTagName,"Cannot tag something without a tag name");return}if(tagInstruction.hasOwnProperty("watch")){scope.$watch(attrs[tagInstruction.watch],function(newValue,oldValue){if(newValue==oldValue){return}tag(tagInstruction)});return}if(!tagInstruction.hasOwnProperty(fieldAction)){errorMissingField(tagInstruction,fieldAction,"Cannot tag something without an action");return}if(tagInstruction.hasOwnProperty("element")){tagElement=angular.element(element[0].querySelector(tagInstruction.element))}tagElement.on(tagInstruction[fieldAction],function(){tag(tagInstruction)})}function tag(tagInstruction){TagRecordingService.tagRecording(tagInstruction[fieldTagName])}},0);function errorMissingField(tagInstruction,field,message){console.error('Missing field "'+field+'": '+message+". Tag instruction: ",tagInstruction)}}}}})();!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=26)}([function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=window.React},function(e,t){e.exports=function(e,t,i,n,r){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce(function(i,n){return n(e,t,i)||i},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}},function(e,t){e.exports=function(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}},function(e,t){e.exports=window.BeefFlux},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){var n=i(15),r=i(0);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?r(e):t}},function(e,t){function i(t){return e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(t)}e.exports=i},function(e,t,i){var n=i(19);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}},function(e,t){e.exports=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},function(e,t){function i(){return e.exports=i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i.apply(this,arguments)}e.exports=i},function(e,t){e.exports=window.moment},function(e,t,i){var n=i(20),r=i(21),a=i(22);e.exports=function(e){return n(e)||r(e)||a()}},function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?e.exports=n=function(e){return i(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},n(t)}e.exports=n},function(e,t){e.exports=window.ReactDOM},function(e,t,i){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++)i[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return i},r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(s(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,a=n.length,o=String(e).replace(r,function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e}}),l=n[i];i<a;l=n[++i])f(l)||!S(l)?o+=" "+l:o+=" "+s(l);return o},t.deprecate=function(i,n){if(void 0!==e&&!0===e.noDeprecation)return i;if(void 0===e)return function(){return t.deprecate(i,n).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),r=!0}return i.apply(this,arguments)}};var a,o={};function s(e,i){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(i)?n.showHidden=i:i&&t._extend(n,i),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,e,n.depth)}function l(e,t){var i=s.styles[t];return i?"["+s.colors[i][0]+"m"+e+"["+s.colors[i][1]+"m":e}function c(e,t){return e}function u(e,i,n){if(e.customInspect&&i&&w(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return b(r)||(r=u(e,r,n)),r}var a=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(b(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}if(g(t))return e.stylize(""+t,"number");if(m(t))return e.stylize(""+t,"boolean");if(f(t))return e.stylize("null","null")}(e,i);if(a)return a;var o=Object.keys(i),s=function(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(i)),_(i)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(i);if(0===o.length){if(w(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(y(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(E(i))return e.stylize(Date.prototype.toString.call(i),"date");if(_(i))return h(i)}var c,S="",T=!1,C=["{","}"];(d(i)&&(T=!0,C=["[","]"]),w(i))&&(S=" [Function"+(i.name?": "+i.name:"")+"]");return y(i)&&(S=" "+RegExp.prototype.toString.call(i)),E(i)&&(S=" "+Date.prototype.toUTCString.call(i)),_(i)&&(S=" "+h(i)),0!==o.length||T&&0!=i.length?n<0?y(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),c=T?function(e,t,i,n,r){for(var a=[],o=0,s=t.length;o<s;++o)O(t,String(o))?a.push(p(e,t,i,n,String(o),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(p(e,t,i,n,r,!0))}),a}(e,i,n,s,o):o.map(function(t){return p(e,i,n,s,t,T)}),e.seen.pop(),function(e,t,i){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(c,S,C)):C[0]+S+C[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,i,n,r,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),O(n,r)||(o="["+r+"]"),s||(e.seen.indexOf(l.value)<0?(s=f(i)?u(e,l.value,null):u(e,l.value,i-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),v(o)){if(a&&r.match(/^\d+$/))return s;(o=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function d(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function f(e){return null===e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function v(e){return void 0===e}function y(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function E(e){return S(e)&&"[object Date]"===T(e)}function _(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function w(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(i){if(v(a)&&(a=e.env.NODE_DEBUG||""),i=i.toUpperCase(),!o[i])if(new RegExp("\\b"+i+"\\b","i").test(a)){var n=e.pid;o[i]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",i,n,e)}}else o[i]=function(){};return o[i]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=m,t.isNull=f,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=y,t.isObject=S,t.isDate=E,t.isError=_,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(24);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",A(),t.format.apply(t,arguments))},t.inherits=i(25),t._extend=function(e,t){if(!t||!S(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function D(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t;if("function"!=typeof(t=e[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,i,n=new Promise(function(e,n){t=e,i=n}),r=[],a=0;a<arguments.length;a++)r.push(arguments[a]);r.push(function(e,n){e?i(e):t(n)});try{e.apply(this,r)}catch(e){i(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=N,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n]);var r=i.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return r.apply(a,arguments)};t.apply(this,i).then(function(t){e.nextTick(o,null,t)},function(t){e.nextTick(D,t,o)})}return Object.setPrototypeOf(i,Object.getPrototypeOf(t)),Object.defineProperties(i,n(t)),i}}).call(this,i(23))},function(e,t,i){e.exports={"new-marker":"new-marker",newMarker:"new-marker"}},function(e,t){function i(t,n){return e.exports=i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(t,n)}e.exports=i},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){var i,n,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],u=!1,h=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new m(e,t)),1!==c.length||u||s(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){"use strict";i.r(t);var n,r=i(1),a=i(16),o=i(5),s=i.n(o),l=i(9),c=i.n(l),u=i(6),h=i.n(u),p=i(7),d=i.n(p),m=i(0),f=i.n(m),g=i(8),b=i.n(g),v=function(e){function t(){return s()(this,t),h()(this,d()(t).apply(this,arguments))}return b()(t,e),c()(t,[{key:"getClassName",value:function(e){var t="";for(var i in e)t+=e[i]?" "+i:"";return t}}]),t}(r.Component);!function(e){e[e.PHONE_MAX=767]="PHONE_MAX",e[e.PHONE_MIN=320]="PHONE_MIN",e[e.TABLET_MAX=1199]="TABLET_MAX"}(n||(n={}));var y,S,E,_,w,T,C,k,A,O,N,D,x,R,U,I,F,z,P,L,j,M,B,H,q,G,Q,W,V,X,K,Y,J,Z,ee,te,ie,ne,re,ae,oe,se,le,ce,ue,he,pe,de,me,fe,ge,be,ve,ye,Se,Ee,_e,we,Te,Ce,ke,Ae,Oe,Ne,De,xe,Re,Ue,Ie,Fe,ze,Pe,Le,je,Me,Be,He,qe,Ge,Qe,We,Ve,Xe,Ke,$e,Ye,Je,Ze,et,tt,it,nt,rt,at,ot,st,lt,ct,ut,ht,pt,dt,mt,ft,gt,bt,vt,yt,St,Et,_t,wt,Tt,Ct,kt,At,Ot,Nt,Dt,xt,Rt,Ut,It,Ft,zt,Pt,Lt,jt,Mt,Bt,Ht,qt,Gt,Qt,Wt,Vt,Xt,Kt,$t,Yt,Jt,Zt,ei,ti,ii,ni,ri,ai,oi,si,li,ci,ui,hi,pi,di,mi,fi,gi,bi,vi,yi,Si,Ei,_i,wi,Ti,Ci,ki,Ai,Oi,Ni,Di,xi,Ri,Ui,Ii,Fi,zi,Pi,Li,ji,Mi,Bi,Hi,qi,Gi,Qi,Wi,Vi,Xi,Ki,$i,Yi,Ji,Zi,en,tn,nn,rn,an,on,sn,ln,cn,un,hn,pn,dn,mn,fn,gn,bn,vn,yn,Sn,En,_n,wn,Tn,Cn,kn,An,On,Nn,Dn,xn,Rn,Un,In,Fn,zn,Pn,Ln,jn,Mn,Bn,Hn,qn,Gn,Qn,Wn,Vn,Xn,Kn,$n,Yn,Jn,Zn,er,tr,ir,nr,rr,ar,or,sr,lr,cr,ur,hr,pr,dr,mr,fr,gr,br,vr,yr,Sr,Er,_r,wr,Tr,Cr,kr,Ar,Or,Nr,Dr,xr,Rr,Ur,Ir,Fr,zr,Pr,Lr,jr,Mr,Br,Hr,qr,Gr,Qr,Wr,Vr,Xr,Kr,$r,Yr,Jr,Zr,ea,ta,ia,na,ra,aa,oa,sa,la,ca,ua,ha,pa,da,ma,fa,ga,ba,va,ya,Sa,Ea,_a,wa,Ta,Ca,ka,Aa,Oa,Na,Da,xa,Ra,Ua,Ia,Fa,za,Pa,La,ja,Ma,Ba=n,Ha=i(14),qa=i.n(Ha),Ga="search_widget:search_submitted",Qa=i(4),Wa=Qa.Actions.define("SET_DEFAULT_SUGGESTIONS",function(e){return e}),Va=i(11),Xa=i.n(Va),Ka=Qa.Actions.define("RECEIVE_SEARCH_RESPONSE",function(e){return e}),$a=i(3),Ya=i.n($a),Ja=i(2),Za=i.n(Ja),eo=(i(10),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(this,e),Object.assign(this,t)}),to=(y=Qa.Schema.int(),S=Qa.Schema.string(),C=T=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"code",_,f()(e)),Ya()(e,"message",w,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),T.schema={},E=C,_=Za()(E.prototype,"code",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=Za()(E.prototype,"message",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E),io=to,no=(k=Qa.Schema.int(),A=Qa.Schema.string(),O=Qa.Schema.int(),N=Qa.Schema.string(),D=Qa.Schema.string(),x=Qa.Schema.int(),R=Qa.Schema.string(),H=B=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"school_id",I,f()(e)),Ya()(e,"school_name",F,f()(e)),Ya()(e,"course_id",z,f()(e)),Ya()(e,"course_num",P,f()(e)),Ya()(e,"course_name",L,f()(e)),Ya()(e,"dept_id",j,f()(e)),Ya()(e,"dept_acro",M,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),B.schema={},U=H,I=Za()(U.prototype,"school_id",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=Za()(U.prototype,"school_name",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=Za()(U.prototype,"course_id",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=Za()(U.prototype,"course_num",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=Za()(U.prototype,"course_name",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=Za()(U.prototype,"dept_id",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=Za()(U.prototype,"dept_acro",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U),ro=no,ao=(q=Qa.Schema.int(),G=Qa.Schema.string(),K=X=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"subject_id",W,f()(e)),Ya()(e,"subject_name",V,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),X.schema={},Q=K,W=Za()(Q.prototype,"subject_id",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=Za()(Q.prototype,"subject_name",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q),oo=ao,so=(Y=Qa.Schema.array({initial:function(){return[]},schema:null}),J=Qa.Schema.array({initial:function(){return[]},schema:null}),Z=Qa.Schema.object({schema:function(){return ro.schema},constructor:ro}),ee=Qa.Schema.object({schema:function(){return oo.schema},constructor:oo}),se=oe=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"type",ie,f()(e)),Ya()(e,"doc_type",ne,f()(e)),Ya()(e,"course",re,f()(e)),Ya()(e,"subject",ae,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),oe.schema={},te=se,ie=Za()(te.prototype,"type",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=Za()(te.prototype,"doc_type",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=Za()(te.prototype,"course",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Za()(te.prototype,"subject",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te),lo=so,co=(le=Qa.Schema.string(),ce=Qa.Schema.string(),ue=Qa.Schema.string(),he=Qa.Schema.string(),pe=Qa.Schema.string(),de=Qa.Schema.bool(),_e=Ee=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"lat",fe,f()(e)),Ya()(e,"long",ge,f()(e)),Ya()(e,"city",be,f()(e)),Ya()(e,"state",ve,f()(e)),Ya()(e,"zip",ye,f()(e)),Ya()(e,"auto",Se,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Ee.schema={},me=_e,fe=Za()(me.prototype,"lat",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Za()(me.prototype,"long",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=Za()(me.prototype,"city",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Za()(me.prototype,"state",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Za()(me.prototype,"zip",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=Za()(me.prototype,"auto",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me),uo=co,ho=(we=Qa.Schema.int(),Te=Qa.Schema.string(),Ce=Qa.Schema.int(),ke=Qa.Schema.string(),Ae=Qa.Schema.string(),Oe=Qa.Schema.object({schema:function(){return uo.schema},constructor:uo}),Ne=Qa.Schema.object({schema:function(){return lo.schema},constructor:lo}),De=Qa.Schema.string(),xe=Qa.Schema.int({initial:function(){return 25}}),Re=Qa.Schema.int({initial:function(){return 0}}),Ue=Qa.Schema.int({initial:function(){return 0}}),Ve=We=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"search_id",Fe,f()(e)),Ya()(e,"search_key",ze,f()(e)),Ya()(e,"parent_search_id",Pe,f()(e)),Ya()(e,"user_query",Le,f()(e)),Ya()(e,"final_query",je,f()(e)),Ya()(e,"location",Me,f()(e)),Ya()(e,"filters",Be,f()(e)),Ya()(e,"sort",He,f()(e)),Ya()(e,"limit",qe,f()(e)),Ya()(e,"offset",Ge,f()(e)),Ya()(e,"total_results",Qe,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),We.schema={},Ie=Ve,Fe=Za()(Ie.prototype,"search_id",[we],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Za()(Ie.prototype,"search_key",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Za()(Ie.prototype,"parent_search_id",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=Za()(Ie.prototype,"user_query",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=Za()(Ie.prototype,"final_query",[Ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=Za()(Ie.prototype,"location",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=Za()(Ie.prototype,"filters",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=Za()(Ie.prototype,"sort",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=Za()(Ie.prototype,"limit",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=Za()(Ie.prototype,"offset",[Re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe=Za()(Ie.prototype,"total_results",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie),po=ho,mo=(Xe=Qa.Schema.string(),Ke=Qa.Schema.string(),$e=Qa.Schema.string(),Ye=Qa.Schema.int(),Je=Qa.Schema.array({initial:function(){return[]},schema:function(){return mo.schema}}),ot=at=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"display",et,f()(e)),Ya()(e,"description",tt,f()(e)),Ya()(e,"value",it,f()(e)),Ya()(e,"count",nt,f()(e)),Ya()(e,"children",rt,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),at.schema={},Ze=ot,et=Za()(Ze.prototype,"display",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=Za()(Ze.prototype,"description",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=Za()(Ze.prototype,"value",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=Za()(Ze.prototype,"count",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=Za()(Ze.prototype,"children",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze),fo=mo,go=(st=Qa.Schema.string(),lt=Qa.Schema.string(),ct=Qa.Schema.string(),ut=Qa.Schema.array({schema:function(){return fo.schema},constructor:fo}),bt=gt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"display",pt,f()(e)),Ya()(e,"type",dt,f()(e)),Ya()(e,"field",mt,f()(e)),Ya()(e,"options",ft,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),gt.schema={},ht=bt,pt=Za()(ht.prototype,"display",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=Za()(ht.prototype,"type",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=Za()(ht.prototype,"field",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=Za()(ht.prototype,"options",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ht),bo=go,vo=(vt=Qa.Schema.array({schema:function(){return bo.schema},constructor:bo}),yt=Qa.Schema.array({schema:function(){return fo.schema},constructor:fo}),Tt=wt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"filters",Et,f()(e)),Ya()(e,"sort",_t,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),wt.schema={},St=Tt,Et=Za()(St.prototype,"filters",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=Za()(St.prototype,"sort",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St),yo=vo,So=(Ct=Qa.Schema.string(),kt=Qa.Schema.string(),At=Qa.Schema.string(),Ot=Qa.Schema.string(),Nt=Qa.Schema.string(),Dt=Qa.Schema.int(),jt=Lt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"title",Rt,f()(e)),Ya()(e,"url",Ut,f()(e)),Ya()(e,"type",It,f()(e)),Ya()(e,"date",Ft,f()(e)),Ya()(e,"text",zt,f()(e)),Ya()(e,"views",Pt,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Lt.schema={},xt=jt,Rt=Za()(xt.prototype,"title",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=Za()(xt.prototype,"url",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=Za()(xt.prototype,"type",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ft=Za()(xt.prototype,"date",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zt=Za()(xt.prototype,"text",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Za()(xt.prototype,"views",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt),Eo=So,_o=(Mt=Qa.Schema.int(),Bt=Qa.Schema.string(),Wt=Qt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"db_filename",qt,f()(e)),Ya()(e,"type",Gt,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Qt.schema={},Ht=Wt,qt=Za()(Ht.prototype,"db_filename",[Mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=Za()(Ht.prototype,"type",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht),wo=_o,To=(Vt=Qa.Schema.int(),Xt=Qa.Schema.bool(),Zt=Jt=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"question_id",$t,f()(e)),Ya()(e,"answered",Yt,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Jt.schema={},Kt=Zt,$t=Za()(Kt.prototype,"question_id",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yt=Za()(Kt.prototype,"answered",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt),Co=To,ko=(ei=Qa.Schema.int(),ti=Qa.Schema.string(),oi=ai=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"cms_item_id",ni,f()(e)),Ya()(e,"route",ri,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),ai.schema={},ii=oi,ni=Za()(ii.prototype,"cms_item_id",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ri=Za()(ii.prototype,"route",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ii),Ao=ko,Oo=(si=Qa.Schema.int(),hi=ui=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"book_section_id",ci,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),ui.schema={},li=hi,ci=Za()(li.prototype,"book_section_id",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li),No=Oo,Do=(pi=Qa.Schema.string(),di=Qa.Schema.string(),mi=Qa.Schema.int(),Si=yi=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"title",gi,f()(e)),Ya()(e,"url",bi,f()(e)),Ya()(e,"count",vi,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),yi.schema={},fi=Si,gi=Za()(fi.prototype,"title",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi=Za()(fi.prototype,"url",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vi=Za()(fi.prototype,"count",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi),xo=Do,Ro=(Ei=Qa.Schema.int(),_i=Qa.Schema.string(),wi=Qa.Schema.string(),Ti=Qa.Schema.string(),xi=Di=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"course_id",ki,f()(e)),Ya()(e,"course_num",Ai,f()(e)),Ya()(e,"course_url",Oi,f()(e)),Ya()(e,"course_name",Ni,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Di.schema={},Ci=xi,ki=Za()(Ci.prototype,"course_id",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ai=Za()(Ci.prototype,"course_num",[_i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oi=Za()(Ci.prototype,"course_url",[wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=Za()(Ci.prototype,"course_name",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ci),Uo=Ro,Io=(Ri=Qa.Schema.int(),Ui=Qa.Schema.string(),Ii=Qa.Schema.string(),Mi=ji=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"dept_id",zi,f()(e)),Ya()(e,"dept_acro",Pi,f()(e)),Ya()(e,"dept_url",Li,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),ji.schema={},Fi=Mi,zi=Za()(Fi.prototype,"dept_id",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi=Za()(Fi.prototype,"dept_acro",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Li=Za()(Fi.prototype,"dept_url",[Ii],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi),Fo=(Bi=Qa.Schema.int(),Hi=Qa.Schema.string(),qi=Qa.Schema.string(),Ki=Xi=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"school_id",Qi,f()(e)),Ya()(e,"school_name",Wi,f()(e)),Ya()(e,"school_url",Vi,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Xi.schema={},Gi=Ki,Qi=Za()(Gi.prototype,"school_id",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wi=Za()(Gi.prototype,"school_name",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vi=Za()(Gi.prototype,"school_url",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gi),zo=($i=Qa.Schema.object({schema:function(){return Uo.schema},constructor:Uo}),Yi=Qa.Schema.object({schema:function(){return Io.schema},constructor:Io}),Ji=Qa.Schema.object({schema:function(){return Fo.schema},constructor:Fo}),Zi=Qa.Schema.object({schema:function(){return oo.schema},constructor:oo}),sn=on=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"course",tn,f()(e)),Ya()(e,"department",nn,f()(e)),Ya()(e,"school",rn,f()(e)),Ya()(e,"subject",an,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),on.schema={},en=sn,tn=Za()(en.prototype,"course",[$i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=Za()(en.prototype,"department",[Yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=Za()(en.prototype,"school",[Ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=Za()(en.prototype,"subject",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en),Po=(ln=Qa.Schema.string(),cn=Qa.Schema.string(),mn=dn=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"url",hn,f()(e)),Ya()(e,"overlay_text",pn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),dn.schema={},un=mn,hn=Za()(un.prototype,"url",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pn=Za()(un.prototype,"overlay_text",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),un),Lo=(fn=Qa.Schema.int(),yn=vn=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"video_id",bn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),vn.schema={},gn=yn,bn=Za()(gn.prototype,"video_id",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn),jo=(Sn=Qa.Schema.int(),En=Qa.Schema.string(),_n=Qa.Schema.string(),wn=Qa.Schema.string(),Tn=Qa.Schema.string(),Cn=Qa.Schema.string(),kn=Qa.Schema.string(),An=Qa.Schema.int(),Ln=Pn=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"textbook_id",Nn,f()(e)),Ya()(e,"title",Dn,f()(e)),Ya()(e,"author",xn,f()(e)),Ya()(e,"cover_url",Rn,f()(e)),Ya()(e,"edition_name",Un,f()(e)),Ya()(e,"isbn",In,f()(e)),Ya()(e,"publisher",Fn,f()(e)),Ya()(e,"num_solutions",zn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Pn.schema={},On=Ln,Nn=Za()(On.prototype,"textbook_id",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=Za()(On.prototype,"title",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=Za()(On.prototype,"author",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rn=Za()(On.prototype,"cover_url",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Un=Za()(On.prototype,"edition_name",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=Za()(On.prototype,"isbn",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn=Za()(On.prototype,"publisher",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=Za()(On.prototype,"num_solutions",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On),Mo=(jn=Qa.Schema.string(),qn=Hn=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"num",Bn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Hn.schema={},Mn=qn,Bn=Za()(Mn.prototype,"num",[jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mn),Bo=(Gn=Qa.Schema.string(),Qn=Qa.Schema.string(),$n=Kn=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"title",Vn,f()(e)),Ya()(e,"num",Xn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Kn.schema={},Wn=$n,Vn=Za()(Wn.prototype,"title",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xn=Za()(Wn.prototype,"num",[Qn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wn),Ho=(Yn=Qa.Schema.string(),tr=er=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"title",Zn,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),er.schema={},Jn=tr,Zn=Za()(Jn.prototype,"title",[Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn),qo=(ir=Qa.Schema.object({initial:function(){return{}},schema:function(){return jo.schema},constructor:jo}),nr=Qa.Schema.int(),rr=Qa.Schema.string(),ar=Qa.Schema.object({initial:function(){return{}},schema:function(){return Mo.schema},constructor:Mo}),or=Qa.Schema.object({initial:function(){return{}},schema:function(){return Bo.schema},constructor:Bo}),sr=Qa.Schema.object({initial:function(){return{}},schema:function(){return Ho.schema},constructor:Ho}),lr=Qa.Schema.string(),cr=Qa.Schema.string(),Sr=yr=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"textbook",hr,f()(e)),Ya()(e,"exercise_id",pr,f()(e)),Ya()(e,"url",dr,f()(e)),Ya()(e,"chapter",mr,f()(e)),Ya()(e,"section",fr,f()(e)),Ya()(e,"heading",gr,f()(e)),Ya()(e,"exercise_num",br,f()(e)),Ya()(e,"page",vr,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),yr.schema={},ur=Sr,hr=Za()(ur.prototype,"textbook",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=Za()(ur.prototype,"exercise_id",[nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dr=Za()(ur.prototype,"url",[rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mr=Za()(ur.prototype,"chapter",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fr=Za()(ur.prototype,"section",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gr=Za()(ur.prototype,"heading",[sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),br=Za()(ur.prototype,"exercise_num",[lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vr=Za()(ur.prototype,"page",[cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur),Go=(Er=Qa.Schema.object({schema:function(){return Eo.schema},constructor:Eo}),_r=Qa.Schema.object({schema:function(){return Po.schema},constructor:Po}),wr=Qa.Schema.object({schema:function(){return wo.schema},constructor:wo}),Tr=Qa.Schema.object({schema:function(){return Co.schema},constructor:Co}),Cr=Qa.Schema.object({schema:function(){return zo.schema},constructor:zo}),kr=Qa.Schema.object({schema:function(){return Ao.schema},constructor:Ao}),Ar=Qa.Schema.object({schema:function(){return No.schema},constructor:No}),Or=Qa.Schema.object({schema:function(){return Lo.schema},constructor:Lo}),Nr=Qa.Schema.array({schema:function(){return xo.schema},constructor:xo}),Dr=Qa.Schema.object({schema:function(){return jo.schema},constructor:jo}),xr=Qa.Schema.object({schema:function(){return qo.schema},constructor:qo}),Qr=Gr=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"core",Ur,f()(e)),Ya()(e,"thumbnail",Ir,f()(e)),Ya()(e,"document",Fr,f()(e)),Ya()(e,"question",zr,f()(e)),Ya()(e,"taxonomy",Pr,f()(e)),Ya()(e,"course_studyguide",Lr,f()(e)),Ya()(e,"lit_studyguide",jr,f()(e)),Ya()(e,"studyguide_video",Mr,f()(e)),Ya()(e,"sub_resources",Br,f()(e)),Ya()(e,"textbook",Hr,f()(e)),Ya()(e,"textbook_exercise",qr,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),c()(t,[{key:"getUniqueID",value:function(){return this.document?"DB-"+this.document.db_filename:this.question?"Q-"+this.question.question_id:this.textbook?"T-"+this.textbook.textbook_id:this.textbook_exercise?"TE-"+this.textbook_exercise.exercise_id:this.sub_resources?"C-"+this.taxonomy.course.course_id:"NA-"+this.core.title}}]),t}(eo),Gr.schema={},Rr=Qr,Ur=Za()(Rr.prototype,"core",[Er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ir=Za()(Rr.prototype,"thumbnail",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr=Za()(Rr.prototype,"document",[wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zr=Za()(Rr.prototype,"question",[Tr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pr=Za()(Rr.prototype,"taxonomy",[Cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr=Za()(Rr.prototype,"course_studyguide",[kr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jr=Za()(Rr.prototype,"lit_studyguide",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mr=Za()(Rr.prototype,"studyguide_video",[Or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Br=Za()(Rr.prototype,"sub_resources",[Nr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hr=Za()(Rr.prototype,"textbook",[Dr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qr=Za()(Rr.prototype,"textbook_exercise",[xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rr),Qo=(Wr=Qa.Schema.string(),Vr=Qa.Schema.string(),Jr=Yr=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"name",Kr,f()(e)),Ya()(e,"url",$r,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Yr.schema={},Xr=Jr,Kr=Za()(Xr.prototype,"name",[Wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$r=Za()(Xr.prototype,"url",[Vr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xr),Wo=(Zr=Qa.Schema.int(),ea=Qa.Schema.string(),ta=Qa.Schema.string(),ia=Qa.Schema.string(),na=Qa.Schema.string(),ra=Qa.Schema.string(),aa=Qa.Schema.string(),oa=Qa.Schema.array({schema:function(){return Qo.schema},constructor:Qo,initial:function(){return[]}}),sa=Qa.Schema.array({schema:function(){return qo.schema},constructor:qo,initial:function(){return[]}}),ya=va=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"textbook_id",ca,f()(e)),Ya()(e,"title",ua,f()(e)),Ya()(e,"author",ha,f()(e)),Ya()(e,"isbn",pa,f()(e)),Ya()(e,"edition_name",da,f()(e)),Ya()(e,"cover_url",ma,f()(e)),Ya()(e,"url",fa,f()(e)),Ya()(e,"chapters",ga,f()(e)),Ya()(e,"exercises",ba,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),va.schema={},la=ya,ca=Za()(la.prototype,"textbook_id",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ua=Za()(la.prototype,"title",[ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ha=Za()(la.prototype,"author",[ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pa=Za()(la.prototype,"isbn",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),da=Za()(la.prototype,"edition_name",[na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ma=Za()(la.prototype,"cover_url",[ra],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fa=Za()(la.prototype,"url",[aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ga=Za()(la.prototype,"chapters",[oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ba=Za()(la.prototype,"exercises",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),la),Vo=(Sa=Qa.Schema.string(),Ea=Qa.Schema.object({schema:function(){return Wo.schema},constructor:Wo}),ka=Ca=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"type",wa,f()(e)),Ya()(e,"textbook",Ta,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),Ca.schema={},_a=ka,wa=Za()(_a.prototype,"type",[Sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ta=Za()(_a.prototype,"textbook",[Ea],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_a),Xo=(Aa=Qa.Schema.array({schema:function(){return Go.schema},constructor:Go}),Oa=Qa.Schema.object({schema:function(){return po.schema},constructor:po}),Na=Qa.Schema.object({schema:function(){return yo.schema},constructor:yo}),Da=Qa.Schema.array({schema:function(){return io.schema},constructor:io}),xa=Qa.Schema.array({initial:function(){return[]},schema:function(){return Vo.schema},constructor:Vo}),ja=La=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"results",Ua,f()(e)),Ya()(e,"meta",Ia,f()(e)),Ya()(e,"options",Fa,f()(e)),Ya()(e,"errors",za,f()(e)),Ya()(e,"callout_results",Pa,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),La.schema={},Ra=ja,Ua=Za()(Ra.prototype,"results",[Aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ia=Za()(Ra.prototype,"meta",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fa=Za()(Ra.prototype,"options",[Na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),za=Za()(Ra.prototype,"errors",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pa=Za()(Ra.prototype,"callout_results",[xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ra);!function(e){e.RELEVANCY="relevancy",e.VIEWS="views",e.DATE="date",e.POPULAR="popular"}(Ma||(Ma={}));var Ko,$o,Yo,Jo,Zo,es,ts,is,ns,rs,as,os,ss,ls,cs,us,hs,ps,ds,ms,fs,gs,bs,vs,ys,Ss,Es,_s,ws,Ts,Cs,ks,As,Os,Ns,Ds,xs,Rs,Us,Is,Fs,zs,Ps,Ls,js,Ms,Bs,Hs=Ma,qs=(Ko=Qa.Schema.string(),$o=Qa.Schema.int(),Yo=Qa.Schema.string(),Jo=Qa.Schema.string(),Zo=Qa.Schema.int(),ss=os=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"initial_query",ts,f()(e)),Ya()(e,"search_suggestion_id",is,f()(e)),Ya()(e,"suggestion_source",ns,f()(e)),Ya()(e,"referrer",rs,f()(e)),Ya()(e,"suggestion_position",as,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),os.schema={},es=ss,ts=Za()(es.prototype,"initial_query",[Ko],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),is=Za()(es.prototype,"search_suggestion_id",[$o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ns=Za()(es.prototype,"suggestion_source",[Yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rs=Za()(es.prototype,"referrer",[Jo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),as=Za()(es.prototype,"suggestion_position",[Zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es);!function(e){e.WEB="web",e.MOBILE="mobile"}(Bs||(Bs={}));var Gs,Qs=(ls=Qa.Schema.string({initial:function(){return Bs.WEB}}),cs=Qa.Schema.string(),us=Qa.Schema.int(),hs=Qa.Schema.int(),ps=Qa.Schema.string(),ds=Qa.Schema.string(),ms=Qa.Schema.string(),fs=Qa.Schema.string(),gs=Qa.Schema.object({schema:function(){return uo.schema},constructor:uo}),bs=Qa.Schema.object({schema:function(){return lo.schema},initial:function(){return{}},constructor:lo}),vs=Qa.Schema.string({initial:function(){return Hs.RELEVANCY}}),ys=Qa.Schema.int({initial:function(){return 20}}),Ss=Qa.Schema.int({initial:function(){return 0}}),Es=Qa.Schema.object({schema:function(){return qs.schema},constructor:qs}),_s=Qa.Schema.array({schema:null,initial:function(){return[]}}),Ms=js=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"client",Ts,f()(e)),Ya()(e,"query",Cs,f()(e)),Ya()(e,"previous_search_id",ks,f()(e)),Ya()(e,"search_id",As,f()(e)),Ya()(e,"search_key",Os,f()(e)),Ya()(e,"trigger",Ns,f()(e)),Ya()(e,"view",Ds,f()(e)),Ya()(e,"source",xs,f()(e)),Ya()(e,"location",Rs,f()(e)),Ya()(e,"filters",Us,f()(e)),Ya()(e,"sort",Is,f()(e)),Ya()(e,"limit",Fs,f()(e)),Ya()(e,"offset",zs,f()(e)),Ya()(e,"suggestion",Ps,f()(e)),Ya()(e,"callout_types",Ls,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),js.schema={},ws=Ms,Ts=Za()(ws.prototype,"client",[ls],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cs=Za()(ws.prototype,"query",[cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ks=Za()(ws.prototype,"previous_search_id",[us],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),As=Za()(ws.prototype,"search_id",[hs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Os=Za()(ws.prototype,"search_key",[ps],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ns=Za()(ws.prototype,"trigger",[ds],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ds=Za()(ws.prototype,"view",[ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xs=Za()(ws.prototype,"source",[fs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rs=Za()(ws.prototype,"location",[gs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Us=Za()(ws.prototype,"filters",[bs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=Za()(ws.prototype,"sort",[vs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fs=Za()(ws.prototype,"limit",[ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zs=Za()(ws.prototype,"offset",[Ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ps=Za()(ws.prototype,"suggestion",[Es],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ls=Za()(ws.prototype,"callout_types",[_s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ws);!function(e){e.DOCUMENT="document",e.QUESTION="question",e.COURSE="course",e.COURSE_STUDY_GUIDE="course_studyguide",e.LIT_STUDY_GUIDE="lit_studyguide",e.COMBINED_STUDY_GUIDE="combined_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.VIDEO="video",e.EDUCATOR_CONTENT="educator_content",e.TEXTBOOK="textbook",e.TEXTBOOK_EXERCISE="textbook_exercise"}(Gs||(Gs={}));var Ws,Vs,Xs,Ks,$s,Ys,Js,Zs,el,tl,il,nl=Gs,rl=new(function(e){function t(){var e;return s()(this,t),(e=h()(this,d()(t).call(this))).state={lastResponse:null,trigger:null},Qa.Actions.register(Xa()({},Ka,e.onReceiveSearchResponse.bind(f()(e))),f()(e)),e.sanitizeSearchResponse=e.sanitizeSearchResponse.bind(f()(e)),e}return b()(t,e),c()(t,[{key:"sanitizeSearchResponse",value:function(e){var t=this.sanitize(e,Xo.schema),i=t.meta&&t.meta.filters?t.meta.filters.type:[];return-1!==i.indexOf(nl.COURSE_STUDY_GUIDE)&&-1!==i.indexOf(nl.LIT_STUDY_GUIDE)&&(t.meta.filters.type=[].concat(qa()(i.filter(function(e){return e!==nl.COURSE_STUDY_GUIDE&&e!==nl.LIT_STUDY_GUIDE})),[nl.COMBINED_STUDY_GUIDE])),new Xo(t)}},{key:"sanitizeFilterData",value:function(e){return new lo(this.sanitize(e,lo.schema))}},{key:"sanitizeSuggestionData",value:function(e){return new qs(this.sanitize(e,qs.schema))}},{key:"sanitizeSearchRequest",value:function(e){var t=this.sanitize(e,Qs.schema),i=t.filters?t.filters.type:[];return-1!==i.indexOf(nl.COMBINED_STUDY_GUIDE)&&(t.filters.type=[].concat(qa()(i.filter(function(e){return e!==nl.COMBINED_STUDY_GUIDE})),[nl.COURSE_STUDY_GUIDE,nl.LIT_STUDY_GUIDE])),new Qs(t)}},{key:"onReceiveSearchResponse",value:function(e){var t=this.nextState();return t.lastResponse=this.sanitizeSearchResponse(e[0]),t.trigger=e[1],t}}]),t}(Qa.Store)),al=(Ws=Qa.Schema.int(),Vs=Qa.Schema.string(),Xs=Qa.Schema.int(),Ks=Qa.Schema.string(),il=tl=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"id",Ys,f()(e)),Ya()(e,"text",Js,f()(e)),Ya()(e,"position",Zs,f()(e)),Ya()(e,"source",el,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),t}(eo),tl.schema={},$s=il,Ys=Za()($s.prototype,"id",[Ws],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Js=Za()($s.prototype,"text",[Vs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zs=Za()($s.prototype,"position",[Xs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),el=Za()($s.prototype,"source",[Ks],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$s),ol=new(function(e){function t(){var e;return s()(this,t),(e=h()(this,d()(t).call(this))).state={defaultSuggestions:[]},Qa.Actions.register(Xa()({},Wa,e.setDefaultSuggestions.bind(f()(e))),f()(e)),e}return b()(t,e),c()(t,[{key:"sanitizeJSONSuggestions",value:function(e){var t=this,i=JSON.parse(e);return Array.isArray(i)?i.map(function(e,i){return t.sanitizeSuggestion({id:i,text:e})}):[]}},{key:"sanitizeAutocompleteSuggestions",value:function(e){var t=this;return Array.isArray(e)?e.map(function(e,i){return t.sanitizeSuggestion({id:e.search_suggestion_id,text:e.suggestion,position:i,source:e.source})}):[]}},{key:"sanitizeSuggestion",value:function(e){return new al(this.sanitize(e,al.schema))}},{key:"getDefaultSuggestions",value:function(){return this.state.defaultSuggestions}},{key:"setDefaultSuggestions",value:function(e){var t=this,i=this.nextState();return e.forEach(function(e){var n=t.sanitize(e,al.schema);t.upsertItem(i.defaultSuggestions,n.id,n)}),i}}]),t}(Qa.Store));function sl(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function ll(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?sl(i,!0).forEach(function(t){Xa()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sl(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var cl,ul=window.dataLayer,hl=window.tracker;!function(e){e.PRIMARY="Primary",e.SECONDARY="Secondary",e.INTERSTITIAL="Interstitial",e.BANNER="Banner",e.LINK="Link"}(cl||(cl={}));var pl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;void 0!==ul&&(void 0!==hl&&hl.super_properties instanceof Object&&(t=ll({},hl.super_properties,{},t)),i&&(t.page_type=hl.get_page_type()),ul.push({event:"User Tracking Event",user_tracking_properties:{eventName:e,properties:t},_clear:!0}));var n,r,a=window.amplitude;a?a.getInstance().logEvent(e,t):null===(n=window.__CH_TRACKER)||void 0===n||null===(r=n.BUFFER)||void 0===r||r.push({eventName:e,properties:t})},dl=window,ml=dl.Action,fl=dl.Actions,gl=dl.ApiService,bl=dl.Beef,vl=(dl.Dispatcher,dl.RoutingService,dl.Store);function yl(){return bl.start(),bl.service(gl.SERVICE_ID)}var Sl,El,_l,wl,Tl,Cl=function(e){return function(t,i){var n,r,a,o,s,l=t[i];return t[i]=(n=l,(r=e)||(r=250),function(){var e=a||this,t=+new Date,i=arguments;o&&t<o+r?(clearTimeout(s),s=setTimeout(function(){o=t,n.apply(e,i)},r)):(o=t,n.apply(e,i))}),t}},kl=(Sl=Cl(250),El=function(){function e(){s()(this,e)}return c()(e,null,[{key:"fetchAutocompleteSuggestions",value:function(e,t,i){return yl().get("/api/v1/search/suggest/",{query:e}).then(function(e){t&&t(e)},function(e){i&&i(e)})}}]),e}(),Za()(El,"fetchAutocompleteSuggestions",[Sl],Object.getOwnPropertyDescriptor(El,"fetchAutocompleteSuggestions"),El),El),Al=i(12),Ol=i.n(Al),Nl=function(e){var t,i,n=e.disabledClass?e.disabledClass:"disabled",a=e.className,o=e.href,s=e.icon,l=e.id,c=e.label,u=e.onClick,h=e.tooltipText,p=e.tooltipClass,d=e.isHodorTooltip,m=e.disabled,f=e.iconPosition,g=e.onBlur;a+=m?" ".concat(n):"",s&&(t=r.createElement("i",{className:s,"aria-hidden":"true"})),h&&(i=d?r.createElement("span",{className:p||"","data-tooltip":h}):r.createElement("span",{className:p||""},h));return r.createElement("a",Ol()({id:l,href:o||"javascript:void(0)",className:a,onClick:function(e){u&&!m&&u(e)},onBlur:g},e.chAnalyticsData),f&&"left"!==f?null:t,c,f&&"right"===f?t:null,i)},Dl=function(){function e(){s()(this,e)}return c()(e,null,[{key:"define",value:function(e,t){var i="__CHG_"+e;return void 0!==window[i]?window[i]:window[i]=t()}}]),e}(),xl=function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(i=h()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).selectedFilters=function(e){return e},i.setActiveFilter=function(e){return e},i.receiveFilters=function(e){return e},i.receiveInMeta=function(e){return e},i.resetActive=function(e){return e},i.resetAll=function(){},i.clearSelectedSchoolFilter=function(){},i.clearSelectedProfessorFilter=function(){},i.clearSelectedCourseTitleFilter=function(){},i.clearSelectedCourseNumberFilter=function(){},i.clearSelectedDepartmentFilter=function(){},i.clearSelectedCourseFilter=function(){},i.clearSelectedSubjectFilter=function(){},i.doSearch=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[e,t]},i.loadDefaultSchools=function(e){return e},i}return b()(t,e),t}(ml),Rl=Dl.define("FilterActions",function(){return fl.create(new xl)});!function(e){e[e.PageCount=1]="PageCount",e[e.DocDate=2]="DocDate",e[e.QADateAsked=3]="QADateAsked",e[e.FSCreated=4]="FSCreated"}(Tl||(Tl={}));_l={},Xa()(_l,Tl.DocDate,{type:"daterange"}),Xa()(_l,Tl.PageCount,{type:"number"}),Xa()(_l,Tl.QADateAsked,{type:"daterange"}),Xa()(_l,Tl.FSCreated,{type:"daterange"});var Ul=(wl={},Xa()(wl,Tl.PageCount,"page_count"),Xa()(wl,Tl.DocDate,"doc_date"),Xa()(wl,Tl.QADateAsked,"date_asked"),Xa()(wl,Tl.FSCreated,"created"),Xa()(wl,"page_count",Tl.PageCount),Xa()(wl,"doc_date",Tl.DocDate),Xa()(wl,"date_asked",Tl.QADateAsked),Xa()(wl,"created",Tl.FSCreated),wl),Il=function(){function e(){s()(this,e)}return c()(e,[{key:"log",value:function(e){console.error("You must not modify the resource type definitions. Especially if you tried to change it to '".concat(e,"'.\n            \n That would be the worst possible thing to change it to.\n            "))}},{key:"DOCUMENT",get:function(){return e._documentType},set:function(e){this.log(e)}},{key:"QUESTION",get:function(){return e._questionType},set:function(e){this.log(e)}},{key:"FLASHCARD",get:function(){return e._flashcardType},set:function(e){this.log(e)}},{key:"TUTOR",get:function(){return e._tutorType},set:function(e){this.log(e)}}]),e}();Il._documentType="document",Il._questionType="question",Il._flashcardType="flashcard",Il._tutorType="expert";var Fl=new Il;Object.freeze(Fl);var zl,Pl=function(e){function t(){var e;return s()(this,t),(e=h()(this,d()(t).call(this))).PROFESSOR="professor",e.COURSE_TITLE="courseTitle",e.COURSE_NUMBER="courseNumber",e.DEPARTMENT="department",e.COURSE="course",e.SCHOOL="school",e.SUBJECT="subject",e.SELECTED_SCHOOL="selected_school",e.events={UPDATE:"FilterStore.events.UPDATE",UPDATE_IN_META:"FilterStore.events.UPDATE_IN_META"},e.schema={Professor:{id:vl.int(),label:vl.string()},CourseTitle:{id:vl.int(),label:vl.string()},CourseNumber:{id:vl.int(),label:vl.string()},Department:{id:vl.int(),label:vl.string()},Course:{course_id:vl.int(),course_num:vl.string(),course_name:vl.string(),dept_acro:vl.string(),total_doc_count:vl.int()},School:{id:vl.int(),label:vl.string(),state:vl.string(),country:vl.string()},Subject:{id:vl.int(),label:vl.string()}},e.PROFESSOR_API_URL="/ajax/autocomplete_resultset.php",e.COURSE_TITLE_API_URL="/ajax/autocomplete_resultset.php",e.COURSE_NUMBER_API_URL="/ajax/autocomplete_resultset.php",e.DEPARTMENT_API_URL="/ajax/autocomplete_resultset.php",e.COURSES_API_URL="/api/v1/courses/search/",e.SCHOOLS_API_URL="/ajax/autocomplete_resultset.php",e.SUBJECT_API_URL="/ajax/autocomplete_resultset.php",e.currentSearch=void 0,e.defaultSchoolOptions=void 0,e.currentSearch=null,e.defaultSchoolOptions=null,Rl._register({setActiveFilter:Rl.setActiveFilter,receiveActiveFilters:Rl.receiveFilters,resetActive:Rl.resetActive,clearSelectedSchoolFilter:Rl.clearSelectedSchoolFilter,clearSelectedProfessorFilter:Rl.clearSelectedProfessorFilter,clearSelectedCourseTitleFilter:Rl.clearSelectedCourseTitleFilter,clearSelectedCourseNumberFilter:Rl.clearSelectedCourseNumberFilter,clearSelectedDepartmentFilter:Rl.clearSelectedDepartmentFilter,clearSelectedCourseFilter:Rl.clearSelectedCourseFilter,clearSelectedSubjectFilter:Rl.clearSelectedSubjectFilter,doSearch:Rl.doSearch,receiveInMeta:Rl.receiveInMeta,loadDefaultSchools:Rl.loadDefaultSchools,resetAll:Rl.resetAll},f()(e)),e.getInMetaFilters=e.getInMetaFilters.bind(f()(e)),e}return b()(t,e),c()(t,[{key:"getProfessorFilters",value:function(){return this.getFilters(this.PROFESSOR)}},{key:"getCourseTitleFilters",value:function(){return this.getFilters(this.COURSE_TITLE)}},{key:"getCourseNumberFilters",value:function(){return this.getFilters(this.COURSE_NUMBER)}},{key:"getDepartmentFilters",value:function(){return this.getFilters(this.DEPARTMENT)}},{key:"getCourseFilters",value:function(){return this.getFilters(this.COURSE)}},{key:"getSchoolFilters",value:function(){return this.getFilters(this.SCHOOL)}},{key:"getSubjectFilters",value:function(){return this.getFilters(this.SUBJECT)}},{key:"getFilters",value:function(e){return this.getRows(e)}},{key:"clearSelectedSchoolFilter",value:function(){this.clearAll(this.SELECTED_SCHOOL),this.resetActive(this.COURSE,!0),this.emit(this.events.UPDATE)}},{key:"clearSelectedProfessorFilter",value:function(){this.resetActive(this.PROFESSOR)}},{key:"clearSelectedCourseTitleFilter",value:function(){this.resetActive(this.COURSE_TITLE)}},{key:"clearSelectedCourseNumberFilter",value:function(){this.resetActive(this.COURSE_NUMBER)}},{key:"clearSelectedDepartmentFilter",value:function(){this.clearAll(this.DEPARTMENT),this.resetActive(this.COURSE_NUMBER,!0),this.emit(this.events.UPDATE)}},{key:"clearSelectedCourseFilter",value:function(){this.resetActive(this.COURSE)}},{key:"clearSelectedSubjectFilter",value:function(){this.resetActive(this.SUBJECT)}},{key:"resetAll",value:function(){this.clearAll(this.SELECTED_SCHOOL),this.resetActive(this.SCHOOL,!0),this.resetActive(this.PROFESSOR,!0),this.resetActive(this.COURSE_TITLE,!0),this.resetActive(this.COURSE_NUMBER,!0),this.resetActive(this.DEPARTMENT,!0),this.resetActive(this.COURSE,!0),this.resetActive(this.SUBJECT,!0),this.emit(this.events.UPDATE)}},{key:"setActiveFilter",value:function(e){this.resetActive(e.type),e.type===this.SCHOOL&&(this.clearAll(this.COURSE),this.emit(this.events.UPDATE,this.COURSE),this.clearSelectedSchoolFilter(),this.upsertRow(this.SELECTED_SCHOOL,"id",e.id,e)),e.active=!0,this.upsertRow(e.type,"id",e.id,e),this.emit(this.events.UPDATE,e.type),Rl.selectedFilters(this.getActiveFilterIds())}},{key:"resetActive",value:function(e,t){var i=this;this.getRows(e).forEach(function(e){e.active=!1,i.upsertRow(e.type,"id",e.id,e)}),t||(this.emit(this.events.UPDATE,e),Rl.selectedFilters(this.getActiveFilterIds()))}},{key:"getActiveProfessorFilter",value:function(){return this.getActiveFilter(this.PROFESSOR)}},{key:"getActiveCourseTitleFilter",value:function(){return this.getActiveFilter(this.COURSE_TITLE)}},{key:"getActiveCourseNumberFilter",value:function(){return this.getActiveFilter(this.COURSE_NUMBER)}},{key:"getActiveDepartmentFilter",value:function(){return this.getActiveFilter(this.DEPARTMENT)}},{key:"getActiveCourseFilter",value:function(){return this.getActiveFilter(this.COURSE)}},{key:"getActiveSchoolFilter",value:function(){return this.getActiveFilter(this.SCHOOL)}},{key:"getActiveSubjectFilter",value:function(){return this.getActiveFilter(this.SUBJECT)}},{key:"getActiveFilter",value:function(e){if(e===this.SCHOOL)return this.getRows(this.SELECTED_SCHOOL)[0];var t=this.getFilters(e).filter(function(e){return e.active});return 0===t.length?null:t[0]}},{key:"getActiveFilters",value:function(){return{professor:this.getActiveProfessorFilter(),courseTitle:this.getActiveCourseTitleFilter(),courseNumber:this.getActiveCourseNumberFilter(),department:this.getActiveDepartmentFilter(),course:this.getActiveCourseFilter(),school:this.getActiveSchoolFilter(),subject:this.getActiveSubjectFilter()}}},{key:"getActiveFilterIds",value:function(){var e=this.getActiveFilters();return{professor:e.professor?e.professor.id:null,courseTitle:e.courseTitle?e.courseTitle.id:null,courseNumber:e.courseNumber?e.courseNumber.id:null,department:e.department?e.department.id:null,course:e.course?e.course.id:null,school:e.school?e.school.id:null,subject:e.subject?e.subject.id:null}}},{key:"getDefaultSchoolFilter",value:function(){return{id:0,type:Ll.SCHOOL,mainText:"Enter your School"}}},{key:"receiveProfessorFilters",value:function(e){this.receiveFilters(e,this.PROFESSOR)}},{key:"receiveCourseTitleFilters",value:function(e){this.receiveFilters(e,this.COURSE_TITLE)}},{key:"receiveCourseNumberFilters",value:function(e){this.receiveFilters(e,this.COURSE_NUMBER)}},{key:"receiveDepartmentFilters",value:function(e){this.receiveFilters(e,this.DEPARTMENT)}},{key:"receiveCourseFilters",value:function(e){this.receiveFilters(e,this.COURSE)}},{key:"receiveSchoolFilters",value:function(e){this.receiveFilters(e,this.SCHOOL)}},{key:"receiveSubjectFilters",value:function(e){this.receiveFilters(e,this.SUBJECT)}},{key:"receiveFilters",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.forEach(function(e){t.upsertRow(e.type,"id",e.id,e)}),this.emit(this.events.UPDATE,i)}},{key:"receiveActiveFilters",value:function(e){for(var t in e){var i=e[t];this.upsertRow(i.type,"id",i.id,i),this.emit(this.events.UPDATE,i.type)}}},{key:"doSearch",value:function(e){null!==this.currentSearch&&this.currentSearch.abort(),e[1]&&this.clearAll(e[0].type);var t={value:e[0].value};switch("limit"in e[0]&&(t.limit=e[0].limit),e[0].type){case this.PROFESSOR:this.doProfessorSearch(e[0]);break;case this.COURSE_TITLE:this.doCourseTitleSearch(e[0]);break;case this.COURSE_NUMBER:this.doCourseNumberSearch(e[0]);break;case this.DEPARTMENT:this.doDepartmentSearch(e[0]);break;case this.COURSE:this.doCourseSearch(e[0].value);break;case this.SCHOOL:this.doSchoolSearch(t);break;case this.SUBJECT:this.doSubjectSearch(e[0].value)}}},{key:"doProfessorSearch",value:function(e){var t=this,i=this.getActiveSchoolFilter().id,n=this.getActiveDepartmentFilter()?this.getActiveDepartmentFilter().id:0,r=this.getActiveDepartmentFilter()?this.getActiveDepartmentFilter().mainText:"",a={school:i,dept:n>0?n:r,term:e.value,type:"school_dept_professor"};e.limit&&(a.limit=e.limit),this.currentSearch=yl().get(this.PROFESSOR_API_URL,a).done(function(e){var i=t.sanitizeRawProfessorFilters(e);t.receiveProfessorFilters(i)})}},{key:"sanitizeRawProfessorFilters",value:function(e){var t=this;return e.map(function(e){return{id:parseInt(e.id?e.id:"0"),active:!1,type:t.PROFESSOR,mainText:e.label,subText:null}})}},{key:"doCourseTitleSearch",value:function(e){var t=this,i={school:this.getActiveSchoolFilter().id,dept:this.getActiveDepartmentFilter().mainText,term:e.value,type:"school_dept_course_title"};e.limit&&(i.limit=e.limit),this.currentSearch=yl().get(this.COURSE_TITLE_API_URL,i).done(function(e){var i=t.sanitizeRawCourseTitleFilters(e);t.receiveCourseTitleFilters(i)})}},{key:"sanitizeRawCourseTitleFilters",value:function(e){var t=this;return e.map(function(e){return{id:parseInt(e.id?e.id:"0"),active:!1,type:t.COURSE_TITLE,mainText:e.label,subText:null}})}},{key:"doCourseNumberSearch",value:function(e){var t=this,i={term:this.getActiveDepartmentFilter().mainText+e.value,type:"course"};e.limit&&(i.limit=e.limit),this.currentSearch=yl().get(this.COURSE_NUMBER_API_URL,i).done(function(e){var i=t.sanitizeRawCourseNumberFilters(e);t.receiveCourseNumberFilters(i)})}},{key:"sanitizeRawCourseNumberFilters",value:function(e){var t=this,i=this.getActiveDepartmentFilter().mainText.length;return e.filter(function(e){return e&&e.id>0&&e.label}).map(function(e){return{id:parseInt(e.id),active:!1,type:t.COURSE_NUMBER,mainText:e.label.substring(i).trim(),subText:null}})}},{key:"doDepartmentSearch",value:function(e){var t=this,i={term:e.value,type:this.DEPARTMENT};e.limit&&(i.limit=e.limit),this.currentSearch=yl().get(this.DEPARTMENT_API_URL,i).done(function(e){var i=t.sanitizeRawDepartmentFilters(e);t.receiveDepartmentFilters(i)})}},{key:"sanitizeRawDepartmentFilters",value:function(e){var t=this;return e.filter(function(e){return e&&e.id>0}).map(function(e){return{id:parseInt(e.id?e.id:"0"),active:!1,type:t.DEPARTMENT,mainText:e.label,subText:null}})}},{key:"doCourseSearch",value:function(e){var t=this,i=this.COURSES_API_URL;this.currentSearch=yl().get(i,{q:e,schoolId:this.getActiveSchoolFilter().id}).done(function(e){if(e.results){var i=e.results.filter(function(e){return e.course_id>0}).map(function(e){return e=t.sanitize(e,t.schema.Course,!0),{id:parseInt(e.course_id),active:!1,type:t.COURSE,mainText:e.dept_acro+" "+e.course_num,subText:e.course_name,extraText:e.dept_acro,extraSubText:e.course_num,aside:e.total_doc_count+" Document"+(e.total_doc_count>1?"s":"")}});t.receiveCourseFilters(i)}else t.receiveCourseFilters([])})}},{key:"sanitizeRawSchoolFilters",value:function(e){var t=this;return e.filter(function(e){return e&&(e.id>0||e.school_id>0)}).map(function(e){return{id:parseInt(e.id?e.id:e.school_id),active:!1,type:t.SCHOOL,mainText:e.label?e.label:e.school_name,subText:e.state?e.state:e.location&&e.location.subdivision?e.location.subdivision:null}})}},{key:"doSchoolSearch",value:function(e){var t=this,i={term:e.value,type:this.SCHOOL};e.limit&&(i.limit=e.limit),this.currentSearch=yl().get(this.SCHOOLS_API_URL,i).done(function(e){var i=t.sanitizeRawSchoolFilters(e);t.receiveSchoolFilters(i)})}},{key:"doSubjectSearch",value:function(e){var t=this;this.currentSearch=yl().get(this.SUBJECT_API_URL,{term:e,type:this.SUBJECT}).done(function(e){var i=e.filter(function(e){return e.id>0}).map(function(e){return e=t.sanitize(e,t.schema.Subject,!0),{id:parseInt(e.id),active:!1,type:t.SUBJECT,mainText:e.label,subText:""}});t.receiveSubjectFilters(i)})}},{key:"receiveInMeta",value:function(e){var t=this;e.forEach(function(e){t.upsertRow("inmeta","type",e.type,e,!0)}),this.emit(this.events.UPDATE_IN_META)}},{key:"getInMetaFilters",value:function(){return this.getRows("inmeta")}},{key:"getInMetaName",value:function(e){return Ul[e]}},{key:"constructInMetaTag",value:function(e){var t=e.constraints,i=t.lower,n=t.upper;if(!i&&!n)return"";i=i||"",n=n||"";var r=this.getInMetaName(e.type);return r?"".concat(r,":").concat(e.constraints.lower,"..").concat(e.constraints.upper):""}},{key:"getAppliedInMetaFilters",value:function(e){var t=[];return e===Fl.QUESTION&&t.push(Tl.QADateAsked),e===Fl.FLASHCARD&&t.push(Tl.FSCreated),e===Fl.DOCUMENT&&(t.push(Tl.DocDate),t.push(Tl.PageCount)),t}},{key:"buildInMetaQuery",value:function(e){var t=this,i=this.getAppliedInMetaFilters(e);return this.getRows("inmeta").filter(function(e){var n=i.indexOf(e.type)>-1,r=t.constructInMetaTag(e);return n&&r&&r.length>0}).map(function(e){var i=t.constructInMetaTag(e);return"inmeta:".concat(i)}).join(" ")}},{key:"loadDefaultSchools",value:function(e){e&&(this.defaultSchoolOptions=this.sanitizeRawSchoolFilters(e)),this.emit(this.events.UPDATE,this.SCHOOL)}}]),t}(vl),Ll=Dl.define("FilterStore",function(){return new Pl});!function(e){e[e.ENTER=13]="ENTER",e[e.ESC=27]="ESC",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.UP_ARROW=38]="UP_ARROW",e[e.DOWN_ARROW=40]="DOWN_ARROW",e[e.DEL=46]="DEL"}(zl||(zl={}));var jl,Ml,Bl,Hl=zl,ql=function(e){function t(){return s()(this,t),h()(this,d()(t).apply(this,arguments))}return b()(t,e),c()(t,[{key:"render",value:function(){var e=this;if(0==this.props.items.length)return null;var t=this.props.items.map(function(t){var i=t.id+t.mainText+t.subText;if(t.selected)var n="selected";else n="";var a=e.props.showSubText?r.createElement("div",{className:"ct_subText_text"},t.subText):null,o=e.props.showAside?r.createElement("div",{className:"ct_subText_aside"},r.createElement("span",null,t.aside)):null;return r.createElement("li",{key:i,className:n,onMouseOver:e.props.handleHover.bind(null,t)},r.createElement("a",{onClick:e.props.handleClick.bind(null,t.id)},r.createElement("div",{className:"ct_mainText_text"},t.mainText),a,o))}),i=this.props.className?this.props.className:"ct_autocompleteList_container",n=null,a=null;return this.props.showTitle&&this.props.titleText&&t.length>1&&(n=t[0],a=r.createElement("li",{className:"ct_autocomplete_list_title"},this.props.titleText),t=t.slice(1)),r.createElement("div",{className:i},r.createElement("ul",{className:"ct_autocompleteList_bundle"},n,a,t))}}]),t}(r.Component),Gl=function(e){function t(e){var i;s()(this,t),i=h()(this,d()(t).call(this,e));var n=e.dropdownLimit?e.dropdownLimit:10;return i.state={showDropdown:!1,tempSelect:0,oldValue:"",dropdownItems:e.dropdownItems.slice(0,n)},i.handleChange=i.handleChange.bind(f()(i)),i.handleClick=i.handleClick.bind(f()(i)),i.handleKeyDown=i.handleKeyDown.bind(f()(i)),i.handleHover=i.handleHover.bind(f()(i)),i.handleBlur=i.handleBlur.bind(f()(i)),i.handleFocus=i.handleFocus.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){$(document).on("click",this.handleBlur)}},{key:"componentWillUnmount",value:function(){$(document).off("click",this.handleBlur)}},{key:"componentDidUpdate",value:function(e){if(this.props.showDropdownControl!==e.showDropdownControl||this.props.dropdownItems!==e.dropdownItems){var t={};!1===this.props.showDropdownControl&&(t.showDropdown=!1),this.props.dropdownItems&&(t.tempSelect=0);var i=this.props.dropdownLimit||10;t.dropdownItems=(this.props.dropdownItems||[]).slice(0,i),this.setState(t)}}},{key:"handleChange",value:function(e,t){var i="string"==typeof t?t:e.target.value;this.setState({showDropdown:!this.props.disabled}),this.props.handleChange(this.props.type,i)}},{key:"handleClick",value:function(e){if(!(e<0&&-100!=e)){var t=0,i=this.state.dropdownItems.filter(function(i,n){if(i.id===e)return t=n,!0})[0];this.setState({showDropdown:!1,tempSelect:t}),this.props.handleClick(this.props.type,i)}}},{key:"handleHover",value:function(e){var t=this.state.tempSelect;this.state.dropdownItems.forEach(function(i,n){i.id===e.id&&(t=n)}),this.setState({tempSelect:t})}},{key:"handleKeyDown",value:function(e){switch(e.keyCode||e.which){case Hl.TAB:this.setState({showDropdown:!1});break;case Hl.RIGHT_ARROW:case Hl.ENTER:this.state.dropdownItems.length>0&&this.handleClick(this.state.dropdownItems[this.state.tempSelect].id);break;case Hl.UP_ARROW:this.state.tempSelect>0&&this.setState({tempSelect:this.state.tempSelect-1});break;case Hl.DOWN_ARROW:this.state.tempSelect<this.state.dropdownItems.length-1&&this.setState({tempSelect:this.state.tempSelect+1});break;case Hl.ESC:this.props.value?this.handleChange(null,""):this.props.onEscapeSearch&&this.props.onEscapeSearch()}}},{key:"handleBlur",value:function(e){this.props.handleBlurEventTarget&&!$(e.target).is("fieldset."+this.props.handleBlurEventTarget+" *")&&this.setState({showDropdown:!1}),$(e.target).is(".ct_autocompleteList_container, .ct_autocompleteList_container *, .autocompleteFilter_input")||(this.setState({showDropdown:!1}),this.props.onBlur&&this.props.onBlur())}},{key:"handleFocus",value:function(e){this.props.type==Ll.SCHOOL&&Ll.getActiveSchoolFilter()&&Ll.getActiveSchoolFilter().id>0||(this.setState({showDropdown:!0}),this.props.onFocus&&this.props.onFocus())}},{key:"render",value:function(){var e=this,t=this.state.dropdownItems.map(function(t,i){return{key:t.mainText+t.id,id:t.id,mainText:t.mainText,subText:t.subText,selected:e.state.tempSelect===i,aside:t.aside}}),i=this.state.showDropdown?r.createElement(ql,{items:t,handleClick:this.handleClick,handleHover:this.handleHover,className:this.props.listClass,showTitle:this.props.showDropdownTitle,showSubText:!this.props.hideListSubText,titleText:this.props.dropdownTitleText}):null,n=this.props.disabled&&this.props.placeholder?this.props.placeholder:this.props.value,a=this.props.iconLeft?this.props.iconLeft:null,o=this.props.iconRight?this.props.iconRight:null;return r.createElement(r.Fragment,null,r.createElement("div",{className:"ct_autocomplete_wrapper"},a,r.createElement("input",{className:"autocompleteFilter_input",type:"search",value:n,onChange:this.handleChange,onFocus:this.handleFocus,placeholder:this.props.placeholder,disabled:this.props.disabled,onKeyDown:this.handleKeyDown}),o,a||o?null:i),a||o?i:null)}}]),t}(r.Component),Ql=function(e){function t(){return s()(this,t),h()(this,d()(t).apply(this,arguments))}return b()(t,e),c()(t,[{key:"handleBlur",value:function(e){this.props.handleBlurEventTarget&&!$(e.target).is("fieldset."+this.props.handleBlurEventTarget+" *")&&this.setState({showDropdown:!1}),$(e.target).is(".ct_autocompleteList_container, .ct_autocompleteList_container *, .autocompleteFilter_input")||this.setState({showDropdown:!1})}},{key:"render",value:function(){var e,t=this,i=this.props.dropdownItems.map(function(e,i){return{key:e.mainText+e.id,id:e.id,mainText:e.mainText,subText:e.subText,selected:t.state.tempSelect===i,aside:e.aside}}).slice(0,10),n=null;this.props.dropdownAlternative&&1==i.length&&-1==i[0].id?n=this.props.dropdownAlternative:this.state.showDropdown&&(n=r.createElement(ql,{items:i.slice(0,this.props.dropdownLimit?this.props.dropdownLimit:10),handleClick:this.handleClick,handleHover:this.handleHover,className:this.props.listClass,showAside:!this.props.hideListAside,showSubText:!this.props.hideListSubText}));var a=this.props.fieldSetAndLabelConfig&&this.props.fieldSetAndLabelConfig.inputClass?this.props.fieldSetAndLabelConfig.inputClass:"autocompleteFilter_input";this.props.error&&(e=r.createElement("span",{className:"txt-red"},this.props.error),a+=" error");var o,s=this.props.fieldSetAndLabelConfig.dontRememberOldValue?r.createElement("input",{type:"search",onChange:this.handleChange,placeholder:this.props.placeholder,disabled:this.props.disabled,onKeyDown:this.handleKeyDown,className:a,onFocus:this.props.onFocus,onBlur:this.props.onBlur}):r.createElement("input",{type:"search",value:this.props.value,onChange:this.handleChange,placeholder:this.props.placeholder,disabled:this.props.disabled,onKeyDown:this.handleKeyDown,className:a,onFocus:this.props.onFocus,onBlur:this.props.onBlur});if(this.props.fieldSetAndLabelConfig.useLabel){var l=this.props.fieldSetAndLabelConfig.labelContent;o=r.createElement("label",{className:this.props.fieldSetAndLabelConfig.labelClass},l)}return this.props.fieldSetAndLabelConfig.useFieldSet?r.createElement("div",{className:this.props.fieldSetAndLabelConfig.fieldSetContainerClass},r.createElement("fieldset",{id:this.props.fieldSetAndLabelConfig.fieldSetId,className:this.props.fieldSetAndLabelConfig.fieldSetClass,disabled:this.props.disabled},o,r.createElement("div",{className:"search_input_dropdown"},s,n)),e):this.props.fieldSetAndLabelConfig.noWrapper?r.createElement(r.Fragment,null,r.createElement("div",{className:"search_input_dropdown"},s,n),e):r.createElement("div",{className:this.props.fieldSetAndLabelConfig.fieldSetContainerClass},r.createElement("div",{className:"search_input_dropdown"},s,n),e)}}]),t}(Gl),Wl=(jl=Cl(250),Ml=Cl(250),Bl=function(){function e(){s()(this,e)}return c()(e,null,[{key:"loadTrendingSchools",value:function(){yl().get("/api/v1/schools/trending/",{}).done(function(e){Rl.loadDefaultSchools(e)})}},{key:"loadNearbySchools",value:function(e,t){yl().get("/api/v1/autocomplete/schools/",{}).then(function(t){e&&e(t)},function(){t&&t()})}}]),e}(),Za()(Bl,"loadTrendingSchools",[jl],Object.getOwnPropertyDescriptor(Bl,"loadTrendingSchools"),Bl),Za()(Bl,"loadNearbySchools",[Ml],Object.getOwnPropertyDescriptor(Bl,"loadNearbySchools"),Bl),Bl),Vl=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).searchUrl="",i.state={school:{id:0,type:"school"},schoolOptions:[],defaultSchoolOptions:[],searchQuery:"",loading:!1,showDropdownTitle:!0,placeholder:i.props.placeholder,dropdownTitleText:""},i.getSchoolSearch=i.getSchoolSearch.bind(f()(i)),i.handleSearchChange=i.handleSearchChange.bind(f()(i)),i.handleSearchClick=i.handleSearchClick.bind(f()(i)),i.onFilterStoreUpdate=i.onFilterStoreUpdate.bind(f()(i)),i.handleInputFocus=i.handleInputFocus.bind(f()(i)),i.handleInputBlur=i.handleInputBlur.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.defaultSchoolFilter&&this.props.defaultSchoolFilter.id&&(this.props.defaultSchoolFilter.mainText&&this.setState({searchQuery:this.props.defaultSchoolFilter.mainText}),this.setState({school:this.props.defaultSchoolFilter}),this.getSchoolSearch()),Ll.listen(Ll.events.UPDATE,this.onFilterStoreUpdate);var e=Ll.getActiveSchoolFilter();e&&this.setState({school:e}),this.loadDefaultSchools()}},{key:"componentWillUnmount",value:function(){Ll.ignore(Ll.events.UPDATE,this.onFilterStoreUpdate)}},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({searchQuery:this.props.value})}},{key:"handleSearchChange",value:function(e,t){var i=this,n={searchQuery:t};""===t.trim()&&(n.school=null,n.schoolOptions=[]),this.setState(n,function(){if(""===t.trim())i.props.showDefaultInDropdown&&Rl.loadDefaultSchools(null),Rl.resetActive(e),Rl.clearSelectedSchoolFilter(),i.props.handleUpdate&&i.props.handleUpdate(null);else{var n={type:e,value:t};i.props.dropdownLimit&&(n.limit=i.props.dropdownLimit),Rl.doSearch(n,!0)}i.props.handleChange&&i.props.handleChange(t)})}},{key:"handleSearchClick",value:function(e,t){0===t.id&&(Rl.resetActive(e),Rl.clearSelectedSchoolFilter(),this.setState({placeholder:this.props.placeholder})),this.props.disabled||(this.props.updateWithFullFilter?this.props.handleUpdate(t):this.props.handleUpdate(t.mainText),this.setState({searchQuery:t.mainText,school:t}),Rl.setActiveFilter(t),this.getSchoolSearch())}},{key:"handleInputFocus",value:function(){this.props.activePlaceholder&&this.setState({placeholder:this.props.activePlaceholder}),this.props.onFocus&&this.props.onFocus()}},{key:"handleInputBlur",value:function(){this.props.activePlaceholder&&this.setState({placeholder:this.props.placeholder}),this.props.onBlur&&this.props.onBlur()}},{key:"onFilterStoreUpdate",value:function(e,t){var i=Ll.defaultSchoolOptions,n={showDropdownTitle:!1};n.school=Ll.getActiveSchoolFilter()?Ll.getActiveSchoolFilter():null;var r=[];this.state.searchQuery.trim()?r=Ll.getFilters(t).slice():i&&i.length>0&&(r=i.slice()),r=r.slice(0,5),this.state.searchQuery.trim()?0===r.length&&r.push({id:-1,type:t,mainText:"No results found"}):this.props.showDefaultInDropdown&&(n.showDropdownTitle=r.length>0,r.unshift({id:0,type:t,mainText:"All Schools"})),n.schoolOptions=r,this.setState(n)}},{key:"getSchoolSearch",value:function(){var e=this;this.setState({loading:!0}),yl().get("/ajax/autocomplete_resultset.php?type=school",{term:""}).done(function(t){t&&e.setState({loading:!1})})}},{key:"loadDefaultSchools",value:function(){this.props.showDefaultInDropdown&&(this.props.shouldFindNearbySchools?this.loadNearbySchools():this.loadTrendingSchools())}},{key:"loadTrendingSchools",value:function(){Wl.loadTrendingSchools(),this.setState({dropdownTitleText:"Trending Schools"})}},{key:"loadNearbySchools",value:function(){var e=this;Wl.loadNearbySchools(function(t){t&&t.hasOwnProperty("results")&&t.results.hasOwnProperty("length")&&0!==t.results.length?e.setState({dropdownTitleText:"Nearby Schools"},function(){Rl.loadDefaultSchools(t.results)}):e.loadTrendingSchools()}.bind(this),function(){e.loadTrendingSchools()}.bind(this))}},{key:"render",value:function(){var e=this.state.searchQuery;0===e.length&&this.state.school&&(e=this.state.school.mainText);var t="";this.props.showDefaultInDropdown&&this.state.showDropdownTitle&&(t=this.state.dropdownTitleText);var i={iconLeft:null,iconRight:null};return i.iconLeft=this.props.iconLeft?this.props.iconLeft:null,i.iconRight=this.props.iconRight?this.props.iconRight:null,this.props.useAutoCompleteIcon?r.createElement(Ql,Ol()({showDropdownControl:this.props.showDropdown,activeFilter:this.state.school,dropdownItems:this.state.schoolOptions,value:e,disabled:!!this.props.disabled,placeholder:this.props.placeholder,type:Ll.SCHOOL,handleChange:this.handleSearchChange,handleClick:this.handleSearchClick,listClass:"ct_autocompleteList_container",fieldSetAndLabelConfig:this.props.autocompleteFilterFieldSetAndLabel,error:this.props.error,showDropdownTitle:this.state.showDropdownTitle,dropdownTitleText:t},i)):r.createElement(Gl,Ol()({showDropdownControl:this.props.showDropdown,activeFilter:this.state.school,dropdownItems:this.state.schoolOptions,value:e,disabled:!!this.props.disabled,placeholder:this.state.placeholder,type:Ll.SCHOOL,handleChange:this.handleSearchChange,handleClick:this.handleSearchClick,listClass:"ct_autocompleteList_container",error:this.props.error,showDropdownTitle:this.state.showDropdownTitle,dropdownTitleText:t,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onEscapeSearch:this.props.onEscapeSearch},i))}}]),t}(v),Xl=i(17),Kl=function(){function e(){s()(this,e)}return c()(e,null,[{key:"pluralize",value:function(e,t){return Object(Xl.isArray)(t)?1===e?t[0]:t[1]:t+(1===e?"":"s")}},{key:"boldWord",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"strong",n=new RegExp("("+this.escapeRegExp(t)+")","gi");return e.replace(n,"<"+i+">$1</"+i+">")}},{key:"formatNumber",value:function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"escapeRegExp",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"removeSpaces",value:function(e){return e.replace(/\s+/g,"")}},{key:"decodeHtmlEntities",value:function(e){return e.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")}}]),e}(),$l=function(e){var t=e.suggestions.map(function(t){var i=Kl.boldWord(t.text,e.queryString),n='<i class="chi-search"></i> '.concat(i);return r.createElement("li",{key:t.id,className:e.selectedSuggestion&&t.id===e.selectedSuggestion.id?"suggestion active":"suggestion",onClick:e.onClick.bind(null,t),dangerouslySetInnerHTML:{__html:n}})});return e.suggestions.length>0?r.createElement("ul",null,t):null},Yl=function(e){return r.createElement("div",{className:"sw_suggestions_container"},e.suggestionHeader,r.createElement($l,{suggestions:e.suggestions,onClick:e.onSuggestionSelect,selectedSuggestion:e.selectedSuggestion,queryString:e.queryString}))},Jl=function(e){var t="sw_search_bar ".concat(e.searchBarClassName),i=e.isExpanded?null:r.createElement("i",{className:"chi-search sw_icon sw_search_icon"}),n=e.suggestions.length>0&&e.areSuggestionsVisible?r.createElement("div",{className:"sw_suggestions_dropdown"},r.createElement(Yl,{userId:e.userId,onSuggestionSelect:e.onSuggestionSelect,suggestions:e.suggestions,selectedSuggestion:e.selectedSuggestion,suggestionHeader:e.suggestionHeader,queryString:e.queryString}),e.suggestionFooter):null;return r.createElement("div",{className:t},r.createElement("input",{type:"search",ref:e.inputRef,className:e.inputClassName,placeholder:e.placeholderText,"aria-label":e.placeholderText,onChange:e.onTextChange,onFocus:e.onFocus,onBlur:e.onBlur,onKeyDown:e.onKeyDown,value:e.queryString}),i,n)},Zl=function(e){var t=void 0!==e.title?e.title:"Can't find what you're looking for?",i=void 0!==e.tagline?e.tagline:"Ask our tutors a study question, on us.",n=void 0!==e.buttonUrl?e.buttonUrl:"/tutors/homework-help/",a=void 0!==e.buttonText?e.buttonText:"Get Free Homework Help",o=void 0!==e.buttonTarget?e.buttonTarget:"_blank",s=void 0!==e.finePrint?e.finePrint:"",l="panel isUpsell1 isBordered askQuestionCta";l+=void 0!==e.wrapperClass?" ".concat(e.wrapperClass):"";var c=e.iconUrl||"/assets/img/search/qa-icon.svg";return e.isEducator?null:r.createElement("div",{className:l},r.createElement("div",{className:"grid _noBottom"},r.createElement("div",{className:"column8 tablet6 phone12"},r.createElement("img",{src:c,className:"qaIcon hideWhenSmushesText",alt:i}),r.createElement("div",{className:"details"},r.createElement("p",{className:"banner_help_title"},t),r.createElement("p",null,i))),r.createElement("div",{className:"column4 tablet6 phone12 isMiddleAligned"},r.createElement("a",{href:n,target:o,className:"tertiaryButton1 isSmall","data-cha-target-name":"get_homework_help_button","data-cha-action-type":"visit"},a))),r.createElement("span",{className:"finePrint"},s))},ec=function(e){var t=e.title||"This page could not load.",i=e.message||"We're sorry for the inconvenience";return r.createElement("div",{className:"error-page"},r.createElement("h1",{className:"error-page-title"},t),r.createElement("p",{className:"error-page-message"},i))},tc=function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(i=h()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).el=void 0,i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.el&&(this.el.indeterminate=this.props.indeterminate)}},{key:"componentDidUpdate",value:function(e){this.el&&e.indeterminate!==this.props.indeterminate&&(this.el.indeterminate=this.props.indeterminate)}},{key:"render",value:function(){var e=this;return r.createElement("input",Ol()({},this.props,{type:"checkbox",ref:function(t){return e.el=t}}))}}]),t}(r.Component);function ic(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function nc(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ic(i,!0).forEach(function(t){Xa()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ic(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var rc,ac=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).childrenAreHomogenous=function(e,t){var i=e[t.children[0].value].isActive;return t.children.slice(1).every(function(t){return e[t.value].isActive===i})},i.toggleMultiSelect=function(e){var t,n,r=nc({},i.state.filterHash),a=r[e.value],o=e.children,s=a.parent;if(a){if(n=o&&o.length>0&&!i.childrenAreHomogenous(i.state.filterHash,e),a.isActive=!!n||!a.isActive,o&&o.length>0&&o.forEach(function(e){r[e.value].isActive=a.isActive}),s){var l=!i.childrenAreHomogenous(r,s);r[s.value].isActive=!!l||r[e.value].isActive}t=Object.keys(r).filter(function(e){return r[e].isActive}),i.props.onChange(t)}},i.createFilterHash=i.createFilterHash.bind(f()(i)),i.toggleMultiSelect=i.toggleMultiSelect.bind(f()(i)),i.renderSelectItem=i.renderSelectItem.bind(f()(i)),i.state={filterHash:i.createFilterHash(i.props.options)},i}return b()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){this.props.value===e.value&&this.props.options===e.options||this.setState({filterHash:this.createFilterHash(this.props.options)})}},{key:"createFilterHash",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.reduce(function(e,n){var r=n.value,a=n.children,o=-1!==t.props.value.indexOf(r);a&&a.length>0&&(e=nc({},e,{},t.createFilterHash(a,n,o)));return e[r]={isActive:o,parent:i},e},{})}},{key:"renderSelectItem",value:function(e){var t,i,n,a,o,s=e.value,l=this.state.filterHash,c=this.props.showTooltips?r.createElement(r.Fragment,null," "):null;l&&l[s]&&(t=l[s].isActive),e.children&&e.children.length>0&&(i=r.createElement("ul",{className:"multiSelectChildList"},e.children.map(this.renderSelectItem,"multiSelectChildItem")),n=(n=!this.childrenAreHomogenous(this.state.filterHash,e))?"true":null),a=(this.props.chaTargetPrefix?"".concat(this.props.chaTargetPrefix,"_"):"")+"checkbox_".concat(e.display),this.props.showTooltips&&e.description&&(c=r.createElement("span",{className:"tooltip"},r.createElement("span",{className:"text",dangerouslySetInnerHTML:{__html:e.description}}))),o=this.props.showCount&&e.count?"(".concat(e.count,")"):"";var u={};return this.props.chaAmplitudeName&&(u["data-cha-amplitude-name"]=this.props.chaAmplitudeName),r.createElement("li",{className:"multiSelectItem msi-"+e.value,key:e.value},r.createElement("label",{className:"checkBox"},r.createElement(tc,Ol()({type:"checkbox",className:n?"checkBoxIndeterminate":"",checked:t,indeterminate:n,onChange:this.toggleMultiSelect.bind(null,e),"data-cha-target-name":a,"data-cha-action-type":"click","cha-js-event-type":"change"},u))," ",r.createElement("span",{className:"multiSelectLabel"},e.display,c,o)),i)}},{key:"render",value:function(){if(this.props.options){var e=this.props.options.map(this.renderSelectItem);return r.createElement("ul",{className:"multiSelectList"},e)}}}]),t}(r.Component),oc=function(e){var t=function(t,i){i.preventDefault(),e.onChange(t)},i=e.items.map(function(i){var n="pill";return i.id===e.selected&&(n+=" isActive"),r.createElement("a",{href:"#",key:i.id,onClick:t.bind(null,i),className:n},i.name)});return r.createElement("div",{className:"pillGroup"},i)},sc=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).searchUrl=void 0,i.type=void 0,i.state={school:{id:0,type:i.type},schoolOptions:[],searchQuery:"",loading:!1},i.getSearch=i.getSearch.bind(f()(i)),i.handleSearchChange=i.handleSearchChange.bind(f()(i)),i.handleSearchClick=i.handleSearchClick.bind(f()(i)),i.onFilterStoreUpdate=i.onFilterStoreUpdate.bind(f()(i)),i.searchUrl="",i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=Ll.getActiveFilter(this.type);!e&&this.props.defaultSchoolFilter&&this.props.defaultSchoolFilter.id&&(e=this.props.defaultSchoolFilter),this.setState({school:e}),this.getSearch(),Ll.listen(Ll.events.UPDATE,this.onFilterStoreUpdate)}},{key:"componentDidUpdate",value:function(e,t){t.school&&!this.state.school&&this.setState({searchQuery:""})}},{key:"componentWillUnmount",value:function(){Ll.ignore(Ll.events.UPDATE,this.onFilterStoreUpdate)}},{key:"handleSearchChange",value:function(e,t){this.props.onSearchChange&&this.props.onSearchChange(t),this.setState({searchQuery:t}),""===t.trim()?(Rl.resetActive(e),e==Ll.COURSE?Rl.clearSelectedCourseFilter():e==Ll.SUBJECT?Rl.clearSelectedSubjectFilter():e==Ll.DEPARTMENT?Rl.clearSelectedDepartmentFilter():e==Ll.COURSE_NUMBER?Rl.clearSelectedCourseNumberFilter():e==Ll.COURSE_TITLE?Rl.clearSelectedCourseTitleFilter():e==Ll.PROFESSOR&&Rl.clearSelectedProfessorFilter(),this.props.handleUpdate&&this.props.handleUpdate(null)):Rl.doSearch({type:e,value:t},!0)}},{key:"handleSearchClick",value:function(e,t){this.props.disabled||(this.props.handleUpdate({name:t.mainText,id:t.id,extraText:t.extraText,extraSubText:t.extraSubText}),this.setState({searchQuery:t.mainText,school:t}),Rl.setActiveFilter(t),this.getSearch())}},{key:"onFilterStoreUpdate",value:function(e,t){var i=Ll.getFilters(t);0===i.length&&i.push({id:-1,type:t,mainText:"No results found"}),this.setState({schoolOptions:i})}},{key:"getSearch",value:function(){var e=this;this.setState({loading:!0}),yl().get("/ajax/autocomplete_resultset.php?type=subject",{term:""}).done(function(t){t&&e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.props.disabled&&this.props.value?this.props.value:this.state.searchQuery;!this.props.dropdownAlternative&&0===e.length&&this.state.school&&(e=this.state.school.mainText);var t=this.props.dropdownAlternative;return t&&(t=r.createElement(this.props.dropdownAlternative,{value:this.state.searchQuery,onClickHandler:this.props.dropdownAlternativeOnClick},[])),r.createElement(Ql,{showDropdownControl:this.props.showDropdown,activeFilter:this.state.school,dropdownItems:this.state.schoolOptions,value:e,disabled:this.props.disabled,placeholder:this.props.placeholder,type:this.type,handleChange:this.handleSearchChange,handleClick:this.handleSearchClick,listClass:"ct_autocompleteList_container",error:this.props.error,fieldSetAndLabelConfig:this.props.autocompleteFilterFieldSetAndLabel,dropdownLimit:this.props.dropdownLimit,hideListAside:this.props.hideDetails,dropdownAlternative:t,handleBlurEventTarget:this.props.handleBlurEventTarget})}}]),t}(v),lc=function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(i=h()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).type=Ll.COURSE,i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){Ll.listen(Ll.events.UPDATE,this.onFilterStoreUpdate)}},{key:"onFilterStoreUpdate",value:function(e,t){var i=Ll.getActiveCourseFilter(),n=Ll.getFilters(Ll.COURSE);0===n.length&&n.push({id:-1,type:t,mainText:"No results found"}),this.setState({schoolOptions:n,school:i})}}]),t}(sc),cc=function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(i=h()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).type=Ll.SUBJECT,i}return b()(t,e),c()(t,[{key:"onFilterStoreUpdate",value:function(e,t){var i=Ll.getActiveSubjectFilter(),n=Ll.getFilters(Ll.SUBJECT);0===n.length&&n.push({id:-1,type:t,mainText:"No results found"}),this.setState({schoolOptions:n,school:i})}}]),t}(sc);!function(e){e.MULTI="multi",e.COURSE="course",e.SORT="sort",e.SUBJECT="subject"}(rc||(rc={}));var uc,hc=rc,pc=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).preventClose=!1,i.state={activeMenuElement:null},i.toggleFilter=i.toggleFilter.bind(f()(i)),i.closeDropdown=i.closeDropdown.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"toggleFilter",value:function(e){var t=this,i=$(e.target).closest(".filterDropdownWrapper");e.preventDefault(),i.is(this.state.activeMenuElement)?this.closeDropdown(e,!0):(document.removeEventListener("click",this.closeDropdown),this.setState(function(e,t){return{activeMenuElement:i}},function(){t.props.isMobile||(document.addEventListener("click",t.closeDropdown),$("body").addClass("testGrid2Overlay"))}))}},{key:"closeDropdown",value:function(e,t){var i=this,n=$(e.target).closest(".isHighlighted").is(this.state.activeMenuElement);e.target.classList.contains("ct_mainText_text");t||!this.preventClose&&!n?this.setState({activeMenuElement:null},function(){0===$(".filterDropdownWrapper.isHighlighted").length&&$("body").removeClass("testGrid2Overlay"),document.removeEventListener("click",i.closeDropdown)}):this.preventClose=!1}},{key:"componentWillUnmount",value:function(){$("body").removeClass("testGrid2Overlay"),document.removeEventListener("click",this.closeDropdown)}},{key:"render",value:function(){var e=this,t=function(t,i){var n=rl.sanitize(e.props.value,ro.schema);switch(t){case"school":i?(n.school_id=i.id,n.school_name=i.mainText,n.course_id=null,n.course_name="",n.course_num=""):n=null,e.preventClose=!0;break;case"course":i?(n.course_id=i.id,n.course_name=i.mainText):(n.course_id=null,n.course_name="",n.course_num="")}e.props.onChange(n)},i=function(t){t?e.props.onChange({subject_id:t.id,subject_name:t.name}):e.props.onChange(null)},n=null;return this.props.tooltip&&(n=r.createElement("span",{className:"tooltip"},r.createElement("span",{className:"text",dangerouslySetInnerHTML:{__html:this.props.tooltip}}),this.props.isMobile?null:" What are these?")),r.createElement("div",{className:"filterDropdownWrapper"+(this.state.activeMenuElement?" isHighlighted":"")},r.createElement("div",{className:this.props.isMobile?"filterByMobile filterBlock":"filterByDropdown buttonDropdown"},this.props.label?r.createElement("span",{className:this.props.isMobile?"blockTitle":"filterDropdownLabel"},this.props.label," ",this.props.isMobile?n:null):null,r.createElement("button",{className:"filterByChosenContainer hideInPhone",type:"button",onClick:this.toggleFilter,"data-cha-target-name":"study_materials_filters_dropdown","data-cha-action-type":"click"},r.createElement("span",{className:"filterByChosenLabel"},this.props.title),r.createElement("i",{className:"chi-triangle-down"})),r.createElement("div",{className:"filterOptions buttonDropdownMenu"+(this.state.activeMenuElement?" isShown":"")},function(){var n=e.props.filter;switch(n.type){case hc.MULTI:return r.createElement(ac,{options:n.options,value:e.props.value,onChange:e.props.onChange});case hc.COURSE:var a=e.props.value&&e.props.value.school_id?{id:e.props.value.school_id,type:"school",mainText:e.props.value.school_name}:null,o=e.props.value&&e.props.value.course_id?{id:e.props.value.course_id,type:"course",mainText:e.props.value.course_name}:null;return r.createElement(r.Fragment,null,r.createElement(Vl,{defaultSchoolFilter:null,value:a?a.mainText:"",handleUpdate:t.bind(null,"school"),placeholder:"School Name",updateWithFullFilter:!0,dropdownLimit:5}),r.createElement(lc,{defaultSchoolFilter:null,handleUpdate:t.bind(null,"course"),placeholder:"Course Name",autocompleteFilterFieldSetAndLabel:{noWrapper:!0},value:o?o.mainText:"",disabled:!a,dropdownLimit:5,hideDetails:!0}));case hc.SORT:if(e.props.isMobile)return r.createElement(oc,{items:n.options.map(function(e){return{name:e.display,id:e.value}}),selected:e.props.value,onChange:e.props.onChange});var s=e.props.filter.options.filter(function(t){return t.value===e.props.value})[0]||e.props.filter.options[0];return n.options.map(function(t){return r.createElement("button",{className:"sortByOption"+(t===s?" isActive":""),onClick:function(i){i.preventDefault(),e.props.onChange({name:t.display,id:t.value})},key:t.value,"data-cha-target-name":"sort_by_"+t.value,"data-cha-action-type":"click"},t.display)});case hc.SUBJECT:var l=e.props.value?e.props.value.subject_name:"";return r.createElement(cc,{defaultSchoolFilter:null,value:l,handleUpdate:i,placeholder:"Subject Name",dropdownLimit:5,autocompleteFilterFieldSetAndLabel:{}});default:console.error("No valid type for filter",n)}}(),this.props.isMobile?null:n)))}}]),t}(r.Component),dc=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).state={viewAll:!1},i.onFilterChange=i.onFilterChange.bind(f()(i)),i.onSortChange=i.onSortChange.bind(f()(i)),i.toggleViewAll=i.toggleViewAll.bind(f()(i)),i.resetFilters=i.resetFilters.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"componentDidUpdate",value:function(e){!this.props.isMobile&&e.isMobile?this.adjustMobileScrolling(!0):this.props.isMobile&&!e.isMobile&&this.state.viewAll&&this.adjustMobileScrolling(!1)}},{key:"onFilterChange",value:function(e,t){this.props.updateFilter(t,e)}},{key:"onSortChange",value:function(e){this.props.updateSortBy("".concat(e.id))}},{key:"resetFilters",value:function(e){e.preventDefault(),this.props.resetFilters()}},{key:"toggleViewAll",value:function(e){var t=this;e&&e.preventDefault(),this.setState({viewAll:!this.state.viewAll},function(){t.props.isMobile&&t.adjustMobileScrolling(!t.state.viewAll)})}},{key:"adjustMobileScrolling",value:function(e){if(e)$("body").removeClass("searchFilterIsActive"),$("#ch-body").css("height","auto");else{var t=$(".filterList").css("height");$("body").addClass("searchFilterIsActive"),$("#ch-body").css("height",t)}this.props.onCanScrollResultsChange(e)}},{key:"componentDidMount",value:function(){$(window).on("_ch.search.filter.toggle_view",this.toggleViewAll);var e=this.props.selectedFilters;if(this.props.selectedFilters&&this.props.selectedFilters.course&&(Rl.setActiveFilter({type:"school",id:e.course.school_id,mainText:e.course.school_name}),e.course.course_id)){var t=e.course.dept_acro?e.course.dept_acro:"",i="".concat(t," ").concat(e.course.course_num);Rl.setActiveFilter({type:"course",id:e.course.course_id,mainText:i})}if(this.props.selectedFilters&&this.props.selectedFilters.subject){var n=this.props.selectedFilters.subject;Rl.setActiveFilter({type:"subject",id:n.subject_id,mainText:n.subject_name})}}},{key:"componentWillUnmount",value:function(){$(window).off("_ch.search.filter.toggle_view",this.toggleViewAll)}},{key:"render",value:function(){var e=this,t=[],i=null,n="";this.props.availableFilters.forEach(function(n){var a=e.props.selectedFilters[n.field],o=(n.display,null),s=null;if("type"===n.field&&n.options){"Resource Type";var l=n.options.map(function(e){var t=e.display,i=e.description;return t&&i?"<b>".concat(t,"</b> ").concat(i):null}).filter(function(e){return null!=e}).join("<br /><br />");l&&(o=l),s="Filter by"}var c=r.createElement(pc,{title:n.display,label:s,tooltip:o,filter:n,onChange:e.onFilterChange.bind(null,n.field),value:a,isMobile:e.props.isMobile});"type"!==n.field?!e.state.viewAll&&e.props.isMobile||t.push(c):i=c});var a=this.props.availableSortBy.filter(function(t){return t.value===e.props.selectedSortBy})[0].display,o=r.createElement(pc,{title:a,label:"Sort By",tooltip:null,filter:new bo({type:hc.SORT,options:this.props.availableSortBy}),onChange:this.onSortChange,value:this.props.selectedSortBy,isMobile:this.props.isMobile}),s="panel isBordered filterList";return this.props.isMobile?s+=" filterPanelMobile":(n+=" column12 grid_center",s="filtersContainer container grid"),this.state.viewAll&&(s+=" isActive"),r.createElement("div",{className:"topFilters"+n},r.createElement("form",{className:s},r.createElement("div",{className:"panelTitle hideInTablet hideInDesktop"},r.createElement("button",{onClick:this.toggleViewAll,type:"button",className:"filterBackButton linkButton1"},r.createElement("i",{className:"chi-arrow-left"})," Filter")),i,o,t,r.createElement("a",{className:"resetFilter",href:"#",onClick:this.resetFilters},"Reset filter")))}}]),t}(v),mc=function(e){var t=e.location;if(!t)return null;var i=[t.zip,t.city,t.state].filter(function(e){return null!=e}).join(", ");return i?(e.details&&(i+=" - ".concat(e.details)),r.createElement("div",{className:"geoInfo"},r.createElement("i",{className:"chi-map-marker"})," ",i)):null},fc=function(e){var t,i,n,a,o;return a=e.resultsSingular||"result",o=e.resultsPlural||"results",t=1===e.numResults?a:o,e.isMobile&&!e.loading&&(n=r.createElement("button",{className:"filterButton ghostButton1 isSmall",onClick:e.onFilterClick,"data-cha-target-name":"mobile_link_to_filters","data-cha-action-type":"click"},"Filter")),i=e.loading||e.isMobile&&e.numResults<1?null:r.createElement(r.Fragment,null,e.numResults.toLocaleString()+" "+t+" ",r.createElement("span",{className:"hideInPhone"},'for "',r.createElement("strong",null,e.query),'"')),r.createElement("div",{className:"resultDetails resultDetailsLoader"},n,i)},gc=i(15),bc=i.n(gc),vc=function(e){var t=r.createElement(r.Fragment,null,"your search"),i=e.className?"no-results "+e.className:"no-results";return e.query&&(t=r.createElement("span",{className:"no-results-query"},e.query)),r.createElement("div",{className:i},r.createElement("h1",{className:"no-results-header"},"No results found for ",t),r.createElement("p",{className:"no-results-message"},"You can try:"),r.createElement("ul",{className:"no-results-suggestions dottedList"},r.createElement("li",{className:"no-results-suggestions-item"},"Using more general terms (exam prep, notes, essay, etc)"),r.createElement("li",{className:"no-results-suggestions-item"},"Checking your spelling"),r.createElement("li",{className:"no-results-suggestions-item"},"Adding or removing filters")))},yc=function(e){var t=[];for(var i in e)e[i]&&t.push(i);return t.join(" ")},Sc=function(e){var t=e.className,i=void 0===t?"":t,n=e.width,a=void 0===n?"":n,o=e.noGutter,s=void 0!==o&&o,l=e.isTopAligned,c=void 0!==l&&l,u=e.isMiddleAligned,h=void 0!==u&&u,p=e.isFirstColumn,d=void 0!==p&&p,m=e.isLastColumn,f=void 0!==m&&m,g=e.noGrow,b=void 0!==g&&g,v=e.isCenterAligned,y=void 0!==v&&v,S=e.isRightAligned,E=void 0!==S&&S,_=e.children,w="column".concat(a).concat(0!=i.length?" "+i:"");return w+=" "+yc({_noGutter:s,isTopAligned:c,isMiddleAligned:h,isFirstColumn:d,isLastColumn:f,noGrow:b,isCenterAligned:y,isRightAligned:E}),r.createElement("div",{className:w},_)},Ec=function(e){var t=e.center,i=void 0!==t&&t,n=e.left,a=void 0!==n&&n,o=e.right,s=void 0!==o&&o,l=e.top,c=void 0!==l&&l,u=e.reverse,h=void 0!==u&&u,p=e.column,d=void 0!==p&&p,m=e.columnReverse,f=void 0!==m&&m,g=e.spaceBetween,b=void 0!==g&&g,v=e.spaceAround,y=void 0!==v&&v,S=e.noBottom,E=void 0!==S&&S,_=e.noSideMargin,w=void 0!==_&&_,T=e.children,C=e.numColumns,k="grid".concat(C||"");return k+=" ".concat(yc({_center:i,_left:a,_right:s,_top:c,_reverse:h,_column:d,_columnReverse:f,_spaceBetween:b,_spaceAround:y,_noBottom:E,_noSideMargin:w})),r.createElement("div",{className:k},T)},_c=function(e){var t=e.children,i=e.className,n=void 0===i?"":i,a="well".concat(n.length>0?" "+n:"");return r.createElement("div",{className:a},t)},wc=function(){return r.createElement("div",{className:"textbookThumbnailCopyright",onClick:function(e){e.preventDefault(),e.stopPropagation()}},r.createElement("span",{className:"tooltip customTooltip popDown"},r.createElement("span",{className:"text textCenter"},"This textbook can be purchased at www.amazon.com"),r.createElement("span",{className:"textbookThumbnailCopyrightSymbol"},"©")))},Tc=function(e){var t=e.textbook,i=e.isMobile,n=void 0!==i&&i,a=t.title,o=t.cover_url?t.cover_url:"http://images.amazon.com/images/P/1337408336.jpg",s=r.createElement("a",{href:t.url,title:a,className:"textbookTitle"},r.createElement("strong",{dangerouslySetInnerHTML:{__html:a}})),l=r.createElement("div",{className:"textbookPhotoCopyrightContainer"},r.createElement("a",{href:t.url,title:a},r.createElement("img",{src:o,className:"textbookPhoto",alt:a})),r.createElement(wc,null)),c=(t.exercises||[]).map(function(e){var t="Chapter ".concat(e.chapter.num,", Section ").concat(e.section.num,", ").concat(e.section.title,", Exercise ").concat(e.exercise_num);return r.createElement("a",{className:"panel textbookExerciseLink",href:e.url},r.createElement("span",null,t),r.createElement("i",{className:"chi-pointer-circle-right"}))});if(n)return r.createElement(_c,{className:"textbookSnippet"},r.createElement(Ec,null,r.createElement(Sc,{className:"textbookPhotoContainer"},l),r.createElement(Sc,{width:"8",className:"textbookTitleContainer"},r.createElement(Ec,null,r.createElement(Sc,{width:"12"},s),r.createElement(Sc,{width:"12"},r.createElement("a",{className:"chapterListLink isLarge",href:t.url},"View all chapters ",r.createElement("i",{className:"chi-pointer-right"})))))),r.createElement(Ec,{noBottom:!0},c.slice(0,1).map(function(e){return r.createElement(Sc,{width:"12"},e)})));var u="textbookSnippetContainer",h=6;return 0==c.length&&(u+=" isCollapsed",h=12),r.createElement("section",{className:u},r.createElement(_c,{className:"textbookSnippet"},r.createElement(Ec,{noBottom:!0},r.createElement(Sc,{width:"3",className:"textbookPhotoContainer"},l),r.createElement(Sc,null,r.createElement(Ec,{noBottom:!0},r.createElement(Sc,{width:"12",className:"textbookTitleContainer"},s),r.createElement(Sc,{width:h},r.createElement("p",{className:"textbookDetails"},t.edition_name&&"".concat(t.edition_name,".")," ",t.author,r.createElement("br",null),"ISBN: ",t.isbn)),r.createElement(Sc,{width:h},r.createElement("ul",{className:"chapterList"},t.chapters&&t.chapters.map(function(e){return r.createElement("li",{key:e.url,className:"chapterListItem"},r.createElement("a",{href:e.url},e.name))}),r.createElement("li",{className:"chapterListItem"},r.createElement("a",{href:t.url},"View all chapters ",r.createElement("i",{className:"chi-arrow-right"})))))),r.createElement(Ec,{noBottom:!0},c.slice(0,2).map(function(e){return r.createElement(Sc,null,e)}))))))};!function(e){e.CONVERSION_QUEUE="conversionQueue",e.JOB="job",e.DOCUMENT="document",e.QUESTION="question",e.QA_THREAD="qa_thread",e.FLASHCARD="flashcard",e.FLASHCARDS="flashcards",e.BOOK="book",e.SOCIAL_SHARE="social_share",e.STUDY_GUIDE="study_guide",e.INFOGRAPHIC="infographic",e.EDU_INFOGRAPHIC="edu-infographic",e.BEST_LESSONS="best_lesson",e.PROFILE="profile",e.TUTOR="expert",e.ECOURSE_TYPE="e-course",e.ANSWER="answers",e.COURSE="course",e.COURSE_STUDYGUIDE="course_studyguide",e.LIT_STUDYGUIDE="lit_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.BOOKMARK="bookmark",e.ALL="all",e.TEXTBOOK_EXERCISE="textbook_exercise",e.TEXTBOOK="textbook"}(uc||(uc={}));var Cc,kc=uc,Ac=function(e){var t=e.callout;e.isMobile;switch(t.type){case kc.TEXTBOOK:return r.createElement(Tc,{textbook:t.textbook,isMobile:e.isMobile})}return null},Oc=i(13),Nc=function(e){var t=e.items.map(function(t,i){var n=t.label?r.createElement("span",{className:e.labelClassName},t.label):null,a=t.icon?r.createElement("i",{className:e.iconClassName+" "+t.icon}):null,o=r.createElement("span",{className:e.valueClassName},t.value),s=r.createElement(r.Fragment,null,a,n,o);return t.url&&(s=r.createElement("a",{href:t.url},s)),r.createElement("li",{className:"listItem",key:i},s)});return t&&t.length?r.createElement("ul",{className:e.className},t):null},Dc=i(18),xc=function(e){var t=e.className,i=void 0===t?"":t;return r.createElement("div",{className:"".concat(Dc.newMarker," ").concat(i)})},Rc={DEFAULT_CONTENT_THUMBNAIL:"/assets/img/default_content_thumbnail.svg",DEFAULT_COURSE_THUMBNAIL:"/assets/img/courses/icons-standardized/Generic_Blue.svg"},Uc=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).state={src:e.src},i.handleError=i.handleError.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"handleError",value:function(){var e=this.props.fallbackUrl||Rc.DEFAULT_CONTENT_THUMBNAIL;this.state.src!=e&&this.setState({src:e})}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&this.setState({src:this.props.src})}},{key:"render",value:function(){var e=null;if(this.props.overlayText&&"0"!==this.props.overlayText){var t=Kl.pluralize(parseInt(this.props.overlayText),["page","pages"]);e=r.createElement("span",{className:"thumbnailOverlayText"},this.props.overlayText,r.createElement("span",{className:"thumbnailOverlayTextDescription"},t))}return r.createElement("div",{className:"thumbnail"},r.createElement("img",{className:"thumbnailImg",src:this.state.src,alt:this.props.alt,onError:this.handleError}),e)}}]),t}(v),Ic=/\w/,Fc=/<[^\/>]+>/,zc=/<\/[^>]+>/,Pc=/\b\S+\b/,Lc=/\s|\d/,jc=/\s*(<[^\/\s>]+>\s*<\/[^\s<]+>)+\s*$/,Mc=function(){function e(){s()(this,e)}return c()(e,null,[{key:"parseTag",value:function(e,t){var i;return e?e.length>t&&Lc.exec(e[t+1])?"<":(i=e.indexOf(">",t),e.slice(t,i+1)):null}},{key:"insertClosingTag",value:function(e,t,i){var n="</".concat(t,">");return{updatedString:e.slice(0,i)+n+e.slice(i),insertedString:n}}},{key:"closeTagsFromStack",value:function(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r="",a=t.slice();if(!e||!a||!a.length)return{updatedString:e,insertedString:r};for(i=e;a.length>0;){var o=this.insertClosingTag(i,a.shift(),n);r+=o.insertedString,i=o.updatedString}return{updatedString:i,insertedString:r}}},{key:"truncate",value:function(e){var t,i,n,r,a=0,o=[];if(t=(e=e||{}).source,i=e.maxChar,n=!0===e.isHTML,r=!1!==e.stripEmpty,!t||!t.length||!i||i>=t.length)return t;for(;a<i&&a<t.length;)if("<"===t[a]&&n){var s=this.parseTag(t,a),l=s.length;if(!s)break;if(Fc.exec(s))o.push(s.match(Pc)[0]);else if(zc.exec(s)){var c,u=s.match(Pc)&&s.match(Pc)[0],h=o.indexOf(u),p=void 0;-1===h?(p=o,o=[]):(p=o.slice(h+1),o=o.slice(0,h)),t=(c=this.closeTagsFromStack(t,p,a)).updatedString,c.insertedString.length}a+=l,i+=l}else a+=1;if(Ic.exec(t[a]))for(;Ic.exec(t[a])&&a>0;)a-=1;return">"===t[a]&&(a+=1),t=t.slice(0,a),t=this.closeTagsFromStack(t,o,a).updatedString,n&&r&&(t=t.replace(jc,"")),t+"..."}}]),e}(),Bc=function(e){var t,i;!function(e){e.PENDING_SMS="Awaiting SMS Verification",e.PENDING_SUBMIT="Awaiting Submit",e.PENDING_PAYMENT="Awaiting Payment"}(i||(i={}));var n,a=(t={},Xa()(t,i.PENDING_SMS,"Continue Verification"),Xa()(t,i.PENDING_SUBMIT,"Continue Submit"),Xa()(t,i.PENDING_PAYMENT,"Continue Payment"),t),o=e.contentType,s=e.isNew,l=void 0!==s&&s,c=e.status,u=e.title,h=e.text,p=e.thumbnailUrl,d=e.thumbnailText,m=e.useDangerouslySetInnerHTML,f=void 0!==m&&m,g=null,b=null,v=null,y=null,S=e.url,E=null,_=null,w=a[c]||"View";if(n="regularSnippet"+(e.className?" ".concat(e.className):""),u)if(o!==kc.QUESTION)g=f?r.createElement("p",{className:"title",dangerouslySetInnerHTML:{__html:u}}):r.createElement("p",{className:"title"}," ",u," ");else if(p){var T=Mc.truncate({source:h?"Q: "+h:u,maxChar:170,isHTML:!0});g=f?r.createElement("p",{className:"title",dangerouslySetInnerHTML:{__html:T}}):r.createElement("p",{className:"title"}," ",T)}h&&o!==kc.QUESTION&&(y=f?r.createElement("p",{className:"contentItemText",dangerouslySetInnerHTML:{__html:h}}):r.createElement("p",{className:"contentItemText"},h));var C;if(p)C=r.createElement(Uc,{src:p,alt:"",overlayText:d,fallbackUrl:e.thumbnailFallbackUrl}),b=-1!==[kc.TEXTBOOK,kc.TEXTBOOK_EXERCISE].indexOf("".concat(o))?r.createElement("div",{className:"textbookThumbnailContainer"},C,r.createElement(wc,null)):C;else if(u){var k=Mc.truncate({source:u,maxChar:"question"===o?170:80,isHTML:!0});b=f?r.createElement("div",{className:"thumbnailAlternative",dangerouslySetInnerHTML:{__html:k}}):r.createElement("div",{className:"thumbnailAlternative"},k)}if(e.status){var A="label status"+(e.statusClassName?" ".concat(e.statusClassName):"");v=r.createElement("div",{className:A},e.status)}e.header&&e.header.length>0&&(E=r.createElement(Nc,{items:e.header,className:"taxonomy"})),e.footer&&e.footer.length>0&&(_=r.createElement(Nc,{items:e.footer,className:"question"==o&&p?"stats questionThumbnail":"stats",labelClassName:"statTitle",valueClassName:"statValue",iconClassName:"statIcon"}));var O=null;S&&(O=r.createElement("a",{className:"viewButton secondaryButton1 isSmall"},w));var N={"data-cha-action-type":"none","data-cha-action-target-type":e.contentType,"data-cha-action-target-id":e.contentId,"data-cha-target-name":e.chaTargetNamePrefix?"".concat(e.chaTargetNamePrefix,"_content_item"):"content_item","data-cha-interaction-type":"viewed","data-cha-js-event-type":"scroll","data-cha-tracking-viewed-interaction":!0},D={"data-cha-target-name":e.chaTargetNamePrefix?"".concat(e.chaTargetNamePrefix,"_content_item"):"content_item","data-cha-action-type":"visit","data-cha-action-target-type":e.contentType,"data-cha-action-target-id":e.contentId};return e.chaAmplitudeName&&(D["data-cha-amplitude-name"]=e.chaAmplitudeName),e.chaTrackImpression&&(N["data-cha-impression"]="true"),r.createElement("div",Ol()({className:n},N),r.createElement("div",{className:"overlay"}),e.actionDropdown,r.createElement("a",Ol()({href:S,onClick:e.onClick,className:"snippetLink"},D)),E,g,O,r.createElement("div",{className:"details"},b,r.createElement("div",{className:"excerpt"},y,_),r.createElement("div",{className:"clear"})),l&&r.createElement(xc,null),v,e.children)};!function(e){e[e.MAX_CHARS_WITH_THUMBNAIL=70]="MAX_CHARS_WITH_THUMBNAIL",e[e.MAX_CHARS_NO_THUMBNAIL=200]="MAX_CHARS_NO_THUMBNAIL"}(Cc||(Cc={}));var Hc,qc=Cc,Gc=function(){function e(){s()(this,e)}return c()(e,null,[{key:"doesThumbnailExist",value:function(e){return!!e.thumbnailUrl}},{key:"getThumbnailOverlayText",value:function(t){return e.doesThumbnailExist(t)&&t.type!=kc.COURSE_STUDYGUIDE&&t.type!=kc.LIT_STUDYGUIDE&&t.type!=kc.STUDYGUIDE_VIDEO?t.thumbnailText:null}},{key:"getFixedContentTitleAndText",value:function(t){var i=t.title||"",n=t.text||"",r=e.doesThumbnailExist(t),a="";switch(t.type){case kc.QUESTION:a="Q: ";break;case kc.DOCUMENT:case kc.CONVERSION_QUEUE:t.subType&&t.subType.length&&(a=t.subType[0].toUpperCase()+t.subType.substr(1)+" - ")}if(r){if(i.trim()||(i="Please reference attachment."),!n.trim()){var o=this.getPrettyType(t.type);o&&(n="Please reference attachment (description for this ".concat(o.toLowerCase()," is unavailable)."))}}else-1===[kc.TEXTBOOK_EXERCISE].indexOf(t.type||"")&&n&&(i=n,n="");return i=a+i,{title:i=Mc.truncate({source:i,maxChar:r?qc.MAX_CHARS_WITH_THUMBNAIL:qc.MAX_CHARS_NO_THUMBNAIL,isHTML:!0}),text:n}}},{key:"getPrettyType",value:function(e){switch(e){case kc.QUESTION:return"Question & Explanation";case kc.DOCUMENT:case kc.CONVERSION_QUEUE:case kc.BOOKMARK:return"Study Document";case kc.COURSE:return"Course";case kc.COURSE_STUDYGUIDE:return"Subject Study Guide";case kc.LIT_STUDYGUIDE:return"Literature Study Guide";case kc.STUDYGUIDE_VIDEO:return"Study Guide Video";case kc.TEXTBOOK_EXERCISE:return"Solution";case kc.TEXTBOOK:return"Textbook"}return null}}]),e}();!function(e){e.ANSWERED="Solved",e.PENDING="Solution Pending"}(Hc||(Hc={}));var Qc,Wc=Hc,Vc=function(e){var t=e.content,i=[],n=e.content.isUserArchived?"Archived":e.status,a=e.content.isUserArchived?"isProcessing":e.statusClassName,o=function(e){var t=[];switch(e.type){case kc.TEXTBOOK_EXERCISE:e.textbook_exercise&&(t.push({value:"".concat(e.textbook_exercise.textbook.title," (").concat(e.textbook_exercise.textbook.edition_name,")")}),t.push({value:e.textbook_exercise.section.title}),t.push({value:"Page ".concat(e.textbook_exercise.page)}));break;case kc.TEXTBOOK:e.textbook&&(t.push({value:"".concat(e.textbook.edition_name,". ").concat(e.textbook.author,".")}),t.push({value:"ISBN: ".concat(e.textbook.isbn)}));break;default:var i=Gc.getPrettyType(e.type);i&&t.push({value:i})}return t}(t);if(t.type!==kc.COURSE&&(t.taxonomy&&t.taxonomy.school&&t.taxonomy.school.school_name&&t.taxonomy.school.school_url&&t.taxonomy.course&&t.taxonomy.course.course_num&&t.taxonomy.course.course_url&&t.taxonomy.department&&t.taxonomy.department.dept_acro?(o.push({url:e.dontShowTaxonomyUrl?null:t.taxonomy.school.school_url,value:t.taxonomy.school.school_name}),o.push({url:e.dontShowTaxonomyUrl?null:t.taxonomy.course.course_url,value:t.taxonomy.department.dept_acro.toUpperCase()+" "+t.taxonomy.course.course_num})):t.taxonomy&&t.taxonomy.subject&&t.taxonomy.subject.subject_name&&o.push({value:t.taxonomy.subject.subject_name})),t.courseResourceData){var s=t.courseResourceData,l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var h=u;i.push({label:h.title,value:h.count.toString()})}}else{if(t.type===kc.TEXTBOOK_EXERCISE&&i.push({value:"Solved",icon:"chi-check-circle"}),t.type===kc.TEXTBOOK&&t.textbook.num_solutions>0&&i.push({value:"".concat(t.textbook.num_solutions," Solutions"),icon:"chi-check-circle"}),t.date&&-1===[kc.TEXTBOOK,kc.TEXTBOOK_EXERCISE].indexOf(t.type)){var p=Oc(t.date);i.push({value:p.format("MM/YYYY"),icon:"chi-time"})}if(t.numViews&&i.push({value:t.numViews.toString(),icon:"chi-view"}),t.status&&!e.status){var d,m=t.status,f=null;m===Wc.ANSWERED?f="chi-check-circle":m===Wc.PENDING&&(f="chi-hourglass"),d={value:m,icon:f},i.unshift(d)}}var g=Gc.getFixedContentTitleAndText(t),b=Gc.doesThumbnailExist(t)?t.thumbnailUrl:void 0,v=Gc.getThumbnailOverlayText(t)||void 0;return r.createElement(Bc,{contentId:t.id,contentType:t.type,header:o,isNew:t.isNew,title:g.title,text:g.text,footer:i,thumbnailUrl:b,thumbnailText:v,thumbnailFallbackUrl:t.thumbnailFallbackUrl,url:t.url,className:t.type+(t.isUserArchived?" isUserArchived":""),status:n,statusClassName:a,actionDropdown:e.actionDropdown,chaAmplitudeName:e.chaAmplitudeName,chaTargetNamePrefix:e.chaTargetNamePrefix,chaTrackImpression:e.chaTrackImpression,onClick:e.onClick,useDangerouslySetInnerHTML:e.useDangerouslySetInnerHTML})},Xc=function(e){var t=e.results.map(function(t,i){if("object"===bc()(t)){var n=t.taxonomy&&t.taxonomy.course&&t.taxonomy.course.course_id&&e.coursesToHideTaxonomyLink.includes(t.taxonomy.course.course_id);return r.createElement("div",{className:"resultsItemContainer",key:i},r.createElement(Vc,{content:t,chaTrackImpression:!0,dontShowTaxonomyUrl:n,useDangerouslySetInnerHTML:!0}),!e.isMobile&&-1!==[kc.TEXTBOOK,kc.TEXTBOOK_EXERCISE].indexOf(t.type)&&r.createElement(wc,null))}return"function"==typeof t?t():t});if(0===t.length&&!e.loadingResults)return r.createElement(vc,{className:"column9 tablet8 phone10",query:e.query});var i=e.callouts?e.callouts.map(function(t){return r.createElement(Ac,{callout:t,isMobile:e.isMobile})}):null;return r.createElement(r.Fragment,null,i,t)},Kc=function(e){var t=function(t,i){i.preventDefault(),"function"==typeof e.onPage&&e.onPage(t)},i=e.seoLinks?"?page="+(e.currentPage-1):"#",n=e.seoLinks?"?page="+(e.currentPage+1):"#";if(0===e.numPages)return null;var a=1;e.numPages>9&&(e.currentPage+5>=e.numPages?a=e.numPages-8:e.currentPage>5&&(a=e.currentPage-4));var o=Math.min(e.numPages-a+1,9),s=[],l={};if(e.chaAmplitudeName&&(l["data-cha-amplitude-name"]=e.chaAmplitudeName),!e.noPageNums)for(var c=0;c<o;c++){var u=c+a,h=u===e.currentPage?"isActive":"";s.push(r.createElement("li",{key:u},r.createElement("a",Ol()({href:"#",onClick:t.bind(null,u),className:h,"data-cha-target-name":"page_link","data-cha-amp-pagination-number":u,"data-cha-action-type":"visit"},l),u)))}var p=e.currentPage>1?r.createElement("li",null,r.createElement("a",Ol()({href:i,onClick:function(t){t.preventDefault(),"function"==typeof e.onPrev&&e.onPrev()},className:"prev changed","data-cha-target-name":"page_link_prev","data-cha-action-type":"visit"},l),r.createElement("i",{className:"chi-pointer-left-bold"}),"Prev")):null,d=e.currentPage<e.numPages?r.createElement("li",null,r.createElement("a",Ol()({href:n,onClick:function(t){t.preventDefault(),"function"==typeof e.onNext&&e.onNext()},className:"next","data-cha-target-name":"page_link_next","data-cha-action-type":"visit"},l),"Next ",r.createElement("i",{className:"chi-pointer-right-bold"}))):null;return r.createElement("ul",{className:"pagination"},p,s,d)};!function(e){e.HOMEPAGE="homepage",e.HEADER="header",e.IOS="ios_app",e.ANDROID="android_app",e.RELOAD="reload",e.FILTER="filter",e.SORT="sort",e.PAGINATION="pagination",e.INSTAPAGE="instapage",e.COURSE_PAGE="course_page",e.EDUCATOR_LANDING="educator_landing"}(Qc||(Qc={}));var $c,Yc=Qc;!function(e){e.WEB="list_w",e.MOBILE="list_m"}($c||($c={}));var Jc,Zc,eu,tu,iu,nu,ru,au,ou,su,lu,cu,uu,hu,pu,du=$c,mu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.int.bind(null,e))},fu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.string.bind(null,e))},gu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.bool.bind(null,e))},bu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.float.bind(null,e))},vu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.array.bind(null,e))},yu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Su.bind(null,vl.object.bind(null,e))},Su=function(e,t,i,n){t.constructor.schema[i]=e()},Eu=(Jc=mu(),Zc=fu(),eu=mu(),tu=gu(),iu=mu(),nu=mu(),pu=hu=function e(t,i,n,r,a,o){s()(this,e),Ya()(this,"userId",au,this),Ya()(this,"username",ou,this),Ya()(this,"email",su,this),Ya()(this,"disabledAccount",lu,this),Ya()(this,"tutorQuestions",cu,this),Ya()(this,"numberOfUnlocks",uu,this),this.userId=t,this.username=i,this.email=n,this.disabledAccount=r,this.tutorQuestions=a,this.numberOfUnlocks=o},hu.MODEL_NAME="user",hu.schema={},ru=pu,au=Za()(ru.prototype,"userId",[Jc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ou=Za()(ru.prototype,"username",[Zc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),su=Za()(ru.prototype,"email",[eu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lu=Za()(ru.prototype,"disabledAccount",[tu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cu=Za()(ru.prototype,"tutorQuestions",[iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=Za()(ru.prototype,"numberOfUnlocks",[nu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ru),_u=function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(i=h()(this,(e=d()(t)).call.apply(e,[this].concat(r)))).receiveUsers=function(e){return e},i.receiveUserDetails=function(e){return e},i}return b()(t,e),t}(ml),wu=fl.create(new _u),Tu=function(e){function t(){var e;return s()(this,t),(e=h()(this,d()(t).call(this))).userDetails=void 0,wu._register({receiveUsers:wu.receiveUsers,receiveUserDetails:wu.receiveUserDetails},f()(e)),e}return b()(t,e),c()(t,[{key:"getUsers",value:function(){return this.getRows(Eu.MODEL_NAME)}},{key:"getUserDetails",value:function(){return this.userDetails}},{key:"getUserById",value:function(e){return this.getUsers().filter(function(t){return t.userId===e})[0]}},{key:"receiveUsers",value:function(e){var t=this;e.forEach(function(e){t.upsertRow(Eu.MODEL_NAME,"userId",e.userId,t.sanitize(e,Eu.schema))}),this.onUpdate()}},{key:"receiveUserDetails",value:function(e){this.userDetails=e,this.onUpdate()}},{key:"self",value:function(){return t}},{key:"onUpdate",value:function(){this.emit(this.self().events.UPDATE)}}]),t}(vl);Tu.events={UPDATE:"UserStoreClass.events.UPDATE"};var Cu,ku,Au=new Tu;(ku=Cu||(Cu={}))[ku.TEXTBOOK=kc.TEXTBOOK]="TEXTBOOK";var Ou,Nu,Du,xu,Ru,Uu,Iu,Fu,zu,Pu,Lu,ju,Mu,Bu,Hu,qu,Gu,Qu,Wu,Vu,Xu,Ku,$u,Yu,Ju,Zu,eh,th,ih,nh,rh,ah,oh,sh,lh,ch,uh,hh,ph,dh,mh,fh,gh,bh,vh,yh,Sh,Eh,_h,wh,Th,Ch,kh,Ah,Oh,Nh,Dh,xh,Rh,Uh,Ih,Fh,zh,Ph,Lh,jh,Mh,Bh,Hh,qh,Gh,Qh,Wh,Vh,Xh,Kh,$h,Yh,Jh,Zh,ep,tp,ip,np,rp,ap,op,sp,lp,cp,up,hp,pp,dp,mp,fp,gp,bp,vp,yp,Sp,Ep,_p,wp,Tp,Cp,kp,Ap,Op,Np,Dp,xp,Rp,Up,Ip,Fp,zp,Pp,Lp,jp,Mp,Bp,Hp,qp,Gp,Qp,Wp,Vp,Xp,Kp,$p,Yp,Jp,Zp,ed,td=Cu,id=function(){function e(){s()(this,e)}return c()(e,null,[{key:"search",value:function(e,t){return Qa.ApiService.post("/api/v2/search/",e).then(function(e){Ka([e,t])})}}]),e}(),nd=(Ou=mu(),Nu=fu(),Du=fu(),xu=fu(),Ru=gu(),Uu=fu(),Iu=fu(),Fu=fu(),zu=mu(),Pu=fu(),Lu=gu(),ju=yu(),Mu=yu(),Bu=gu(),Hu=gu(),qu=gu(),Gu=mu(),Qu=mu(),Wu=mu(),Vu=mu(),Xu=bu(),Ku=yu(),$u=mu(),Yu=fu(),Ju=mu(),Zu=fu(),eh=fu(),th=fu(),ih=mu(),nh=mu(),rh=gu(),ah=gu(),oh=fu(),sh=fu(),lh=fu(),ch=fu(),uh=gu(),hh=fu(),ph=gu(),dh=fu(),mh=fu(),fh=gu(),gh=gu(),bh=mu(),vh=mu(),yh=mu(),Sh=mu(),Eh=mu(),_h=gu(),wh=mu(),Th=gu(),Ch=gu(),kh=gu(),Ah=mu(),Oh=vu(),Nh=gu(),Dh=gu(),xh=gu(),Rh=fu(),Uh=gu(),Ih=gu(),Fh=gu(),zh=gu(),Ph=gu(),Lh=fu(),Jp=Yp=function e(t,i,n,r,a,o,l,c,u,h,p,d,m,f,g,b,v,y,S,E,_,w,T,C,k,A,O,N,D,x,R,U,I,F,z,P,L,j,M,B,H,q,G,Q,W,V,X,K,$,Y,J,Z,ee,te,ie,ne,re,ae,oe,se,le,ce,ue,he,pe){s()(this,e),Ya()(this,"userId",Mh,this),Ya()(this,"username",Bh,this),Ya()(this,"displayName",Hh,this),Ya()(this,"profileUrl",qh,this),Ya()(this,"isModerator",Gh,this),Ya()(this,"canChangeName",Qh,this),Ya()(this,"email",Wh,this),Ya()(this,"expirationDate",Vh,this),Ya()(this,"daysLeft",Xh,this),Ya()(this,"lastLogin",Kh,this),Ya()(this,"disabledAccount",$h,this),Ya()(this,"iosSubscription",Yh,this),Ya()(this,"litleSubscription",Jh,this),Ya()(this,"premier",Zh,this),Ya()(this,"isRememberMe",ep,this),Ya()(this,"createdContent",tp,this),Ya()(this,"numDocumentsUploaded",ip,this),Ya()(this,"numQuestionsAsked",np,this),Ya()(this,"numQuestionsAnswered",rp,this),Ya()(this,"numFlashcardsCreated",ap,this),Ya()(this,"profilePercentComplete",op,this),Ya()(this,"profileErrors",sp,this),Ya()(this,"tutorQuestions",lp,this),Ya()(this,"school",cp,this),Ya()(this,"schoolId",up,this),Ya()(this,"schoolLocation",hp,this),Ya()(this,"studentType",pp,this),Ya()(this,"fullName",dp,this),Ya()(this,"graduationYear",mp,this),Ya()(this,"graduationMonth",fp,this),Ya()(this,"isPaused",gp,this),Ya()(this,"canPause",bp,this),Ya()(this,"lastPausedOn",vp,this),Ya()(this,"nextPauseDate",yp,this),Ya()(this,"resumeDate",Sp,this),Ya()(this,"autoRenewDate",Ep,this),Ya()(this,"canUpgrade",_p,this),Ya()(this,"phoneNumber",wp,this),Ya()(this,"smsNotificationEnabled",Tp,this),Ya()(this,"profilePhoto",Cp,this),Ya()(this,"defaultAvatar",kp,this),Ya()(this,"isUnlock",Ap,this),Ya()(this,"stopDashboardAlerts",Op,this),Ya()(this,"totalDownloadCount",Np,this),Ya()(this,"monthlyAvailableDownloads",Dp,this),Ya()(this,"monthlyUnlocksRemaining",xp,this),Ya()(this,"todaysDownloadCount",Rp,this),Ya()(this,"monthlyDownloadLimit",Up,this),Ya()(this,"nonMarketplaceDocsApproved",Ip,this),Ya()(this,"numDocsToRetag",Fp,this),Ya()(this,"expertDashboardAvailable",zp,this),Ya()(this,"canAccessInternEmailPage",Pp,this),Ya()(this,"fcPremierRecurring",Lp,this),Ya()(this,"unlocksRemaining",jp,this),Ya()(this,"userRights",Mp,this),Ya()(this,"canAnswerQuestions",Bp,this),Ya()(this,"isTeacher",Hp,this),Ya()(this,"needRealUsername",qp,this),Ya()(this,"nextPaymentDateDisplay",Gp,this),Ya()(this,"isPaypalUser",Qp,this),Ya()(this,"isGooglePlaySubscriber",Wp,this),Ya()(this,"isIOSSubscriber",Vp,this),Ya()(this,"hasValidCreditCard",Xp,this),Ya()(this,"isPinpoint",Kp,this),Ya()(this,"department",$p,this),this.userId=t,this.username=i,this.displayName=n,this.profileUrl=r,this.isModerator=a,this.canChangeName=o,this.email=l,this.expirationDate=c,this.daysLeft=u,this.lastLogin=h,this.disabledAccount=p,this.iosSubscription=d,this.litleSubscription=m,this.premier=f,this.isRememberMe=g,this.createdContent=b,this.numDocumentsUploaded=v,this.numQuestionsAsked=y,this.numQuestionsAnswered=S,this.numFlashcardsCreated=E,this.profilePercentComplete=_,this.profileErrors=w,this.tutorQuestions=T,this.school=C,this.schoolId=k,this.schoolLocation=A,this.studentType=O,this.fullName=N,this.graduationYear=D,this.graduationMonth=x,this.isPaused=R,this.canPause=U,this.lastPausedOn=I,this.nextPauseDate=F,this.resumeDate=z,this.autoRenewDate=P,this.canUpgrade=L,this.phoneNumber=j,this.smsNotificationEnabled=M,this.profilePhoto=B,this.defaultAvatar=H,this.isUnlock=q,this.stopDashboardAlerts=G,this.totalDownloadCount=Q,this.monthlyAvailableDownloads=W,this.monthlyUnlocksRemaining=V,this.todaysDownloadCount=X,this.monthlyDownloadLimit=K,this.nonMarketplaceDocsApproved=$,this.numDocsToRetag=Y,this.expertDashboardAvailable=J,this.canAccessInternEmailPage=Z,this.fcPremierRecurring=ee,this.unlocksRemaining=te,this.userRights=ie,this.canAnswerQuestions=ne,this.isTeacher=re,this.needRealUsername=ae,this.nextPaymentDateDisplay=oe,this.isPaypalUser=se,this.isGooglePlaySubscriber=le,this.isIOSSubscriber=ce,this.hasValidCreditCard=ue,this.isPinpoint=he,this.department=pe},Yp.MODEL_NAME="userDetails",Yp.schema={},jh=Jp,Mh=Za()(jh.prototype,"userId",[Ou],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bh=Za()(jh.prototype,"username",[Nu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hh=Za()(jh.prototype,"displayName",[Du],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh=Za()(jh.prototype,"profileUrl",[xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gh=Za()(jh.prototype,"isModerator",[Ru],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=Za()(jh.prototype,"canChangeName",[Uu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=Za()(jh.prototype,"email",[Iu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vh=Za()(jh.prototype,"expirationDate",[Fu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh=Za()(jh.prototype,"daysLeft",[zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=Za()(jh.prototype,"lastLogin",[Pu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$h=Za()(jh.prototype,"disabledAccount",[Lu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Za()(jh.prototype,"iosSubscription",[ju],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=Za()(jh.prototype,"litleSubscription",[Mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=Za()(jh.prototype,"premier",[Bu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ep=Za()(jh.prototype,"isRememberMe",[Hu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tp=Za()(jh.prototype,"createdContent",[qu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ip=Za()(jh.prototype,"numDocumentsUploaded",[Gu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),np=Za()(jh.prototype,"numQuestionsAsked",[Qu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rp=Za()(jh.prototype,"numQuestionsAnswered",[Wu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ap=Za()(jh.prototype,"numFlashcardsCreated",[Vu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),op=Za()(jh.prototype,"profilePercentComplete",[Xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sp=Za()(jh.prototype,"profileErrors",[Ku],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lp=Za()(jh.prototype,"tutorQuestions",[$u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cp=Za()(jh.prototype,"school",[Yu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),up=Za()(jh.prototype,"schoolId",[Ju],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hp=Za()(jh.prototype,"schoolLocation",[Zu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pp=Za()(jh.prototype,"studentType",[eh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dp=Za()(jh.prototype,"fullName",[th],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mp=Za()(jh.prototype,"graduationYear",[ih],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fp=Za()(jh.prototype,"graduationMonth",[nh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gp=Za()(jh.prototype,"isPaused",[rh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bp=Za()(jh.prototype,"canPause",[ah],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vp=Za()(jh.prototype,"lastPausedOn",[oh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yp=Za()(jh.prototype,"nextPauseDate",[sh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sp=Za()(jh.prototype,"resumeDate",[lh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ep=Za()(jh.prototype,"autoRenewDate",[ch],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_p=Za()(jh.prototype,"canUpgrade",[uh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wp=Za()(jh.prototype,"phoneNumber",[hh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tp=Za()(jh.prototype,"smsNotificationEnabled",[ph],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cp=Za()(jh.prototype,"profilePhoto",[dh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kp=Za()(jh.prototype,"defaultAvatar",[mh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ap=Za()(jh.prototype,"isUnlock",[fh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Op=Za()(jh.prototype,"stopDashboardAlerts",[gh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Np=Za()(jh.prototype,"totalDownloadCount",[bh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dp=Za()(jh.prototype,"monthlyAvailableDownloads",[vh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xp=Za()(jh.prototype,"monthlyUnlocksRemaining",[yh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rp=Za()(jh.prototype,"todaysDownloadCount",[Sh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Up=Za()(jh.prototype,"monthlyDownloadLimit",[Eh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=Za()(jh.prototype,"nonMarketplaceDocsApproved",[_h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fp=Za()(jh.prototype,"numDocsToRetag",[wh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zp=Za()(jh.prototype,"expertDashboardAvailable",[Th],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pp=Za()(jh.prototype,"canAccessInternEmailPage",[Ch],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lp=Za()(jh.prototype,"fcPremierRecurring",[kh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jp=Za()(jh.prototype,"unlocksRemaining",[Ah],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mp=Za()(jh.prototype,"userRights",[Oh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bp=Za()(jh.prototype,"canAnswerQuestions",[Nh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hp=Za()(jh.prototype,"isTeacher",[Dh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qp=Za()(jh.prototype,"needRealUsername",[xh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gp=Za()(jh.prototype,"nextPaymentDateDisplay",[Rh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=Za()(jh.prototype,"isPaypalUser",[Uh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=Za()(jh.prototype,"isGooglePlaySubscriber",[Ih],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=Za()(jh.prototype,"isIOSSubscriber",[Fh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xp=Za()(jh.prototype,"hasValidCreditCard",[zh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kp=Za()(jh.prototype,"isPinpoint",[Ph],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$p=Za()(jh.prototype,"department",[Lh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jh),rd=function(){function e(){s()(this,e)}return c()(e,null,[{key:"getUserDetails",value:function(e){return yl().get("/api/v1/users/details/",{}).then(function(t){if(t){var i=new nd(t.user_id,t.username,t.display_name,t.profile_url,t.is_moderator,t.can_change_name,t.email,t.expiration_date,t.days_left,t.last_login,t.disabled_account,t.ios_subscription,t.litle_subcsription,t.premier,t.is_remember_me,t.created_content,t.num_documents_uploaded,t.num_questions_asked,t.num_questions_answered,t.num_flashcards_created,t.profile_percent_complete,t.profile_errors,t.tutor_questions_remaining,t.school,t.school_id,t.school_location,t.student_type,t.full_name,t.graduation_year,t.graduation_month,t.is_paused,t.can_pause,t.last_paused_on,t.next_pause_date,t.resume_date,t.auto_renew_date,t.can_upgrade,t.phone_number,t.sms_notification_enabled,t.profile_photo,t.default_avatar,t.is_unlock,t.stop_dashboard_alerts,t.total_download_count,t.monthly_available_downloads,t.monthly_unlocks_remaining,t.todays_download_count,t.monthly_download_limit,t.non_marketplace_docs_approved,t.num_docs_to_retag,t.expert_dashboard_available,t.can_access_intern_email_page,t.fc_premier_recurring,t.unlocks_remaining,t.user_rights,t.can_answer_questions,t.is_teacher,t.need_real_username,t.next_payment_date_display,t.is_paypal_user,t.is_google_play_subscriber,t.is_ios_subscriber,t.has_valid_credit_card,t.is_pinpoint,t.department);wu.receiveUserDetails(i),e&&e(t)}})}}]),e}(),ad=Dl.define("RECEIVE_COURSES",function(){return Qa.Actions.define("RECEIVE_COURSES",function(e){return e})}),od=Dl.define("ADD_COURSE",function(){return Qa.Actions.define("ADD_COURSE",function(e){return e.isNew=!0,e})}),sd=Dl.define("TOGGLE_ARCHIVE_COURSE",function(){return Qa.Actions.define("TOGGLE_ARCHIVE_COURSE",function(e){return e})}),ld=Dl.define("REMOVE_COURSE",function(){return Qa.Actions.define("REMOVE_COURSE",function(e){return e})});!function(e){e.ACCEPTED="accepted",e.DENIED="denied",e.RETAG_REQUIRED="retagRequired",e.UNDER_REVIEW="underReview",e.RETITLE_REQUIRED="retitleRequired",e.PROCESSING="processing"}(Zp||(Zp={})),function(e){e.GENERIC="generic",e.COPYRIGHT="copyright",e.PAGE_LENGTH="pageLength",e.SCAN_QUALITY="scanQuality",e.SPLIT_DOCS="splitDocs",e.DUPLICATE="duplicate"}(ed||(ed={}));Zp.ACCEPTED,Zp.ACCEPTED,Zp.DENIED,Zp.DENIED,Zp.DENIED,Zp.DENIED,Zp.RETAG_REQUIRED,Zp.RETITLE_REQUIRED;var cd,ud,hd,pd,dd,md,fd,gd,bd,vd,yd,Sd,Ed,_d,wd,Td,Cd,kd,Ad,Od,Nd,Dd,xd,Rd,Ud,Id,Fd,zd,Pd,Ld,jd,Md,Bd,Hd,qd,Gd,Qd,Wd,Vd,Xd,Kd,$d,Yd,Jd,Zd,em,tm,im={1:Zp.PROCESSING,18:Zp.ACCEPTED,19:Zp.ACCEPTED,2:Zp.DENIED,7:Zp.DENIED,8:Zp.DENIED,20:Zp.DENIED,23:Zp.DENIED},nm={201:ed.GENERIC,202:ed.COPYRIGHT,203:ed.PAGE_LENGTH,204:ed.SCAN_QUALITY,205:ed.SPLIT_DOCS,206:ed.DUPLICATE,207:Zp.DENIED,209:Zp.DENIED,210:Zp.DENIED},rm=(Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,Zp.PROCESSING,{accepted:{status:"Processed",className:"isSuccess"},denied:{status:"Denied",className:"isError"},generic:{status:"Denied: Generic",className:"isError"},copyright:{status:"Denied: Copyright",className:"isError"},pageLength:{status:"Denied: Page Length",className:"isError"},scanQuality:{status:"Denied: Scan Quality",className:"isError"},splitDocs:{status:"Denied: Split Docs",className:"isError"},duplicate:{status:"Denied: Duplicate",className:"isError"},retagRequired:{status:"Retag Required",className:"isWarning"},retitleRequired:{status:"Retitle Required",className:"isWarning"},underReview:{status:"Processing",className:"isWarning"}}),am=(cd=Qa.Schema.int(),ud=Qa.Schema.string(),hd=Qa.Schema.string(),pd=Qa.Schema.string(),dd=Qa.Schema.int(),md=Qa.Schema.int(),fd=Qa.Schema.string(),gd=Qa.Schema.string(),bd=Qa.Schema.string(),vd=Qa.Schema.string(),yd=Qa.Schema.bool(),Sd=Qa.Schema.bool(),Ed=Qa.Schema.int(),_d=Qa.Schema.string(),wd=Qa.Schema.object(),Td=Qa.Schema.datetime(),Cd=Qa.Schema.string(),kd=Qa.Schema.int(),Ad=Qa.Schema.string(),Od=Qa.Schema.array({schema:function(){return xo.schema},constructor:xo}),Nd=Qa.Schema.object({schema:function(){return jo.schema},constructor:jo}),Dd=Qa.Schema.object({schema:function(){return qo.schema},constructor:qo}),tm=em=function(e){function t(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,t),e=h()(this,d()(t).call(this,i)),Ya()(e,"id",Rd,f()(e)),Ya()(e,"type",Ud,f()(e)),Ya()(e,"title",Id,f()(e)),Ya()(e,"url",Fd,f()(e)),Ya()(e,"folderId",zd,f()(e)),Ya()(e,"bookmarkId",Pd,f()(e)),Ya()(e,"text",Ld,f()(e)),Ya()(e,"thumbnailUrl",jd,f()(e)),Ya()(e,"thumbnailText",Md,f()(e)),Ya()(e,"thumbnailFallbackUrl",Bd,f()(e)),Ya()(e,"isUserArchived",Hd,f()(e)),Ya()(e,"isNew",qd,f()(e)),Ya()(e,"numViews",Gd,f()(e)),Ya()(e,"status",Qd,f()(e)),Ya()(e,"taxonomy",Wd,f()(e)),Ya()(e,"date",Vd,f()(e)),Ya()(e,"subType",Xd,f()(e)),Ya()(e,"intelligent_uploader_document_id",Kd,f()(e)),Ya()(e,"pendingUserAction",$d,f()(e)),Ya()(e,"courseResourceData",Yd,f()(e)),Ya()(e,"textbook",Jd,f()(e)),Ya()(e,"textbook_exercise",Zd,f()(e)),Object.assign(f()(e),i),e}return b()(t,e),c()(t,[{key:"getUniqueId",value:function(){return this.type+"-"+this.id}}]),t}(eo),em.schema={},xd=tm,Rd=Za()(xd.prototype,"id",[cd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ud=Za()(xd.prototype,"type",[ud],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Id=Za()(xd.prototype,"title",[hd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fd=Za()(xd.prototype,"url",[pd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zd=Za()(xd.prototype,"folderId",[dd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pd=Za()(xd.prototype,"bookmarkId",[md],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ld=Za()(xd.prototype,"text",[fd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jd=Za()(xd.prototype,"thumbnailUrl",[gd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Md=Za()(xd.prototype,"thumbnailText",[bd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bd=Za()(xd.prototype,"thumbnailFallbackUrl",[vd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hd=Za()(xd.prototype,"isUserArchived",[yd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qd=Za()(xd.prototype,"isNew",[Sd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gd=Za()(xd.prototype,"numViews",[Ed],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qd=Za()(xd.prototype,"status",[_d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wd=Za()(xd.prototype,"taxonomy",[wd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vd=Za()(xd.prototype,"date",[Td],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xd=Za()(xd.prototype,"subType",[Cd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kd=Za()(xd.prototype,"intelligent_uploader_document_id",[kd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$d=Za()(xd.prototype,"pendingUserAction",[Ad],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yd=Za()(xd.prototype,"courseResourceData",[Od],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jd=Za()(xd.prototype,"textbook",[Nd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zd=Za()(xd.prototype,"textbook_exercise",[Dd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xd),om={BOOK:"book",COURSE:"course",DEPT:"dept",DOCUMENT:"document",DOCUMENT_TEXT:"document-text",DOCUMENT_IOS:"document_ios",ECOURSE:"ecourse",FLASHCARD:"flashcard",QUESTION:"question",SCHOOL:"school",SEARCH:"search",SPLIT:"split",SPLIT_ASSOCIATION:"split_assoc",STANDARDIZED_TEST:"standardized-test",LIT_STUDY_GUIDE:"study-guide",SUBJECT:"subject"},sm=function(){function e(){s()(this,e)}return c()(e,null,[{key:"determineDocumentStatus",value:function(e,t){if(!e)return null;var i=im[e];if(i==Zp.DENIED){if(t)return rm[nm[t]]?rm[nm[t]]:rm[Zp.DENIED]}else if(void 0===i)return rm[Zp.UNDER_REVIEW];return rm[i]}},{key:"determineDocumentStatusFromStatusString",value:function(e){for(var t in rm)if(rm[t].status===e)return rm[t];return null}}]),e}();function lm(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function cm(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?lm(i,!0).forEach(function(t){Xa()(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):lm(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var um=function(e){function t(){var e,i;return s()(this,t),(i=h()(this,d()(t).call(this))).state={courses:[]},Qa.Actions.register((e={},Xa()(e,od,i.onAddCourse.bind(f()(i))),Xa()(e,ad,i.onReceiveCourses.bind(f()(i))),Xa()(e,sd,i.onToggleArchiveCourse.bind(f()(i))),Xa()(e,ld,i.onRemoveCourse.bind(f()(i))),e),f()(i)),i}return b()(t,e),c()(t,[{key:"getCourses",value:function(){return this.state.courses}},{key:"sanitizeDocumentArray",value:function(e){var t=this;if(!e||!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var i=[];return e.forEach(function(e){var n;n=t.sanitizeDocument(e),i.push(new am(t.sanitize(n,am.schema)))}),{contentArr:i,numContents:i.length}}},{key:"sanitizeUnlockedContent",value:function(e){var t=this;if(!e||!e.unlocked_content||!e.num_unlocks)return{contentArr:[],numContents:0};var i=e.unlocked_content;if(!Array.isArray(i)||0===i.length)return{contentArr:[],numContents:0};var n=[];return i.forEach(function(e){var i={};switch(e.content_type){case kc.QUESTION:i=t.sanitizeUnlockedQuestion(e);break;case kc.DOCUMENT:i=t.sanitizeUnlockedDocument(e);break;default:return}n.push(new am(t.sanitize(i,am.schema)))}),{contentArr:n,numContents:parseInt(e.num_unlocks)}}},{key:"sanitizeUploadedContent",value:function(e){var t,i,n=this,r=[];if(!e||!e.uploads||!e.total)return{contentArr:[],numContents:0};var a=e.uploads;return Array.isArray(a)&&0!==a.length?(a.forEach(function(e){t=n.sanitizeDocument(e.doc_info),i=sm.determineDocumentStatus(e.upload_state,e.deny_reason),e.intelligent_uploader_document_id&&(t.url="/upload/intelligent/".concat(e.jobid)),t=cm({},t,{date:Oc(e.doc_date),status:i?i.status:"",isUserArchived:e.is_archived,id:e.jobid,type:kc.CONVERSION_QUEUE,title:e.title}),e.deny_reason&&nm[e.deny_reason]===ed.COPYRIGHT&&(t.thumbnailUrl="",t.thumbnailText="0"),r.push(n.sanitize(t,am.schema))}),{contentArr:r,numContents:parseInt(e.total)}):{contentArr:[],numContents:0}}},{key:"sanitizeSearchResponseResults",value:function(e){return e.map(function(e){var t=0,i="",n=null;switch(e.core.type){case nl.QUESTION:t=e.question.question_id,i=e.question.answered?Wc.ANSWERED:Wc.PENDING;break;case nl.DOCUMENT:t=e.document.db_filename;break;case nl.COURSE:t=e.taxonomy.course.course_id,n=Rc.DEFAULT_COURSE_THUMBNAIL;break;case nl.COURSE_STUDY_GUIDE:t=e.course_studyguide.cms_item_id;break;case nl.LIT_STUDY_GUIDE:t=e.lit_studyguide.book_section_id;break;case nl.STUDYGUIDE_VIDEO:t=e.studyguide_video.video_id;break;case nl.TEXTBOOK:t=e.textbook.textbook_id;break;case nl.TEXTBOOK_EXERCISE:t=e.textbook_exercise.exercise_id}return new am({id:t,type:e.core.type,subType:e.document?e.document.type:null,title:e.core.title,url:e.core.url,text:e.core.text,thumbnailUrl:e.thumbnail?e.thumbnail.url:null,thumbnailText:e.thumbnail?e.thumbnail.overlay_text:null,thumbnailFallbackUrl:n,numViews:e.core.views,status:i,taxonomy:e.taxonomy,date:e.core.date,courseResourceData:e.sub_resources,textbook:e.textbook,textbook_exercise:e.textbook_exercise})})}},{key:"sanitizeNewCourse",value:function(e){return new am({id:e.folder_type_id,folderId:e.library_folder_id,type:kc.COURSE,title:e.name,url:e.folder_url,text:e.subtitle,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}},{key:"sanitizeRecentlyViewedContent",value:function(e){var t=this;if(!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var i=[];return e.forEach(function(e){var n={};switch(e.contentType){case kc.QUESTION:n=t.sanitizeQuestion(e[kc.QUESTION]);break;case kc.DOCUMENT:n=t.sanitizeDocument(e[kc.DOCUMENT]);break;case kc.TEXTBOOK_EXERCISE:n=t.sanitizeTextbookExercise(e[kc.TEXTBOOK_EXERCISE]);break;case om.LIT_STUDY_GUIDE:var r=e[om.LIT_STUDY_GUIDE];n={id:e.contentId,type:kc.LIT_STUDYGUIDE,title:r.title,url:r.url,thumbnailUrl:r.thumbnailUrl};break;case kc.BEST_LESSONS:n=t.sanitizeBestLesson(e);break;default:return}n=cm({},n,{date:Oc(e.recentDate)}),i.push(new am(t.sanitize(n,am.schema)))}),{contentArr:i,numContents:e.length}}},{key:"sanitizeQuestionResults",value:function(e){if(!e||!e.questions||!e.total)return{contentArr:[],numContents:0};var t=e.questions;return Array.isArray(t)&&0!==t.length?{contentArr:t.map(function(e){return new am({id:e.question_id,type:kc.QUESTION,title:e.question,url:"/qa_redirect.php?question_id="+e.question_id,thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,status:e.derived_question_status,taxonomy:new zo({subject:new oo({subject_id:e.category.category_id,subject_name:e.category.subject})}),isUserArchived:e.is_user_archived,date:Oc(e.deadline),pendingUserAction:e.pending_user_action})}),numContents:parseInt(e.total)}:{contentArr:[],numContents:0}}},{key:"sanitizeBookmarkedContent",value:function(e){var t=this;if(!e||!e.documents||!Array.isArray(e.documents)||0===e.documents.length)return{contentArr:[],numContents:0};var i=[];return e.documents.forEach(function(e){var n=cm({},t.sanitizeDocument(e.document),{date:Oc(e.date),type:kc.BOOKMARK,bookmarkId:e.document.bookmark_id,isUserArchived:e.document.is_archived});i.push(t.sanitize(n,am.schema))}),{contentArr:i,numContents:e.documents.length}}},{key:"sanitizeUnlockedQuestion",value:function(e){var t=e[kc.QUESTION];return(t=this.sanitizeQuestion(t)).isUserArchived=e.is_archived,t.date=Oc(e.unlock_date),t}},{key:"sanitizeUnlockedDocument",value:function(e){var t=e[kc.DOCUMENT];return(t=this.sanitizeDocument(t)).isUserArchived=e.is_archived,t.date=Oc(e.unlock_date),t}},{key:"sanitizeQuestion",value:function(e){var t={type:kc.QUESTION,id:e.question_id,title:e.question,url:e.resource_url,status:e.derived_question_status,numViews:e.view_count,taxonomy:this.sanitizeContentTaxonomy(e,kc.QUESTION),thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,pendingUserAction:e.pending_user_action};return this.sanitize(t,am.schema)}},{key:"sanitizeDocument",value:function(e){var t={type:kc.DOCUMENT,subType:e.type,id:e.db_filename,title:e.title,url:e.resource_url,thumbnailUrl:e.thumbnail_url,thumbnailText:e.meta_data?e.meta_data.page_count:null,text:e.text,numViews:e.views,taxonomy:this.sanitizeContentTaxonomy(e,kc.DOCUMENT),isNew:e.is_new||!1};return this.sanitize(t,am.schema)}},{key:"sanitizeTextbook",value:function(e){var t={textbook_id:e.textbook_id,title:e.title,author:e.author,edition_name:e.edition_name,isbn:e.isbn,publisher:e.publisher,cover_url:e.cover_url};return this.sanitize(t,jo.schema)}},{key:"sanitizeTextbookChapter",value:function(e){var t={num:e?e.abbreviation:""};return this.sanitize(t,Mo.schema)}},{key:"sanitizeTextbookSection",value:function(e){var t={num:e?e.abbreviation:"",title:e?e.title:""};return this.sanitize(t,Bo.schema)}},{key:"sanitizeTextbookHeading",value:function(e){var t={title:e?e.title:""};return this.sanitize(t,Ho.schema)}},{key:"sanitizeTextbookExercise",value:function(e){var t=e,i=t.sections[0]||void 0,n=i?i.sections[0]:void 0,r=n?n.sections[0]:void 0,a=r&&r.exercises.length>0?r.exercises[0]:n&&n.exercise.length>0?n.exercises[0]:i&&i.exercises.length>0?i.exercises[0]:void 0;if(a){var o=this.sanitizeTextbook(t),s=this.sanitizeTextbookChapter(i),l=this.sanitizeTextbookSection(n),c=this.sanitizeTextbookHeading(r),u={exercise_id:a.exercise_id,exercise_num:a.identifier,page:a.page,url:a.url,textbook:o,chapter:s,section:l,heading:c};u=this.sanitize(u,qo.schema);var h={type:kc.TEXTBOOK_EXERCISE,id:u.exercise_id,title:"Ch ".concat(u.chapter.num,", Sec ").concat(u.section.num,", Ex ").concat(u.exercise_num," - ").concat(u.heading.title),url:u.url,thumbnailUrl:o.cover_url,textbook_exercise:u};return this.sanitize(h,am.schema)}}},{key:"sanitizeBestLesson",value:function(e){var t={type:kc.BEST_LESSONS,id:e.id,isNew:e.isNew,title:e.title,url:e.url,thumbnailUrl:e.imageUrl};return this.sanitize(t,am.schema)}},{key:"sanitizeContentTaxonomy",value:function(e,t){var i,n,r,a;switch(t){case kc.QUESTION:e.category&&(i={subject_id:e.category.category_id,subject_name:e.category.subject}),e.course&&(n={school_id:e.course.schoolId,school_name:e.course.schoolName,school_url:e.course.schoolUrl},r={dept_id:e.course.deptId,dept_acro:e.course.dept},a={course_id:e.course.courseId,course_name:e.course.courseName,course_url:e.course.courseUrl,course_num:e.course.courseNum});break;case kc.DOCUMENT:e.subject&&(i={subject_id:e.subject.subject_id,subject_name:e.subject.subject_name}),e.course&&(n={school_id:e.course.school_id,school_name:e.course.school_name,school_url:e.course.school_url},r={dept_id:e.course.dept_id,dept_acro:e.course.dept_acro},a={course_id:e.course.course_id,course_name:e.course.course_name,course_num:e.course.course_num,course_url:e.course.course_url})}return{subject:i,school:n,department:r,course:a}}},{key:"sanitizeCourseResults",value:function(e){return e&&e.rows&&Array.isArray(e.rows)?e.rows.map(function(e){return new am({id:e.folder_type_id,folderId:e.library_folder_id,type:e.folder_type,title:e.name,text:e.subtitle,url:e.folder_url,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}):[]}},{key:"onReceiveCourses",value:function(e){var t=this,i=this.nextState();return e.forEach(function(e){t.upsertItem(i.courses,e.getUniqueId(),e)}),i}},{key:"onAddCourse",value:function(e){var t=this.nextState();return this.upsertItem(t.courses,e.getUniqueId(),e),t}},{key:"onToggleArchiveCourse",value:function(e){var t=this.nextState(),i=this.getItem(t.courses,e.getUniqueId());if(!i)throw Error("Course not found in store");return i.isUserArchived=!i.isUserArchived,t}},{key:"onRemoveCourse",value:function(e){var t=this.nextState();return t.courses=t.courses.filter(function(t){return t.getUniqueId()!==e.getUniqueId()}),t}}]),t}(Qa.Store),hm=Dl.define("ContentStore",function(){return new um}),pm=function e(){s()(this,e)};pm.scrollToTop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;$("html, body").animate({scrollTop:0},e)};var dm=pm,mm=function(e){for(var t=[],i="resultsLoaderContainer"+(e.className?" "+e.className:""),n=e.numLoaders?e.numLoaders:5,a=0;a<n;a++)t.push(r.createElement("div",{className:i,key:a},r.createElement("div",{className:"resultsLoader"})));return r.createElement(r.Fragment,null,t)},fm="default";function gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fm;return window.CHAnalytics.v(e)}var bm,vm,ym,Sm;var Em,_m=gm(),wm=(bm=Cl(200),Sm=ym=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).currentRequest=void 0,i.state={isMobile:!1,results:[],searchResponse:rl.sanitizeSearchResponse({meta:{user_query:e.query,search_id:e.searchId,search_key:e.searchKey}}),loadingResults:!1,loadingAll:!0,error:!1,selectedFilters:rl.sanitize(e.selectedFilters,lo.schema),sortBy:Hs.RELEVANCY,numPages:0,currentPage:1,query:e.query,userDetails:Au.getUserDetails(),suggestion:e.suggestion,canScrollResults:!0,callouts:[]},i.doSearch=i.doSearch.bind(f()(i)),i.onSearchStoreUpdate=i.onSearchStoreUpdate.bind(f()(i)),i.onUserStoreUpdate=i.onUserStoreUpdate.bind(f()(i)),i.onFilterToggle=i.onFilterToggle.bind(f()(i)),i.onUpdateFilter=i.onUpdateFilter.bind(f()(i)),i.onUpdateSortBy=i.onUpdateSortBy.bind(f()(i)),i.onNext=i.onNext.bind(f()(i)),i.onPrev=i.onPrev.bind(f()(i)),i.onPage=i.onPage.bind(f()(i)),i.onQueryUpdate=i.onQueryUpdate.bind(f()(i)),i.onResetFilters=i.onResetFilters.bind(f()(i)),i.onBrowserHistory=i.onBrowserHistory.bind(f()(i)),i.onResize=i.onResize.bind(f()(i)),i.onScroll=i.onScroll.bind(f()(i)),i.onResultsScrollableChange=i.onResultsScrollableChange.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"allowFilteringByTextbook",value:function(){return this.props.isTextbooksEnabled}},{key:"allowGeolocationSearching",value:function(){return!0}},{key:"getAllSupportedTypes",value:function(){var e=[nl.DOCUMENT,nl.QUESTION,nl.COURSE,nl.COMBINED_STUDY_GUIDE,nl.STUDYGUIDE_VIDEO];return this.allowFilteringByTextbook()&&e.push(nl.TEXTBOOK),e}},{key:"doSearch",value:function(e,t,i){var n=this;this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null);var r={loadingResults:!0};this.state.error&&(r.loadingAll=!0,r.error=!1),this.setState(r);var a=e!==Yc.HEADER&&this.state.searchResponse&&this.state.searchResponse.meta?this.state.searchResponse.meta.search_id:null,o=rl.sanitize(this.state.selectedFilters,lo.schema);o.type&&0!==o.type.length||(o.type=this.getAllSupportedTypes());var s=[];this.allowFilteringByTextbook()&&s.push(td.TEXTBOOK);var l={previous_search_id:a,query:this.state.query,offset:20*(this.state.currentPage-1),limit:20,sort:this.state.sortBy,filters:o,view:this.state.isMobile?du.MOBILE:du.WEB,trigger:e,suggestion:this.state.suggestion,callout_types:s};this.allowGeolocationSearching()&&(l.location={auto:!0});var c=t?rl.sanitizeSearchRequest({search_id:t,search_key:i,callout_types:s}):rl.sanitizeSearchRequest(l);this.currentRequest=id.search(c,e).fail(function(e){if(0!==e.status){var t;try{t=JSON.parse(e.response)}catch(e){}t||(t=n.state.searchResponse),n.setState({error:!0,searchResponse:t})}}).always(function(){n.currentRequest=null,n.setState({loadingAll:!1,loadingResults:!1})})}},{key:"onBrowserHistory",value:function(e){var t=e.state;this.doSearch(Yc.RELOAD,t.search_id,t.search_key)}},{key:"onResetFilters",value:function(){var e=this;this.setState({selectedFilters:rl.sanitizeFilterData({type:this.getAllSupportedTypes()}),currentPage:1,sortBy:Hs.RELEVANCY},function(){Rl.resetAll(),e.dispatchSearchParamsChangedEvent(e.state.query,e.state.selectedFilters),e.doSearch(Yc.FILTER)})}},{key:"onQueryUpdate",value:function(e,t){var i=this,n=this.state.selectedFilters,r=t.school,a=t.suggestion;r&&r.id?n.course&&n.course.school_id==r.id||(n.course={school_id:r.id,school_name:r.mainText,course_id:null,course_num:null,course_name:null,dept_id:null,dept_acro:null},n=rl.sanitize(n,lo.schema)):n.course=null,this.setState({query:t.queryString,selectedFilters:n,suggestion:a,currentPage:1,results:[]},function(){return i.doSearch(Yc.HEADER)})}},{key:"onSearchStoreUpdate",value:function(e){var t=e.lastResponse,i=hm.sanitizeSearchResponseResults(t.results),n=this.state.isMobile&&0!==t.meta.offset?this.state.results.concat(i):i;this.state.isMobile&&20==t.results.length&&this.state.currentPage!=t.meta.total_results%20&&n.push(this.getAskAQuestionCalloutJSX.bind(this,"mimicRegularSnippet hideInTablet hideInDesktop")),e.trigger==Yc.RELOAD&&this.syncFilterStoreState(t.meta.filters);var r=[];null!==t&&(r=this.state.isMobile&&this.state.searchResponse.meta.parent_search_id===t.meta.parent_search_id?t.callout_results instanceof Array&&t.callout_results.length>0?t.callout_results:this.state.callouts:t.callout_results),this.setState({query:t.meta.user_query,results:n,searchResponse:t,callouts:r,selectedFilters:t.meta.filters,sortBy:t.meta.sort,numPages:Math.min(Math.ceil(t.meta.total_results/t.meta.limit),100),currentPage:Math.max(1,Math.ceil(t.meta.offset/t.meta.limit)+1)}),this.dispatchSearchParamsChangedEvent(t.meta.user_query,t.meta.filters),e.trigger!=Yc.RELOAD&&this.changeHistoryState(t.meta.search_id,t.meta.search_key,window.history.state&&window.history.state.search_id)}},{key:"onUserStoreUpdate",value:function(){this.setState({userDetails:Au.getUserDetails()})}},{key:"onFilterToggle",value:function(e){e.preventDefault(),$(window).trigger("_ch.search.filter.toggle_view")}},{key:"onUpdateFilter",value:function(e,t){var i=this,n=this.state.selectedFilters;n[t]=e,this.setState({selectedFilters:n,currentPage:1},function(){i.dispatchSearchParamsChangedEvent(i.state.query,n),i.doSearch(Yc.FILTER)})}},{key:"onUpdateSortBy",value:function(e){var t=this;this.setState({sortBy:e,currentPage:1},function(){return t.doSearch(Yc.SORT)})}},{key:"onPrev",value:function(){this.onPage(this.state.currentPage-1)}},{key:"onNext",value:function(){this.onPage(this.state.currentPage+1)}},{key:"onPage",value:function(e){var t=this;e>this.state.numPages||e<1||(this.setState({currentPage:e},function(){return t.doSearch(Yc.PAGINATION)}),this.state.isMobile||dm.scrollToTop())}},{key:"onResize",value:function(){this.setState({isMobile:window.innerWidth<=Ba.PHONE_MAX})}},{key:"onScroll",value:function(e){!this.currentRequest&&this.state.isMobile&&this.state.canScrollResults&&(window.scrollY+window.innerHeight>=document.body.offsetHeight-(document.getElementById("ch-footer").offsetHeight+800)&&this.onNext())}},{key:"onResultsScrollableChange",value:function(e){this.setState({canScrollResults:e})}},{key:"getAskAQuestionCalloutJSX",value:function(e){var t=this.state.userDetails,i=!t||!t.userId||t.tutorQuestions>0,n=i?"Ask our tutors a study question, on us.":"Ask our tutors a study question.",a=i?"* Expires 30 days after account creation":null,o=i?"Get Free Homework Help*":"Get Homework Help";return r.createElement(Zl,{tagline:n,finePrint:a,buttonText:o,wrapperClass:e,isEducator:this.props.isEducator})}},{key:"dispatchSearchParamsChangedEvent",value:function(e,i){$(window).trigger(t.EVENT_SEARCH_PARAMS_CHANGED,[{query:e,selectedFilters:i}])}},{key:"changeHistoryState",value:function(e,t,i){var n={search_id:e,search_key:t},r="/search/results/".concat(e,"/").concat(t,"/");i?window.history.pushState(n,"",r):window.history.replaceState(n,"",r)}},{key:"syncFilterStoreState",value:function(e){if(Rl.resetAll(),e){if(e.course&&e.course.school_id&&e.course.school_name){var t={id:e.course.school_id,mainText:e.course.school_name,type:Ll.SCHOOL};Rl.setActiveFilter(t)}if(e.course&&e.course.course_id&&e.course.dept_acro&&e.course.course_num){var i={id:e.course.course_id,mainText:e.course.dept_acro+" "+e.course.course_num,type:Ll.COURSE};Rl.setActiveFilter(i)}if(e.subject&&e.subject.subject_id&&e.subject.subject_name){var n={id:e.subject.subject_id,mainText:e.subject.subject_name,type:Ll.SUBJECT};Rl.setActiveFilter(n)}}}},{key:"componentDidMount",value:function(){Ll.getActiveFilterIds(),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),window.addEventListener("popstate",this.onBrowserHistory),$(window).on(Ga,this.onQueryUpdate),this.dispatchSearchParamsChangedEvent(this.state.query,this.state.selectedFilters),this.onResize(),rl.listen(this.onSearchStoreUpdate),Au.listen(Tu.events.UPDATE,this.onUserStoreUpdate),this.props.isLoggedIn&&rd.getUserDetails();var e=this.props.searchId,t=this.props.searchKey;e?(this.setState({loadingAll:!0}),this.doSearch(Yc.RELOAD,e,t),this.changeHistoryState(e,t,!1)):this.doSearch(this.props.searchTrigger)}},{key:"componentDidUpdate",value:function(e,t){var i=this;t.searchResponse.meta.search_id!==this.state.searchResponse.meta.search_id&&window.requestAnimationFrame(function(){_m.pageView({references:{search_id:i.state.searchResponse.meta.search_id}})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("popstate",this.onBrowserHistory),window.removeEventListener("resize",this.onResize),rl.ignore(this.onSearchStoreUpdate),Au.ignore(Tu.events.UPDATE,this.onUserStoreUpdate),$(window).off(Ga)}},{key:"render",value:function(){var e,i,n,a,o=this.state.searchResponse;if(o&&o.meta&&!this.state.loadingResults?(e=o.meta.user_query,i=o.meta.total_results):(e=this.state.query,i=0),this.state.error)return r.createElement("div",{className:"container"},r.createElement("div",{className:"grid"},r.createElement(ec,{message:t.ERROR_MESSAGE})));a=this.state.loadingAll?r.createElement("div",{className:"filterLoader"},r.createElement("div",{className:"container"})):r.createElement(dc,{selectedFilters:this.state.selectedFilters,availableFilters:o.options.filters,selectedSortBy:this.state.sortBy,availableSortBy:o.options.sort,updateFilter:this.onUpdateFilter,updateSortBy:this.onUpdateSortBy,resetFilters:this.onResetFilters,isMobile:this.state.isMobile,onCanScrollResultsChange:this.onResultsScrollableChange}),n=r.createElement("div",{className:"grid _noBottom resultCount"},r.createElement("div",{className:"column12"},r.createElement(fc,{isMobile:this.state.isMobile,query:e,numResults:i,loading:this.state.loadingResults,onFilterClick:this.onFilterToggle})));var s=this.state.loadingAll||this.state.loadingResults?r.createElement(mm,{numLoaders:this.state.results.length>0?this.state.results.length:20}):null,l=this.state.loadingAll||this.state.loadingResults&&!this.state.isMobile?null:r.createElement(Xc,{results:this.state.results,callouts:this.state.callouts,isMobile:this.state.isMobile,query:e,loadingResults:this.state.loadingResults,coursesToHideTaxonomyLink:this.props.coursesToHideTaxonomyLink}),c=this.state.isMobile?null:r.createElement(Kc,{numPages:this.state.numPages,currentPage:this.state.currentPage,onPrev:this.onPrev,onNext:this.onNext,onPage:this.onPage}),u=null;this.allowGeolocationSearching()&&o&&o.meta&&o.meta.location&&(u=r.createElement(mc,{location:o.meta.location}));return" testGrid testGrid2"," squareSnippets",r.createElement("div",{className:" testGrid testGrid2"},a,r.createElement("div",{className:"container"},n,r.createElement("div",{className:"grid squareSnippets"},"",r.createElement("div",{className:"resultsContainer"},l,s)),r.createElement("div",{className:"grid _spaceAround"},r.createElement("div",{className:"column10 isCenterAligned"},this.getAskAQuestionCalloutJSX())),r.createElement("div",{className:"column6 isCenterAligned"},c,u)))}}]),t}(v),ym.ERROR_MESSAGE="We're sorry for the inconvenience. Please update your search or try again later.",ym.EVENT_SEARCH_PARAMS_CHANGED="_ch_search_params_changed",vm=Sm,Za()(vm.prototype,"onScroll",[bm],Object.getOwnPropertyDescriptor(vm.prototype,"onScroll"),vm.prototype),vm);!function(e){e.NEW_HOME="new_home_sw",e.OLD_HEADER="old_header_sw",e.NEW_HEADER="new_header_sw"}(Em||(Em={}));var Tm=Em,Cm=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).containerRef=r.createRef(),i.inputRef=r.createRef(),i.state={queryString:"",initialQueryString:"",schoolQueryString:"",isLoading:!1,selectedSuggestion:null,selectedSchool:null,isExpanded:!!i.props.isExpanded&&i.props.isExpanded,areSuggestionsVisible:!1,containerClassName:"",searchBarClassName:"",autocompleteSuggestions:[],recentSearchSuggestions:[],suggestionHeader:null},i.onSuggestionStoreUpdate=i.onSuggestionStoreUpdate.bind(f()(i)),i.handleSearchBarChange=i.handleSearchBarChange.bind(f()(i)),i.handleSearchBarFocus=i.handleSearchBarFocus.bind(f()(i)),i.clickListener=i.clickListener.bind(f()(i)),i.onBlur=i.onBlur.bind(f()(i)),i.handleFocusChange=i.handleFocusChange.bind(f()(i)),i.collapseWidget=i.collapseWidget.bind(f()(i)),i.handleWindowResize=i.handleWindowResize.bind(f()(i)),i.handleButtonSubmit=i.handleButtonSubmit.bind(f()(i)),i.search=i.search.bind(f()(i)),i.handleKeyDown=i.handleKeyDown.bind(f()(i)),i.autocompleteWithSelectedSuggestion=i.autocompleteWithSelectedSuggestion.bind(f()(i)),i.clearQueryString=i.clearQueryString.bind(f()(i)),i.handleSchoolSearchBarChange=i.handleSchoolSearchBarChange.bind(f()(i)),i.handleSchoolSelect=i.handleSchoolSelect.bind(f()(i)),i.handleSuggestionSelect=i.handleSuggestionSelect.bind(f()(i)),i.onSearchResultsPageSearchParamsChanged=i.onSearchResultsPageSearchParamsChanged.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;ol.listen(this.onSuggestionStoreUpdate),document.addEventListener("mousedown",this.clickListener,!0),document.addEventListener("touchstart",this.clickListener,!0),window.addEventListener("resize",this.handleWindowResize,!0),$(window).on(t.EVENT_FOCUS,function(){return e.handleSearchBarFocus(void 0,!0)}),$(window).on(wm.EVENT_SEARCH_PARAMS_CHANGED,this.onSearchResultsPageSearchParamsChanged);var i=localStorage.getItem("".concat("ch-recentSearches-").concat(this.props.userId||"loggedOut")),n=i?ol.sanitizeJSONSuggestions(i):[];n.length>0&&Wa(n)}},{key:"componentDidUpdate",value:function(e,t){!1===this.props.isExpanded&&!1!==e.isExpanded&&this.collapseWidget(),this.inputRef.current&&(!t.isExpanded&&this.state.isExpanded?this.inputRef.current.focus():t.isExpanded&&!this.state.isExpanded&&this.inputRef.current.blur())}},{key:"componentWillUnmount",value:function(){ol.ignore(this.onSuggestionStoreUpdate),document.removeEventListener("mousedown",this.clickListener,!0),document.removeEventListener("touchstart",this.clickListener,!0),window.removeEventListener("resize",this.handleWindowResize,!0),$(window).off(t.EVENT_FOCUS),$(window).off(wm.EVENT_SEARCH_PARAMS_CHANGED)}},{key:"onSuggestionStoreUpdate",value:function(e){this.setState({recentSearchSuggestions:e.defaultSuggestions})}},{key:"handleSearchBarChange",value:function(e){var t=this,i=e.target.value,n=this.state.queryString,r={queryString:i,initialQueryString:i,selectedSuggestion:null};this.setState(r);var a=i.trim();a&&a!==n.trim()&&kl.fetchAutocompleteSuggestions(a,function(e){t.setState({autocompleteSuggestions:ol.sanitizeAutocompleteSuggestions(e)})},function(){})}},{key:"handleSchoolSearchBarChange",value:function(e){this.setState({schoolQueryString:e})}},{key:"handleSearchBarFocus",value:function(e,i){if($(window).width()<=Ba.PHONE_MAX&&this.props.className==Tm.NEW_HOME)i||$(window).trigger(t.EVENT_FOCUS);else{var n={areSuggestionsVisible:!0};this.state.isExpanded?this.setState(n):(n.isExpanded=!0,n.containerClassName="shouldExpand",n.searchBarClassName="shouldShrink",this.setState(n),this.track("Expanded"),this.props.onExpand&&this.props.onExpand())}}},{key:"clickListener",value:function(e){this.handleFocusChange(e.target)}},{key:"onBlur",value:function(e){this.handleFocusChange(e.relatedTarget)}},{key:"handleFocusChange",value:function(e){this.state.isExpanded&&e&&(this.containerRef.current&&this.containerRef.current.contains(e)?0==$(e).closest(".sw_search_bar").length&&0==$(e).closest(".sw_suggestions_container").length&&this.setState({areSuggestionsVisible:!1}):this.collapseWidget())}},{key:"collapseWidget",value:function(){this.setState({isExpanded:!1,containerClassName:"",searchBarClassName:"",areSuggestionsVisible:!1,selectedSuggestion:null}),this.props.onCollapse&&this.props.onCollapse()}},{key:"handleWindowResize",value:function(e){$(window).width()<=Ba.PHONE_MAX&&this.props.className==Tm.NEW_HOME&&this.collapseWidget(),this.props.onWindowResize&&this.props.onWindowResize(this.state.isExpanded)}},{key:"handleButtonSubmit",value:function(e){this.search()}},{key:"search",value:function(e,t){var i=t||this.state.selectedSuggestion,n=e||this.state.selectedSchool,r=0===window.location.pathname.indexOf("/search/results/");if(this.state.queryString.trim()||i){var a={areSuggestionsVisible:!1,queryString:this.state.queryString,schoolQueryString:this.state.schoolQueryString};i&&(a.queryString=i.text),n&&(a.schoolQueryString=n.mainText||""),r||(a.isLoading=!0),this.setState(a);var o=this.state.queryString;if(i&&(o=i.text),this.saveRecentSearch(o),/\/payment\/success/.test(window.location.pathname)&&this.track("Payment Success Search Performed",{Query:this.state.queryString}),r){var s=null;this.state.initialQueryString.trim()&&i&&(s={initial_query:this.state.initialQueryString,search_suggestion_id:i.id,suggestion_source:i.source,suggestion_position:i.position,referrer:window.location.pathname},s=rl.sanitizeSuggestionData(s)),$(window).trigger(Ga,[{queryString:a.queryString,school:n,suggestion:s}]),this.collapseWidget()}else window.location.href=this.getSearchUrl(o,n,i)}}},{key:"saveRecentSearch",value:function(e){var t=e.trim(),i=[t].concat(qa()(this.state.recentSearchSuggestions.filter(function(e){return e.text!==t}).map(function(e){return e.text}).slice(0,5))),n=JSON.stringify(i),r="".concat("ch-recentSearches-").concat(this.props.userId||"loggedOut");localStorage.setItem(r,n),Wa(i.map(function(e,t){return ol.sanitizeSuggestion({id:t,text:e})}))}},{key:"getSearchUrl",value:function(e,t,i){var n="all",r=document.location.pathname;-1===r.indexOf("/homework-help/")&&-1===r.indexOf("/tutor-problems/")||(n="question"),-1!==r.indexOf("/file/")&&(n="document");var a=this.props.className==Tm.NEW_HOME?Yc.HOMEPAGE:Yc.HEADER,o="/search/results/?stx="+encodeURIComponent(e)+"&filters_product="+n+"&searchTrigger="+a;return this.state.initialQueryString.trim()&&i&&(o+="&source="+i.source+"&initial_query="+encodeURIComponent(this.state.initialQueryString)+"&search_suggestion_id="+i.id+"&position="+i.position+"&referrer="+window.location.pathname+"&is_autocomplete=1"),t&&t.id>0&&t.mainText&&(o+="&school_id=".concat(t.id,"&school_name=").concat(encodeURIComponent(t.mainText))),o}},{key:"handleKeyDown",value:function(e){switch(e.keyCode||e.which){case Hl.TAB:if(this.state.selectedSuggestion&&this.state.selectedSuggestion.text!=this.state.queryString){e.preventDefault(),this.autocompleteWithSelectedSuggestion();break}this.setState({areSuggestionsVisible:!1});break;case Hl.RIGHT_ARROW:this.autocompleteWithSelectedSuggestion();break;case Hl.ENTER:this.search();break;case Hl.ESC:this.state.queryString?this.clearQueryString():this.collapseWidget();break;case Hl.DOWN_ARROW:this.selectNextSuggestion();break;case Hl.UP_ARROW:e.preventDefault(),this.selectPrevSuggestion()}}},{key:"autocompleteWithSelectedSuggestion",value:function(){this.state.selectedSuggestion&&this.setState({queryString:this.state.selectedSuggestion.text})}},{key:"clearQueryString",value:function(){this.setState({queryString:"",initialQueryString:"",selectedSuggestion:null})}},{key:"handleSchoolSelect",value:function(e){var t=e&&e.id>0?e:null;this.setState({selectedSchool:t}),e&&this.search(e)}},{key:"handleSuggestionSelect",value:function(e){this.setState({selectedSuggestion:e}),this.search(void 0,e)}},{key:"onSearchResultsPageSearchParamsChanged",value:function(e,t){var i=t.selectedFilters,n=null;i&&i.course&&i.course.school_id&&i.course.school_name&&(n={id:i.course.school_id,mainText:i.course.school_name,type:Ll.SCHOOL}),this.setState({queryString:t.query,selectedSchool:n})}},{key:"getSuggestions",value:function(){return 0==this.state.queryString.length?this.state.recentSearchSuggestions.length>0?this.state.recentSearchSuggestions:t.STARTING_SUGGESTIONS:this.state.autocompleteSuggestions}},{key:"getSuggestionsHeader",value:function(){var e=this.getSuggestions();return e==this.state.autocompleteSuggestions?null:e==this.state.recentSearchSuggestions?r.createElement("h6",null,"RECENT SEARCHES"):e==t.STARTING_SUGGESTIONS?r.createElement("h6",null,"EXAMPLE SEARCHES"):null}},{key:"getSuggestionsFooter",value:function(){var e=this;if(this.props.showAskQuestionOption)return r.createElement("div",{className:"sw_suggestions_footer","data-cha-target-name":"ask_question_from_search_option","data-cha-action-target-type":"search_suggestions","data-cha-action-type":"click",onClick:function(){e.track("Ask Question Option Click",{query:e.state.queryString});var t="sw=1";e.state.queryString&&(t+="&stx=".concat(encodeURIComponent(e.state.queryString))),window.location.href="/tutors/homework-help/?".concat(t)}},r.createElement("div",{className:"suggestion"},r.createElement("i",{className:"chi-message-add"}),"Ask our tutors a study question"))}},{key:"selectNextSuggestion",value:function(){var e,t,i=this.getSuggestions(),n=this.state.selectedSuggestion,r=i.map(function(e){return e.id});t=n?(e=r.indexOf(n.id))==i.length-1?n:i[e+1]:i[0],this.setState({selectedSuggestion:t})}},{key:"selectPrevSuggestion",value:function(){var e,t=this.state.selectedSuggestion,i=this.getSuggestions(),n=i.map(function(e){return e.id});e=t&&0!=i.length&&t.id!=i[0].id?i[n.indexOf(t.id)-1]:null,this.setState({selectedSuggestion:e})}},{key:"track",value:function(e,t){pl("[Search Widget] ".concat(e),t)}},{key:"render",value:function(){var e,t,i,n=this,a=r.createElement("i",{className:"chi-university sw_icon sw_university_icon"});if(this.state.isExpanded){var o=this.state.isLoading?"chi-loading":"chi-search-filled";i=r.createElement(Nl,{className:"mobile_sw_cancel_search_button",label:"Cancel",onClick:this.collapseWidget}),e=r.createElement("span",{className:"sw_school_dropdown"},r.createElement(Vl,{defaultSchoolFilter:this.state.selectedSchool,updateWithFullFilter:!0,placeholder:"All Schools",activePlaceholder:"Enter school name",useAutoCompleteIcon:!1,handleUpdate:this.handleSchoolSelect,handleChange:this.handleSchoolSearchBarChange,showDefaultInDropdown:!0,dropdownLimit:5,iconLeft:a,onEscapeSearch:this.collapseWidget,shouldFindNearbySchools:!0})),t=r.createElement(Nl,{className:"sw_search_button",label:"",icon:o,onClick:this.handleButtonSubmit,onBlur:this.onBlur})}var s="sw_search_widget_container ".concat(this.props.className," ").concat(this.state.containerClassName);return r.createElement("div",{ref:this.containerRef,className:s},i,r.createElement("div",{className:"sw_search_bar_wrapper"},r.createElement(Nl,{className:"mobile_sw_start_search_button",label:"",icon:"chi-search",onClick:function(){n.inputRef.current&&n.inputRef.current.focus()}}),r.createElement(Jl,{queryString:this.state.queryString,isLoading:this.state.isLoading,onTextChange:this.handleSearchBarChange,searchBarClassName:this.state.searchBarClassName,inputClassName:this.state.areSuggestionsVisible?"hasDropdown":"",onFocus:this.handleSearchBarFocus,onBlur:this.onBlur,onKeyDown:this.handleKeyDown,placeholderText:this.props.searchBarPlaceholder,userId:this.props.userId,onSuggestionSelect:this.handleSuggestionSelect,isExpanded:this.state.isExpanded,areSuggestionsVisible:this.state.areSuggestionsVisible,selectedSuggestion:this.state.selectedSuggestion,suggestions:this.getSuggestions(),suggestionHeader:this.getSuggestionsHeader(),suggestionFooter:this.getSuggestionsFooter(),inputRef:this.inputRef}),e,t))}}]),t}(v);Cm.STARTING_SUGGESTIONS=[{id:0,text:"BIO 101 Class Notes",position:0,source:"default"},{id:1,text:"Microeconomics Practice Questions",position:1,source:"default"},{id:2,text:"Organizational Behavior Case Study",position:2,source:"default"}],Cm.EVENT_FOCUS="search_widget:focus";var km=Cm,Am=function(e){function t(e){var i;return s()(this,t),(i=h()(this,d()(t).call(this,e))).state={isExpanded:!1,searchBarPlaceholder:i.determinePlaceholder(!1)},i.handleSearchWidgetExpand=i.handleSearchWidgetExpand.bind(f()(i)),i.handleSearchWidgetCollapse=i.handleSearchWidgetCollapse.bind(f()(i)),i.handleWindowResize=i.handleWindowResize.bind(f()(i)),i.handleWindowScroll=i.handleWindowScroll.bind(f()(i)),i}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleWindowScroll,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleWindowScroll,!0)}},{key:"handleSearchWidgetExpand",value:function(){$("#ch-header").addClass("isSearchActive"),$("body").prepend('<div class="sw_overlay"></div>').addClass("disableScroll"),this.handleWindowResize(!0)}},{key:"handleSearchWidgetCollapse",value:function(){$("#ch-header").removeClass("isSearchActive"),$("body").removeClass("disableScroll"),$(".sw_overlay").remove(),this.handleWindowResize(!1)}},{key:"handleWindowScroll",value:function(e){$(window).scrollTop()>=30?$("#ch-header").addClass("searchExpand"):$("#ch-header").removeClass("searchExpand")}},{key:"determinePlaceholder",value:function(e){return this.props.type==Tm.NEW_HEADER&&$(".hp_search_wrapper").width()<=t.MIN_WIDTH_SEARCH_BAR&&!e?this.props.shortPlaceholder:this.props.longPlaceholder}},{key:"handleWindowResize",value:function(e){if(this.setState({searchBarPlaceholder:this.determinePlaceholder(e)}),this.props.type==Tm.NEW_HEADER){if($(window).width()>Ba.PHONE_MAX&&e)return void $("#ch-header .hp_search_container").css("width",$("#ch-header").outerWidth()-$("#ch_headerLogo_action").outerWidth());$("#ch-header .hp_search_container").css("width","")}}},{key:"render",value:function(){return r.createElement(km,{className:this.props.type,userId:this.props.userId,onExpand:this.handleSearchWidgetExpand,onCollapse:this.handleSearchWidgetCollapse,onWindowResize:this.handleWindowResize,isExpanded:this.state.isExpanded,searchBarPlaceholder:this.state.searchBarPlaceholder,showAskQuestionOption:this.props.showAskQuestionOption})}}]),t}(v);Am.MIN_WIDTH_SEARCH_BAR=245;var Om,Nm=Am,Dm=$("[data-search-widget]").toArray(),xm=Array.isArray(Dm),Rm=0;for(Dm=xm?Dm:Dm[Symbol.iterator]();;){var Um;if(xm){if(Rm>=Dm.length)break;Um=Dm[Rm++]}else{if((Rm=Dm.next()).done)break;Um=Rm.value}var Im=Um,Fm=Im.dataset.type,zm=!!!parseInt(Im.dataset.isEducator),Pm=void 0,Lm=void 0,jm=void 0,Mm=void 0;switch(Om=Im.dataset.userId,Fm){case Tm.OLD_HEADER:case Tm.NEW_HEADER:jm="Search",Mm="Find study resources",Pm=r.createElement(Nm,{userId:Om,type:Fm,shortPlaceholder:jm,longPlaceholder:Mm,showAskQuestionOption:zm});break;case Tm.NEW_HOME:Lm="Find study guides, class notes and more.",Pm=r.createElement(km,{userId:Om,className:Fm,searchBarPlaceholder:Lm,showAskQuestionOption:zm})}a.render(Pm,Im)}}]);!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=window.BeefFlux},function(e,t){e.exports=function(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}},function(e,t){e.exports=function(e,t,n,i,r){var o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}},function(e,t){e.exports=window.React},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var i=n(16),r=n(0);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var i=n(17);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and set to use loose mode. To use proposal-class-properties in spec mode with decorators, wait for the next major version of decorators in stage 2.")}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=window.moment},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(18))},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=i=function(e){return n(e)}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i(t)}e.exports=i},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var i=n(4),r=n(14),o=n(5),a=n.n(o),s=n(9),c=n.n(s),u=n(6),l=n.n(u),d=n(7),h=n.n(d),p=n(0),m=n.n(p),b=n(8),f=n.n(b),g=function(e){function t(){return a()(this,t),l()(this,h()(t).apply(this,arguments))}return f()(t,e),c()(t,[{key:"getClassName",value:function(e){var t="";for(var n in e)t+=e[n]?" "+n:"";return t}}]),t}(i.Component),v=n(12),y=n.n(v),E=function(e){var t,n,r=e.disabledClass?e.disabledClass:"disabled",o=e.className,a=e.href,s=e.icon,c=e.id,u=e.label,l=e.onClick,d=e.tooltipText,h=e.tooltipClass,p=e.isHodorTooltip,m=e.disabled,b=e.iconPosition,f=e.onBlur;o+=m?" ".concat(r):"",s&&(t=i.createElement("i",{className:s,"aria-hidden":"true"})),d&&(n=p?i.createElement("span",{className:h||"","data-tooltip":d}):i.createElement("span",{className:h||""},d));return i.createElement("a",y()({id:c,href:a||"javascript:void(0)",className:o,onClick:function(e){l&&!m&&l(e)},onBlur:f},e.chAnalyticsData),b&&"left"!==b?null:t,u,b&&"right"===b?t:null,n)};var _=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e},S=n(15),C="object"==typeof self&&self&&self.Object===Object&&self,O=(S.a||C||Function("return this")()).Symbol;var w=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r},T=Array.isArray,D=Object.prototype,U=D.hasOwnProperty,A=D.toString,k=O?O.toStringTag:void 0;var N=function(e){var t=U.call(e,k),n=e[k];try{e[k]=void 0;var i=!0}catch(e){}var r=A.call(e);return i&&(t?e[k]=n:delete e[k]),r},I=Object.prototype.toString;var x=function(e){return I.call(e)},R="[object Null]",z="[object Undefined]",j=O?O.toStringTag:void 0;var L=function(e){return null==e?void 0===e?z:R:j&&j in Object(e)?N(e):x(e)};var P=function(e){return null!=e&&"object"==typeof e},H="[object Symbol]";var B=function(e){return"symbol"==typeof e||P(e)&&L(e)==H},G=1/0,M=O?O.prototype:void 0,Q=M?M.toString:void 0;var q=function e(t){if("string"==typeof t)return t;if(T(t))return w(t,e)+"";if(B(t))return Q?Q.call(t):"";var n=t+"";return"0"==n&&1/t==-G?"-0":n};var Y=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},V=NaN,F=/^\s+|\s+$/g,K=/^[-+]0x[0-9a-f]+$/i,X=/^0b[01]+$/i,W=/^0o[0-7]+$/i,Z=parseInt;var J=function(e){if("number"==typeof e)return e;if(B(e))return V;if(Y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(F,"");var n=X.test(e);return n||W.test(e)?Z(e.slice(2),n?2:8):K.test(e)?V:+e},ee=1/0,te=17976931348623157e292;var ne=function(e){return e?(e=J(e))===ee||e===-ee?(e<0?-1:1)*te:e==e?e:0:0===e?e:0};var ie=function(e){var t=ne(e),n=t%1;return t==t?n?t-n:t:0};var re=function(e){return null==e?"":q(e)};var oe=function(e,t,n){return e=re(e),n=null==n?0:_(ie(n),0,e.length),t=q(t),e.slice(n,n+t.length)==t},ae=n(11),se=n.n(ae);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var le,de=window.dataLayer,he=window.tracker;!function(e){e.PRIMARY="Primary",e.SECONDARY="Secondary",e.INTERSTITIAL="Interstitial",e.BANNER="Banner",e.LINK="Link"}(le||(le={}));var pe,me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;void 0!==de&&(void 0!==he&&he.super_properties instanceof Object&&(t=ue({},he.super_properties,{},t)),n&&(t.page_type=he.get_page_type()),de.push({event:"User Tracking Event",user_tracking_properties:{eventName:e,properties:t},_clear:!0}));var i,r,o=window.amplitude;o?o.getInstance().logEvent(e,t):null===(i=window.__CH_TRACKER)||void 0===i||null===(r=i.BUFFER)||void 0===r||r.push({eventName:e,properties:t})};!function(e){e.TAB="tab",e.BTN="buttonName"}(pe||(pe={}));var be,fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={};r[e]=t,0!==n&&(r[e]="courseUrl",r.courseId=n);var o=new RegExp("/home/"),a=o.test(window.location.href)?"on dashboard":"on other page";r.dashboard=a,r.referringUrl=window.location.href;var s=i?"[Educator] ":"";me("".concat(s,"Left Navigation Click"),r)},ge=function(e){function t(e){var n;return a()(this,t),(n=l()(this,h()(t).call(this,e))).state={showOptions:!1},n.toggleShowOptions=n.toggleShowOptions.bind(m()(n)),n.handleSelect=n.handleSelect.bind(m()(n)),n.handleDropdownBlur=n.handleDropdownBlur.bind(m()(n)),n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleDropdownBlur)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleDropdownBlur)}},{key:"handleDropdownBlur",value:function(e){e&&$(e.target).closest($(".".concat(this.props.containerClassName))).length>0||!this.state.showOptions||this.setState({showOptions:!1})}},{key:"toggleShowOptions",value:function(){this.setState({showOptions:!this.state.showOptions})}},{key:"handleSelect",value:function(e){this.toggleShowOptions(),this.props.handleSelect(e)}},{key:"render",value:function(){var e=this,t=this.props.optionMenuClassName?"".concat(this.props.optionMenuClassName," ").concat("buttonDropdownMenu"):"buttonDropdownMenu";t="".concat(t," ").concat(this.state.showOptions?"isShown":"");var n=this.props.containerClassName?"".concat(this.props.containerClassName," ").concat("buttonDropdown"):"buttonDropdown",r=this.props.options.map(function(t,n){return i.createElement("a",y()({key:n,className:e.props.optionClassName,href:"javascript:void(0)",onClick:e.handleSelect.bind(null,t)},t.chAnalyticsData),t.displayText)}),o=null,a=this.props.btnText?i.createElement("span",null,this.props.btnText):null,s=null;if(this.props.iconClass){var c="".concat(this.props.iconClass," ").concat(this.state.showOptions?"isShown":"");s=i.createElement("i",{className:c})}return(this.props.iconClass||this.props.btnText)&&(o=i.createElement("a",y()({href:"javascript:void(0)",onClick:this.toggleShowOptions,className:this.props.btnClassName},this.props.menuOpenChAnalyticsData),a,s)),i.createElement("div",{className:n},o,i.createElement("div",{className:t},r))}}]),t}(g),ve=function(e){function t(e){return a()(this,t),l()(this,h()(t).call(this,e))}return f()(t,e),c()(t,[{key:"createDropDown",value:function(){return i.createElement(ge,y()({},this.props,{containerClassName:"actionDropdown",iconClass:"chi-ellipse-vertical actionDropdownIcon"}))}},{key:"render",value:function(){return this.createDropDown()}}]),t}(g);!function(e){e.Archive="Archive",e.Unarchive="Unarchive",e.Remove="Remove"}(be||(be={}));var ye=function(e){function t(e){var n;return a()(this,t),(n=l()(this,h()(t).call(this,e))).state={isCourseListExpanded:!1},n.toggleCourseListExpand=n.toggleCourseListExpand.bind(m()(n)),n.changeHash=n.changeHash.bind(m()(n)),n.onHashChange=n.onHashChange.bind(m()(n)),n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){window.addEventListener("hashchange",this.onHashChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.onHashChange)}},{key:"onHashChange",value:function(){this.forceUpdate()}},{key:"toggleCourseListExpand",value:function(){this.setState({isCourseListExpanded:!this.state.isCourseListExpanded})}},{key:"changeHash",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;fe(pe.TAB,e,t,this.props.isEducator),window.location.pathname===this.props.homepageUrlPath?window.location.hash=e:window.location.href="".concat(this.props.homepageUrlPath,"#").concat(e)}},{key:"isTabActive",value:function(e){return oe(window.location.hash,e,1)}},{key:"isUrlActive",value:function(e){return window.location.href.indexOf(e)>=0}},{key:"render",value:function(){var e=this,n=Array.isArray(this.props.courses)?this.props.courses.filter(function(t){return!t.isUserArchived&&!e.props.coursesToHideTaxonomyLink.includes(t.id)}):[],r=n.length,o=null,a=null,s=null,c=null,u=this.props.isEducator;if(r||u){this.state.isCourseListExpanded||(n=n.slice(0,5));var l=n.map(function(t,n){var r=u?"/library/".concat(t.folderId,"/my-uploads/"):t.url,o=u&&e.isUrlActive("/library/".concat(t.folderId,"/"))?"active":"",a={"data-cha-target-name":"remove_course_btn","data-cha-action-type":"remove","data-cha-action-target-type":"course","data-cha-action-target-id":t.id,"data-cha-location":"left_sidebar"},s=[{displayText:be.Remove,optionValue:be.Remove,chAnalyticsData:a}];return i.createElement("li",{key:n,className:"".concat("clickable"," ").concat(o),onClick:function(){u?e.changeHash(r,t.id):(fe(pe.TAB,t.url,t.id),window.location.href=t.url)},"data-cha-target-name":"course_link","data-cha-location":e.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":r},i.createElement("div",{className:"".concat("shouldTruncateText")},t.title),e.props.isEducator&&e.props.onCourseActionClick&&i.createElement("div",{className:"eduCourseDropdown",onClick:function(e){e.stopPropagation()}},i.createElement(ve,{options:s,handleSelect:function(n){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={name:e,action:t};0!==n&&(r.courseId=n);var o=i?"[Educator] ":"";me("".concat(o,"Dashboard - Course Click"),r)}("Course List Hamburger Dots",n.optionValue.toLowerCase(),t.id,e.props.isEducator),e.props.onCourseActionClick(t,n.optionValue)}})))});if(a=i.createElement("ul",{className:"courseList"},l,u&&i.createElement("li",{className:"uncategorized ".concat("clickable"," ").concat(this.isUrlActive(t.UNCATEGORIZED_HASH)?"active":""),onClick:function(){e.changeHash(t.UNCATEGORIZED_HASH)},"data-cha-target-name":"uncategorized_link","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":t.UNCATEGORIZED_HASH},i.createElement("div",{className:"".concat("shouldTruncateText")},"Uncategorized"),this.props.isEducator&&this.props.uncategorizedContentCount>0&&i.createElement("div",{className:"importantTotal"},this.props.uncategorizedContentCount))),r>n.length||this.state.isCourseListExpanded){var d=this.state.isCourseListExpanded?"Show less":"Show all";s=i.createElement("li",null,i.createElement(E,{className:"courseListToggle",label:d,onClick:function(){fe(pe.BTN,d,0,e.props.isEducator),e.toggleCourseListExpand()},chAnalyticsData:{"data-cha-target-name":"show_more_courses_button","data-cha-action-type":this.state.isCourseListExpanded?"collapse":"expand","data-cha-action-target-type":"course_list","data-cha-location":this.props.chaLocation}}))}}this.props.onClickAddCourseBtn&&(c=i.createElement(E,{className:"navIconRight",icon:"chi-add-circle",tooltipText:"Add a Course",tooltipClass:"isTooltip tooltip-top normalTooltip",isHodorTooltip:!0,onClick:function(t){fe(pe.BTN,"Add Course Icon",0,e.props.isEducator),e.props.onClickAddCourseBtn(t)},chAnalyticsData:{"data-cha-target-name":"add_course_btn","data-cha-location":"left_sidebar","data-cha-action-type":"attempt_to_add","data-cha-action-target-type":"new_course"}})),(n&&n.length>0||c)&&(o=i.createElement("li",{className:"".concat("main")},i.createElement("i",{className:"navIcon chi-course-title"}),"My Courses",c,u&&this.props.firstCourse&&i.createElement("span",{className:"addCourseTooltip"},i.createElement("div",{className:"toolTipText"},"Your course has been added! You can keep adding courses by using the “+” button."),i.createElement("a",{className:"closeToolTip",onClick:this.props.unsetFirstCourse},"Got it!"))));var h=null;return this.props.showUploadTooltip&&(h=i.createElement("div",{className:"navIconRight"},i.createElement("i",{className:"chi-infomation-circle isUpload"}),i.createElement("span",{className:"isTooltip tooltip-top normalTooltip textAlignLeft","data-tooltip":"Unlock free access to study documents or tutoring by sharing your own study resources with the Course Hero community."}))),i.createElement("div",{className:"ndbNavMenu"},i.createElement("ul",null,i.createElement("li",{className:"".concat("main"," ").concat("clickable").concat(this.isTabActive(t.HOME_HASH)?" active":""),onClick:function(){return e.changeHash(t.HOME_HASH)},"data-cha-target-name":"home_btn","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":"/home/#/home/"},i.createElement("i",{className:"navIcon chi-home"}),this.props.homepageLabel),o),a,i.createElement("ul",null,s,!u&&i.createElement("li",{className:"".concat("main"," ").concat("clickable").concat(this.isTabActive(t.LIBRARY_HASH)?" active":""),onClick:function(){return e.changeHash("/library/my-unlocks/")},"data-cha-target-name":"library_btn","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":"/home/#/library/my-unlocks/"},i.createElement("i",{className:"navIcon chi-books"}),"My Library"),this.props.showUpload&&i.createElement("li",{className:"".concat("main"," ").concat("clickable"," isLink").concat(this.isUrlActive(t.UPLOAD_URL)?" active":""),onClick:function(){fe(pe.BTN,"Upload"),window.location.href=t.UPLOAD_URL},"data-cha-target-name":"upload_btn","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":"/upload/"},i.createElement("i",{className:"navIcon chi-upload"}),"Upload",h)))}}]),t}(g);ye.HOME_HASH="/home/",ye.LIBRARY_HASH="/library/",ye.UNCATEGORIZED_HASH="/library/uncategorized",ye.UPLOAD_URL="/upload/",ye.HOME_LABEL_HOME="Home",ye.HOME_LABEL_STUDENT_DASHBOARD="Student Dashboard",ye.HOME_LABEL_EDUCATOR_DASHBOARD="Educator Dashboard";var Ee=ye,_e=window,Se=(_e.Action,_e.Actions,_e.ApiService),Ce=_e.Beef;_e.Dispatcher,_e.RoutingService,_e.Store;function Oe(){return Ce.start(),Ce.service(Se.SERVICE_ID)}var we,Te,De=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getMyCourses",value:function(){return Oe().get("/api/v1/users/me/library/folders/",{})}},{key:"archiveCourse",value:function(e){return Oe().post("/api/v1/users/{userId}/library/{folderId}/archive/",{userId:"me",folderId:e.id})}},{key:"unArchiveCourse",value:function(e){return Oe().delete("/api/v1/users/{userId}/library/{folderId}/archive/",{userId:"me",folderId:e.id})}}]),e}(),Ue=n(1),Ae=n(13),ke=function(){function e(){a()(this,e)}return c()(e,null,[{key:"define",value:function(e,t){var n="__CHG_"+e;return void 0!==window[n]?window[n]:window[n]=t()}}]),e}(),Ne=ke.define("RECEIVE_COURSES",function(){return Ue.Actions.define("RECEIVE_COURSES",function(e){return e})}),Ie=ke.define("ADD_COURSE",function(){return Ue.Actions.define("ADD_COURSE",function(e){return e.isNew=!0,e})}),xe=ke.define("TOGGLE_ARCHIVE_COURSE",function(){return Ue.Actions.define("TOGGLE_ARCHIVE_COURSE",function(e){return e})}),Re=ke.define("REMOVE_COURSE",function(){return Ue.Actions.define("REMOVE_COURSE",function(e){return e})});!function(e){e.ACCEPTED="accepted",e.DENIED="denied",e.RETAG_REQUIRED="retagRequired",e.UNDER_REVIEW="underReview",e.RETITLE_REQUIRED="retitleRequired",e.PROCESSING="processing"}(we||(we={})),function(e){e.GENERIC="generic",e.COPYRIGHT="copyright",e.PAGE_LENGTH="pageLength",e.SCAN_QUALITY="scanQuality",e.SPLIT_DOCS="splitDocs",e.DUPLICATE="duplicate"}(Te||(Te={}));we.ACCEPTED,we.ACCEPTED,we.DENIED,we.DENIED,we.DENIED,we.DENIED,we.RETAG_REQUIRED,we.RETITLE_REQUIRED;var ze,je,Le,Pe,He,Be,Ge,Me,Qe,qe,Ye,Ve,Fe,Ke,Xe,We,$e,Ze,Je,et,tt,nt,it,rt,ot,at,st,ct,ut,lt,dt,ht,pt,mt,bt,ft,gt,vt,yt,Et,_t,St,Ct,Ot,wt,Tt,Dt,Ut,At,kt,Nt,It,xt,Rt,zt,jt,Lt,Pt,Ht,Bt,Gt,Mt,Qt,qt,Yt,Vt,Ft,Kt,Xt,Wt,$t,Zt,Jt,en,tn,nn,rn,on,an,sn,cn,un,ln,dn,hn,pn,mn,bn,fn,gn,vn,yn,En,_n,Sn,Cn,On,wn,Tn,Dn,Un,An,kn,Nn,In,xn,Rn,zn,jn,Ln,Pn,Hn,Bn={1:we.PROCESSING,18:we.ACCEPTED,19:we.ACCEPTED,2:we.DENIED,7:we.DENIED,8:we.DENIED,20:we.DENIED,23:we.DENIED},Gn={201:Te.GENERIC,202:Te.COPYRIGHT,203:Te.PAGE_LENGTH,204:Te.SCAN_QUALITY,205:Te.SPLIT_DOCS,206:Te.DUPLICATE,207:we.DENIED,209:we.DENIED,210:we.DENIED},Mn=(we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,we.PROCESSING,{accepted:{status:"Processed",className:"isSuccess"},denied:{status:"Denied",className:"isError"},generic:{status:"Denied: Generic",className:"isError"},copyright:{status:"Denied: Copyright",className:"isError"},pageLength:{status:"Denied: Page Length",className:"isError"},scanQuality:{status:"Denied: Scan Quality",className:"isError"},splitDocs:{status:"Denied: Split Docs",className:"isError"},duplicate:{status:"Denied: Duplicate",className:"isError"},retagRequired:{status:"Retag Required",className:"isWarning"},retitleRequired:{status:"Retitle Required",className:"isWarning"},underReview:{status:"Processing",className:"isWarning"}}),Qn=n(2),qn=n.n(Qn),Yn=n(3),Vn=n.n(Yn),Fn=(n(10),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,e),Object.assign(this,t)}),Kn=(ze=Ue.Schema.string(),He=Pe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"num",Le,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Pe.schema={},je=He,Le=Vn()(je.prototype,"num",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je),Xn=(Be=Ue.Schema.string(),Ge=Ue.Schema.string(),Me=Ue.Schema.int(),Ke=Fe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"title",qe,m()(e)),qn()(e,"url",Ye,m()(e)),qn()(e,"count",Ve,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Fe.schema={},Qe=Ke,qe=Vn()(Qe.prototype,"title",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=Vn()(Qe.prototype,"url",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=Vn()(Qe.prototype,"count",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qe),Wn=(Xe=Ue.Schema.int(),We=Ue.Schema.string(),$e=Ue.Schema.string(),Ze=Ue.Schema.string(),Je=Ue.Schema.string(),et=Ue.Schema.string(),tt=Ue.Schema.string(),nt=Ue.Schema.int(),pt=ht=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"textbook_id",rt,m()(e)),qn()(e,"title",ot,m()(e)),qn()(e,"author",at,m()(e)),qn()(e,"cover_url",st,m()(e)),qn()(e,"edition_name",ct,m()(e)),qn()(e,"isbn",ut,m()(e)),qn()(e,"publisher",lt,m()(e)),qn()(e,"num_solutions",dt,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),ht.schema={},it=pt,rt=Vn()(it.prototype,"textbook_id",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=Vn()(it.prototype,"title",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=Vn()(it.prototype,"author",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=Vn()(it.prototype,"cover_url",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ct=Vn()(it.prototype,"edition_name",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=Vn()(it.prototype,"isbn",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=Vn()(it.prototype,"publisher",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dt=Vn()(it.prototype,"num_solutions",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it),$n=(mt=Ue.Schema.string(),bt=Ue.Schema.string(),Et=yt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"title",gt,m()(e)),qn()(e,"num",vt,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),yt.schema={},ft=Et,gt=Vn()(ft.prototype,"title",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=Vn()(ft.prototype,"num",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft),Zn=(_t=Ue.Schema.string(),wt=Ot=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"title",Ct,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Ot.schema={},St=wt,Ct=Vn()(St.prototype,"title",[_t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St),Jn=(Tt=Ue.Schema.object({initial:function(){return{}},schema:function(){return Wn.schema},constructor:Wn}),Dt=Ue.Schema.int(),Ut=Ue.Schema.string(),At=Ue.Schema.object({initial:function(){return{}},schema:function(){return Kn.schema},constructor:Kn}),kt=Ue.Schema.object({initial:function(){return{}},schema:function(){return $n.schema},constructor:$n}),Nt=Ue.Schema.object({initial:function(){return{}},schema:function(){return Zn.schema},constructor:Zn}),It=Ue.Schema.string(),xt=Ue.Schema.string(),qt=Qt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"textbook",zt,m()(e)),qn()(e,"exercise_id",jt,m()(e)),qn()(e,"url",Lt,m()(e)),qn()(e,"chapter",Pt,m()(e)),qn()(e,"section",Ht,m()(e)),qn()(e,"heading",Bt,m()(e)),qn()(e,"exercise_num",Gt,m()(e)),qn()(e,"page",Mt,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Qt.schema={},Rt=qt,zt=Vn()(Rt.prototype,"textbook",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=Vn()(Rt.prototype,"exercise_id",[Dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=Vn()(Rt.prototype,"url",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pt=Vn()(Rt.prototype,"chapter",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=Vn()(Rt.prototype,"section",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=Vn()(Rt.prototype,"heading",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gt=Vn()(Rt.prototype,"exercise_num",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=Vn()(Rt.prototype,"page",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt),ei=(Yt=Ue.Schema.int(),Vt=Ue.Schema.string(),Ft=Ue.Schema.string(),Kt=Ue.Schema.string(),Xt=Ue.Schema.int(),Wt=Ue.Schema.int(),$t=Ue.Schema.string(),Zt=Ue.Schema.string(),Jt=Ue.Schema.string(),en=Ue.Schema.string(),tn=Ue.Schema.bool(),nn=Ue.Schema.bool(),rn=Ue.Schema.int(),on=Ue.Schema.string(),an=Ue.Schema.object(),sn=Ue.Schema.datetime(),cn=Ue.Schema.string(),un=Ue.Schema.int(),ln=Ue.Schema.string(),dn=Ue.Schema.array({schema:function(){return Xn.schema},constructor:Xn}),hn=Ue.Schema.object({schema:function(){return Wn.schema},constructor:Wn}),pn=Ue.Schema.object({schema:function(){return Jn.schema},constructor:Jn}),Pn=Ln=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"id",bn,m()(e)),qn()(e,"type",fn,m()(e)),qn()(e,"title",gn,m()(e)),qn()(e,"url",vn,m()(e)),qn()(e,"folderId",yn,m()(e)),qn()(e,"bookmarkId",En,m()(e)),qn()(e,"text",_n,m()(e)),qn()(e,"thumbnailUrl",Sn,m()(e)),qn()(e,"thumbnailText",Cn,m()(e)),qn()(e,"thumbnailFallbackUrl",On,m()(e)),qn()(e,"isUserArchived",wn,m()(e)),qn()(e,"isNew",Tn,m()(e)),qn()(e,"numViews",Dn,m()(e)),qn()(e,"status",Un,m()(e)),qn()(e,"taxonomy",An,m()(e)),qn()(e,"date",kn,m()(e)),qn()(e,"subType",Nn,m()(e)),qn()(e,"intelligent_uploader_document_id",In,m()(e)),qn()(e,"pendingUserAction",xn,m()(e)),qn()(e,"courseResourceData",Rn,m()(e)),qn()(e,"textbook",zn,m()(e)),qn()(e,"textbook_exercise",jn,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),c()(t,[{key:"getUniqueId",value:function(){return this.type+"-"+this.id}}]),t}(Fn),Ln.schema={},mn=Pn,bn=Vn()(mn.prototype,"id",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fn=Vn()(mn.prototype,"type",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gn=Vn()(mn.prototype,"title",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn=Vn()(mn.prototype,"url",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=Vn()(mn.prototype,"folderId",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=Vn()(mn.prototype,"bookmarkId",[Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_n=Vn()(mn.prototype,"text",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=Vn()(mn.prototype,"thumbnailUrl",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cn=Vn()(mn.prototype,"thumbnailText",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On=Vn()(mn.prototype,"thumbnailFallbackUrl",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn=Vn()(mn.prototype,"isUserArchived",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=Vn()(mn.prototype,"isNew",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dn=Vn()(mn.prototype,"numViews",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Un=Vn()(mn.prototype,"status",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),An=Vn()(mn.prototype,"taxonomy",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kn=Vn()(mn.prototype,"date",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nn=Vn()(mn.prototype,"subType",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=Vn()(mn.prototype,"intelligent_uploader_document_id",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=Vn()(mn.prototype,"pendingUserAction",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rn=Vn()(mn.prototype,"courseResourceData",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=Vn()(mn.prototype,"textbook",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jn=Vn()(mn.prototype,"textbook_exercise",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn);!function(e){e.CONVERSION_QUEUE="conversionQueue",e.JOB="job",e.DOCUMENT="document",e.QUESTION="question",e.QA_THREAD="qa_thread",e.FLASHCARD="flashcard",e.FLASHCARDS="flashcards",e.BOOK="book",e.SOCIAL_SHARE="social_share",e.STUDY_GUIDE="study_guide",e.INFOGRAPHIC="infographic",e.EDU_INFOGRAPHIC="edu-infographic",e.BEST_LESSONS="best_lesson",e.PROFILE="profile",e.TUTOR="expert",e.ECOURSE_TYPE="e-course",e.ANSWER="answers",e.COURSE="course",e.COURSE_STUDYGUIDE="course_studyguide",e.LIT_STUDYGUIDE="lit_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.BOOKMARK="bookmark",e.ALL="all",e.TEXTBOOK_EXERCISE="textbook_exercise",e.TEXTBOOK="textbook"}(Hn||(Hn={}));var ti,ni=Hn,ii={BOOK:"book",COURSE:"course",DEPT:"dept",DOCUMENT:"document",DOCUMENT_TEXT:"document-text",DOCUMENT_IOS:"document_ios",ECOURSE:"ecourse",FLASHCARD:"flashcard",QUESTION:"question",SCHOOL:"school",SEARCH:"search",SPLIT:"split",SPLIT_ASSOCIATION:"split_assoc",STANDARDIZED_TEST:"standardized-test",LIT_STUDY_GUIDE:"study-guide",SUBJECT:"subject"},ri=function(){function e(){a()(this,e)}return c()(e,null,[{key:"determineDocumentStatus",value:function(e,t){if(!e)return null;var n=Bn[e];if(n==we.DENIED){if(t)return Mn[Gn[t]]?Mn[Gn[t]]:Mn[we.DENIED]}else if(void 0===n)return Mn[we.UNDER_REVIEW];return Mn[n]}},{key:"determineDocumentStatusFromStatusString",value:function(e){for(var t in Mn)if(Mn[t].status===e)return Mn[t];return null}}]),e}(),oi={DEFAULT_CONTENT_THUMBNAIL:"/assets/img/default_content_thumbnail.svg",DEFAULT_COURSE_THUMBNAIL:"/assets/img/courses/icons-standardized/Generic_Blue.svg"};!function(e){e.ANSWERED="Solved",e.PENDING="Solution Pending"}(ti||(ti={}));var ai,si=ti;!function(e){e.DOCUMENT="document",e.QUESTION="question",e.COURSE="course",e.COURSE_STUDY_GUIDE="course_studyguide",e.LIT_STUDY_GUIDE="lit_studyguide",e.COMBINED_STUDY_GUIDE="combined_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.VIDEO="video",e.EDUCATOR_CONTENT="educator_content",e.TEXTBOOK="textbook",e.TEXTBOOK_EXERCISE="textbook_exercise"}(ai||(ai={}));var ci,ui,li,di,hi,pi,mi,bi,fi,gi,vi,yi,Ei,_i,Si,Ci,Oi,wi,Ti,Di,Ui,Ai,ki,Ni,Ii,xi,Ri,zi,ji,Li,Pi,Hi,Bi,Gi,Mi,Qi,qi,Yi,Vi,Fi,Ki,Xi,Wi,$i,Zi,Ji,er,tr=ai,nr=(ci=Ue.Schema.int(),ui=Ue.Schema.string(),mi=pi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"subject_id",di,m()(e)),qn()(e,"subject_name",hi,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),pi.schema={},li=mi,di=Vn()(li.prototype,"subject_id",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi=Vn()(li.prototype,"subject_name",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li),ir=(bi=Ue.Schema.int(),fi=Ue.Schema.string(),gi=Ue.Schema.string(),vi=Ue.Schema.string(),wi=Oi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"course_id",Ei,m()(e)),qn()(e,"course_num",_i,m()(e)),qn()(e,"course_url",Si,m()(e)),qn()(e,"course_name",Ci,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Oi.schema={},yi=wi,Ei=Vn()(yi.prototype,"course_id",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_i=Vn()(yi.prototype,"course_num",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Si=Vn()(yi.prototype,"course_url",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ci=Vn()(yi.prototype,"course_name",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yi),rr=(Ti=Ue.Schema.int(),Di=Ue.Schema.string(),Ui=Ue.Schema.string(),Ri=xi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"dept_id",ki,m()(e)),qn()(e,"dept_acro",Ni,m()(e)),qn()(e,"dept_url",Ii,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),xi.schema={},Ai=Ri,ki=Vn()(Ai.prototype,"dept_id",[Ti],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ni=Vn()(Ai.prototype,"dept_acro",[Di],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ii=Vn()(Ai.prototype,"dept_url",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ai),or=(zi=Ue.Schema.int(),ji=Ue.Schema.string(),Li=Ue.Schema.string(),Qi=Mi=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"school_id",Hi,m()(e)),qn()(e,"school_name",Bi,m()(e)),qn()(e,"school_url",Gi,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Mi.schema={},Pi=Qi,Hi=Vn()(Pi.prototype,"school_id",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bi=Vn()(Pi.prototype,"school_name",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gi=Vn()(Pi.prototype,"school_url",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi),ar=(qi=Ue.Schema.object({schema:function(){return ir.schema},constructor:ir}),Yi=Ue.Schema.object({schema:function(){return rr.schema},constructor:rr}),Vi=Ue.Schema.object({schema:function(){return or.schema},constructor:or}),Fi=Ue.Schema.object({schema:function(){return nr.schema},constructor:nr}),er=Ji=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,t),e=l()(this,h()(t).call(this,n)),qn()(e,"course",Xi,m()(e)),qn()(e,"department",Wi,m()(e)),qn()(e,"school",$i,m()(e)),qn()(e,"subject",Zi,m()(e)),Object.assign(m()(e),n),e}return f()(t,e),t}(Fn),Ji.schema={},Ki=er,Xi=Vn()(Ki.prototype,"course",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wi=Vn()(Ki.prototype,"department",[Yi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$i=Vn()(Ki.prototype,"school",[Vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zi=Vn()(Ki.prototype,"subject",[Fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ki);function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(n,!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ur=function(e){function t(){var e,n;return a()(this,t),(n=l()(this,h()(t).call(this))).state={courses:[]},Ue.Actions.register((e={},se()(e,Ie,n.onAddCourse.bind(m()(n))),se()(e,Ne,n.onReceiveCourses.bind(m()(n))),se()(e,xe,n.onToggleArchiveCourse.bind(m()(n))),se()(e,Re,n.onRemoveCourse.bind(m()(n))),e),m()(n)),n}return f()(t,e),c()(t,[{key:"getCourses",value:function(){return this.state.courses}},{key:"sanitizeDocumentArray",value:function(e){var t=this;if(!e||!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var n=[];return e.forEach(function(e){var i;i=t.sanitizeDocument(e),n.push(new ei(t.sanitize(i,ei.schema)))}),{contentArr:n,numContents:n.length}}},{key:"sanitizeUnlockedContent",value:function(e){var t=this;if(!e||!e.unlocked_content||!e.num_unlocks)return{contentArr:[],numContents:0};var n=e.unlocked_content;if(!Array.isArray(n)||0===n.length)return{contentArr:[],numContents:0};var i=[];return n.forEach(function(e){var n={};switch(e.content_type){case ni.QUESTION:n=t.sanitizeUnlockedQuestion(e);break;case ni.DOCUMENT:n=t.sanitizeUnlockedDocument(e);break;default:return}i.push(new ei(t.sanitize(n,ei.schema)))}),{contentArr:i,numContents:parseInt(e.num_unlocks)}}},{key:"sanitizeUploadedContent",value:function(e){var t,n,i=this,r=[];if(!e||!e.uploads||!e.total)return{contentArr:[],numContents:0};var o=e.uploads;return Array.isArray(o)&&0!==o.length?(o.forEach(function(e){t=i.sanitizeDocument(e.doc_info),n=ri.determineDocumentStatus(e.upload_state,e.deny_reason),e.intelligent_uploader_document_id&&(t.url="/upload/intelligent/".concat(e.jobid)),t=cr({},t,{date:Ae(e.doc_date),status:n?n.status:"",isUserArchived:e.is_archived,id:e.jobid,type:ni.CONVERSION_QUEUE,title:e.title}),e.deny_reason&&Gn[e.deny_reason]===Te.COPYRIGHT&&(t.thumbnailUrl="",t.thumbnailText="0"),r.push(i.sanitize(t,ei.schema))}),{contentArr:r,numContents:parseInt(e.total)}):{contentArr:[],numContents:0}}},{key:"sanitizeSearchResponseResults",value:function(e){return e.map(function(e){var t=0,n="",i=null;switch(e.core.type){case tr.QUESTION:t=e.question.question_id,n=e.question.answered?si.ANSWERED:si.PENDING;break;case tr.DOCUMENT:t=e.document.db_filename;break;case tr.COURSE:t=e.taxonomy.course.course_id,i=oi.DEFAULT_COURSE_THUMBNAIL;break;case tr.COURSE_STUDY_GUIDE:t=e.course_studyguide.cms_item_id;break;case tr.LIT_STUDY_GUIDE:t=e.lit_studyguide.book_section_id;break;case tr.STUDYGUIDE_VIDEO:t=e.studyguide_video.video_id;break;case tr.TEXTBOOK:t=e.textbook.textbook_id;break;case tr.TEXTBOOK_EXERCISE:t=e.textbook_exercise.exercise_id}return new ei({id:t,type:e.core.type,subType:e.document?e.document.type:null,title:e.core.title,url:e.core.url,text:e.core.text,thumbnailUrl:e.thumbnail?e.thumbnail.url:null,thumbnailText:e.thumbnail?e.thumbnail.overlay_text:null,thumbnailFallbackUrl:i,numViews:e.core.views,status:n,taxonomy:e.taxonomy,date:e.core.date,courseResourceData:e.sub_resources,textbook:e.textbook,textbook_exercise:e.textbook_exercise})})}},{key:"sanitizeNewCourse",value:function(e){return new ei({id:e.folder_type_id,folderId:e.library_folder_id,type:ni.COURSE,title:e.name,url:e.folder_url,text:e.subtitle,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}},{key:"sanitizeRecentlyViewedContent",value:function(e){var t=this;if(!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var n=[];return e.forEach(function(e){var i={};switch(e.contentType){case ni.QUESTION:i=t.sanitizeQuestion(e[ni.QUESTION]);break;case ni.DOCUMENT:i=t.sanitizeDocument(e[ni.DOCUMENT]);break;case ni.TEXTBOOK_EXERCISE:i=t.sanitizeTextbookExercise(e[ni.TEXTBOOK_EXERCISE]);break;case ii.LIT_STUDY_GUIDE:var r=e[ii.LIT_STUDY_GUIDE];i={id:e.contentId,type:ni.LIT_STUDYGUIDE,title:r.title,url:r.url,thumbnailUrl:r.thumbnailUrl};break;case ni.BEST_LESSONS:i=t.sanitizeBestLesson(e);break;default:return}i=cr({},i,{date:Ae(e.recentDate)}),n.push(new ei(t.sanitize(i,ei.schema)))}),{contentArr:n,numContents:e.length}}},{key:"sanitizeQuestionResults",value:function(e){if(!e||!e.questions||!e.total)return{contentArr:[],numContents:0};var t=e.questions;return Array.isArray(t)&&0!==t.length?{contentArr:t.map(function(e){return new ei({id:e.question_id,type:ni.QUESTION,title:e.question,url:"/qa_redirect.php?question_id="+e.question_id,thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,status:e.derived_question_status,taxonomy:new ar({subject:new nr({subject_id:e.category.category_id,subject_name:e.category.subject})}),isUserArchived:e.is_user_archived,date:Ae(e.deadline),pendingUserAction:e.pending_user_action})}),numContents:parseInt(e.total)}:{contentArr:[],numContents:0}}},{key:"sanitizeBookmarkedContent",value:function(e){var t=this;if(!e||!e.documents||!Array.isArray(e.documents)||0===e.documents.length)return{contentArr:[],numContents:0};var n=[];return e.documents.forEach(function(e){var i=cr({},t.sanitizeDocument(e.document),{date:Ae(e.date),type:ni.BOOKMARK,bookmarkId:e.document.bookmark_id,isUserArchived:e.document.is_archived});n.push(t.sanitize(i,ei.schema))}),{contentArr:n,numContents:e.documents.length}}},{key:"sanitizeUnlockedQuestion",value:function(e){var t=e[ni.QUESTION];return(t=this.sanitizeQuestion(t)).isUserArchived=e.is_archived,t.date=Ae(e.unlock_date),t}},{key:"sanitizeUnlockedDocument",value:function(e){var t=e[ni.DOCUMENT];return(t=this.sanitizeDocument(t)).isUserArchived=e.is_archived,t.date=Ae(e.unlock_date),t}},{key:"sanitizeQuestion",value:function(e){var t={type:ni.QUESTION,id:e.question_id,title:e.question,url:e.resource_url,status:e.derived_question_status,numViews:e.view_count,taxonomy:this.sanitizeContentTaxonomy(e,ni.QUESTION),thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,pendingUserAction:e.pending_user_action};return this.sanitize(t,ei.schema)}},{key:"sanitizeDocument",value:function(e){var t={type:ni.DOCUMENT,subType:e.type,id:e.db_filename,title:e.title,url:e.resource_url,thumbnailUrl:e.thumbnail_url,thumbnailText:e.meta_data?e.meta_data.page_count:null,text:e.text,numViews:e.views,taxonomy:this.sanitizeContentTaxonomy(e,ni.DOCUMENT),isNew:e.is_new||!1};return this.sanitize(t,ei.schema)}},{key:"sanitizeTextbook",value:function(e){var t={textbook_id:e.textbook_id,title:e.title,author:e.author,edition_name:e.edition_name,isbn:e.isbn,publisher:e.publisher,cover_url:e.cover_url};return this.sanitize(t,Wn.schema)}},{key:"sanitizeTextbookChapter",value:function(e){var t={num:e?e.abbreviation:""};return this.sanitize(t,Kn.schema)}},{key:"sanitizeTextbookSection",value:function(e){var t={num:e?e.abbreviation:"",title:e?e.title:""};return this.sanitize(t,$n.schema)}},{key:"sanitizeTextbookHeading",value:function(e){var t={title:e?e.title:""};return this.sanitize(t,Zn.schema)}},{key:"sanitizeTextbookExercise",value:function(e){var t=e,n=t.sections[0]||void 0,i=n?n.sections[0]:void 0,r=i?i.sections[0]:void 0,o=r&&r.exercises.length>0?r.exercises[0]:i&&i.exercise.length>0?i.exercises[0]:n&&n.exercises.length>0?n.exercises[0]:void 0;if(o){var a=this.sanitizeTextbook(t),s=this.sanitizeTextbookChapter(n),c=this.sanitizeTextbookSection(i),u=this.sanitizeTextbookHeading(r),l={exercise_id:o.exercise_id,exercise_num:o.identifier,page:o.page,url:o.url,textbook:a,chapter:s,section:c,heading:u};l=this.sanitize(l,Jn.schema);var d={type:ni.TEXTBOOK_EXERCISE,id:l.exercise_id,title:"Ch ".concat(l.chapter.num,", Sec ").concat(l.section.num,", Ex ").concat(l.exercise_num," - ").concat(l.heading.title),url:l.url,thumbnailUrl:a.cover_url,textbook_exercise:l};return this.sanitize(d,ei.schema)}}},{key:"sanitizeBestLesson",value:function(e){var t={type:ni.BEST_LESSONS,id:e.id,isNew:e.isNew,title:e.title,url:e.url,thumbnailUrl:e.imageUrl};return this.sanitize(t,ei.schema)}},{key:"sanitizeContentTaxonomy",value:function(e,t){var n,i,r,o;switch(t){case ni.QUESTION:e.category&&(n={subject_id:e.category.category_id,subject_name:e.category.subject}),e.course&&(i={school_id:e.course.schoolId,school_name:e.course.schoolName,school_url:e.course.schoolUrl},r={dept_id:e.course.deptId,dept_acro:e.course.dept},o={course_id:e.course.courseId,course_name:e.course.courseName,course_url:e.course.courseUrl,course_num:e.course.courseNum});break;case ni.DOCUMENT:e.subject&&(n={subject_id:e.subject.subject_id,subject_name:e.subject.subject_name}),e.course&&(i={school_id:e.course.school_id,school_name:e.course.school_name,school_url:e.course.school_url},r={dept_id:e.course.dept_id,dept_acro:e.course.dept_acro},o={course_id:e.course.course_id,course_name:e.course.course_name,course_num:e.course.course_num,course_url:e.course.course_url})}return{subject:n,school:i,department:r,course:o}}},{key:"sanitizeCourseResults",value:function(e){return e&&e.rows&&Array.isArray(e.rows)?e.rows.map(function(e){return new ei({id:e.folder_type_id,folderId:e.library_folder_id,type:e.folder_type,title:e.name,text:e.subtitle,url:e.folder_url,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}):[]}},{key:"onReceiveCourses",value:function(e){var t=this,n=this.nextState();return e.forEach(function(e){t.upsertItem(n.courses,e.getUniqueId(),e)}),n}},{key:"onAddCourse",value:function(e){var t=this.nextState();return this.upsertItem(t.courses,e.getUniqueId(),e),t}},{key:"onToggleArchiveCourse",value:function(e){var t=this.nextState(),n=this.getItem(t.courses,e.getUniqueId());if(!n)throw Error("Course not found in store");return n.isUserArchived=!n.isUserArchived,t}},{key:"onRemoveCourse",value:function(e){var t=this.nextState();return t.courses=t.courses.filter(function(t){return t.getUniqueId()!==e.getUniqueId()}),t}}]),t}(Ue.Store),lr=ke.define("ContentStore",function(){return new ur}),dr=function(e){function t(e){var n;a()(this,t),n=l()(this,h()(t).call(this,e));var i=lr.getCourses();return n.state={courses:i?n.sortCourses(i):[],uncategorizedContentCount:0},n.onContentStoreUpdate=n.onContentStoreUpdate.bind(m()(n)),n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;lr.listen(this.onContentStoreUpdate),this.state.courses&&0===this.state.courses.length&&De.getMyCourses().then(function(t){t&&(Ne(lr.sanitizeCourseResults(t)),e.setState({uncategorizedContentCount:t.metadata.content_count}))})}},{key:"componentWillUnmount",value:function(){lr.ignore(this.onContentStoreUpdate)}},{key:"onContentStoreUpdate",value:function(e){this.setState({courses:this.sortCourses(e.courses)})}},{key:"sortCourses",value:function(e){return e.sort(function(e,t){return e.date>t.date?-1:1})}},{key:"render",value:function(){var e=this.state,t=e.courses,n=e.uncategorizedContentCount,r=this.props.isEducator,o=Ee.HOME_LABEL_HOME;return this.props.canUserAccessQADashboard&&(o=r?Ee.HOME_LABEL_EDUCATOR_DASHBOARD:Ee.HOME_LABEL_STUDENT_DASHBOARD),i.createElement(Ee,{homepageLabel:o,homepageUrlPath:"/home/",courses:t,chaLocation:"header_left",showUploadTooltip:!1,showUpload:!0,isEducator:r,uncategorizedContentCount:n,coursesToHideTaxonomyLink:this.props.coursesToHideTaxonomyLink})}}]),t}(g);[].slice.call(document.getElementsByClassName("ch_dashboardNavbar")).forEach(function(e){var t=!!e.dataset.canAccessQaDashboard,n=!!e.dataset.isEducator,o=JSON.parse(e.dataset.coursesToHideTaxonomyLink);r.render(i.createElement(dr,{canUserAccessQADashboard:t,isEducator:n,coursesToHideTaxonomyLink:o}),e)})}]);if(typeof tracker==="undefined"){var tracker=new MixpanelEventTracking}if(window.jQuery){jQuery(document).ready(function(){jQuery(".ch-header_primary-subnav_list-item > a, .ch_subNav_panel a").on("click",function(event){var properties={};properties["Page Url"]=window.location.href;var title=jQuery(event.delegateTarget).text();if(title){properties["Title"]=title}tracker.track("Click Header Link",properties)})})}
//# sourceMappingURL=https://www.coursehero.com/sym-assets/js/bundle-be5101a-97dd878.js.map